/*!CK:4105106443!*//*1425268664,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Nj+Ud"]); }

__d("VideoEditEvent",[],function(a,b,c,d,e,f){e.exports={JS_LOADED:"js_loaded",PAGE_LOAD_STARTED:"page_loaded_started",PAGE_LOADED:"page_loaded",SAVE_ERROR:"save_error",SAVE_START:"save_start",PREFERRED_THUMBNAIL_CHANGE:"preferred_thumbnail_change",THUMBNAIL_CREATE_STARTED:"thumbnail_create_started",THUMBNAIL_CREATED:"thumbnail_created",SAVE_SUCCESS:"save_success",VIDEO_DELETE:"video_delete"};},null);
__d("AdsTypeahead.react",["AdsHelpLink.react","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","React","ReactChildren","SearchableEntry","XUICloseButton.react","XUITypeahead.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';var r=k,s=r.PropTypes,t=k.createClass({displayName:"AdsTypeahead",propTypes:{autoHighlight:s.bool,disabled:s.bool,errors:s.array,focusedOnInit:s.bool,onSelectAttempt:s.func,placeholder:s.string,searchSource:s.object.isRequired,selectedEntry:s.instanceOf(m)},getDefaultProps:function(){return {autoHighlight:true};},getInitialState:function(){var u=this.props.selectedEntry;return {queryString:this.props.selectedEntry?u.getTitle():'',focused:!!this.props.focusedOnInit};},componentWillReceiveProps:function(u){if('selectedEntry' in u)this.setState({queryString:u.selectedEntry?u.selectedEntry.getTitle():this.state.queryString});},focusInput:function(){this.setState({focused:true});this.refs.typeahead.focusInput();},render:function(){var u=null,v=null;if(this.props.selectedEntry){u=this.props.selectedEntry;v=this.props.selectedEntry.getPhoto();}var w=Array.isArray(this.props.errors)&&this.props.errors.length?k.createElement("span",{className:"_1fys"},k.createElement(h,{type:i.ERROR_WHITE,messages:this.props.errors})):null,x=q((("_1fyt")+(' '+"_1fyu")+(this.state.focused?' '+"_1fyv":'')+(!!w?' '+"_1fyw":'')),this.props.className),y=this.props.placeholder||'',z=!this.props.selectedEntry||!this.state.queryString,aa=!!this.state.queryString&&!this.props.selectedEntry,ba=null;if(this.props.tooltipHelpText)ba=k.createElement("span",{className:"_1fyx"},k.createElement(g,null,this._getTooltipHelpText()));return (k.createElement("div",{className:x,title:y},k.createElement("div",{className:(("_1fyy")+(!!w?' '+"_1fyz":''))},w,k.createElement("div",{className:((this.props.disabled?"_1fy-":'')+(' '+"_1fy_")+(!!u?' '+"_1fz0":'')+(!!ba?' '+"_1fz1":'')+(!!v?' '+"_1fz2":''))},v&&this._renderPhoto(v),u&&this._renderClearEntry(),!u&&ba,k.createElement(o,{autoHighlight:this.props.autoHighlight,disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onSelectAttempt:this._onSelectAttempt,placeholder:y,queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,selectOnBlur:aa,showEntriesOnFocus:z,viewStyle:"rich"}))),k.createElement("div",null,this.props.children)));},_renderPhoto:function(u){return (k.createElement(j,{className:"_1fz3",src:u,width:24,height:24,backgroundSize:"cover"}));},_renderClearEntry:function(){if(this.props.disabled)return null;return (k.createElement("div",{className:"_1fz4"},k.createElement(n,{onClick:this._onClearEntry})));},_getTooltipHelpText:function(){return l.map(this.props.tooltipHelpText,function(u,v){return k.createElement("p",{className:"_1fz5",key:v},u);});},_onChange:function(event){this.setState({queryString:event.target.value},this._didChange);},_didChange:function(){this.props.selectedEntry&&this.props.onSelectAttempt&&this.props.onSelectAttempt(null);},_onSelectAttempt:function(u){this.props.onSelectAttempt&&this.props.onSelectAttempt(u);},_onClearEntry:function(){this.setState({queryString:''},this._onClear);},_onClear:function(){this.refs.typeahead.focusInput();this.props.onSelectAttempt&&this.props.onSelectAttempt(null);},_onFocus:function(){this.setState({focused:true});},_onBlur:function(){this.setState({focused:false});}});e.exports=t;},null);
__d("XUIPagerButtons.react",["React","XUIButtonGroup.react","invariant"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"XUIPagerButtons",render:function(){i(this.props.children.length===2);return (g.createElement(h,g.__spread({},this.props),this.props.children));}});e.exports=j;},null);
__d("AdsPEVideoThumbnailPicker.react",["LeftRight.react","React","Image.react","XUIButton.react","XUIPagerButtons.react","XUIText.react","clamp","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q=h.createClass({displayName:"AdsPEVideoThumbnailPicker",propTypes:{thumbnails:h.PropTypes.arrayOf(h.PropTypes.shape({id:h.PropTypes.string,uri:h.PropTypes.string.isRequired})).isRequired,onChange:h.PropTypes.func.isRequired,children:h.PropTypes.element,index:h.PropTypes.number.isRequired,title:h.PropTypes.string},_prevImage:function(){this._setImageIndex(this.props.index-1);},_nextImage:function(){this._setImageIndex(this.props.index+1);},_setImageIndex:function(r){r=m(0,r,this.props.thumbnails.length-1);if(r!==this.props.index)this.props.onChange(r,this.props.thumbnails[r]);},render:function(){if(this.props.thumbnails.length===0)return null;var r=this.props.index,s=this.props.thumbnails[r].uri,t;if(this.props.children)t=(h.createElement("div",{className:"_w3"},this.props.children));return (h.createElement(g,{className:this.props.className,direction:g.DIRECTION.left},h.createElement("img",{className:"_w9",src:s,alt:this.props.title}),h.createElement("div",{className:"_wf"},h.createElement("div",{className:"_3-95"},h.createElement(k,null,h.createElement(j,{onClick:this._prevImage,image:h.createElement(i,{src:p('/images/ui/x/pager/left.png')}),type:"button"}),h.createElement(j,{onClick:this._nextImage,image:h.createElement(i,{src:p('/images/ui/x/pager/right.png')}),type:"button"})),h.createElement(l,{weight:"bold",className:"_3-9a"},o._("Thumbnail {selected thumbnail index} of {total number of thumbnails}",[o.param("selected thumbnail index",r+1),o.param("total number of thumbnails",this.props.thumbnails.length)]))),t)));}});e.exports=q;},null);
__d("FileInput.react",["FileInput","InlineBlock.react","React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=i.createClass({displayName:"FileInput",render:function(){return (i.createElement(h,{className:"_m",ref:"container"},this.props.children,i.createElement("input",i.__spread({},this.props,{type:"file",className:l(this.props.className,"_n"),ref:"fileInput"}),(void 0))));},componentDidMount:function(){var n=this.refs.fileInput.getDOMNode(),o=this.refs.container.getDOMNode(),p=o.firstChild;k(p.nodeName==='A');p.setAttribute('rel','ignore');this._fileInput=new g(o,p,n);},componentWillUnmount:function(){this._fileInput.destroy();this._fileInput=null;},getFileInput:function(){return this._fileInput;},focus:function(){var n=this.refs.fileInput.getDOMNode();if(!n.disabled)n.focus();}});e.exports=m;},null);
__d("BUIFormButton.react",["BUIForm.react","React","XUIButton.react","invariant"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=h.createClass({displayName:"BUIFormButton",propTypes:Object.assign({},i.propTypes,{density:g.propTypes.density}),render:function(){var l=this.props,m=l.density,n=(function(p,q){var r={},s=Object.prototype.hasOwnProperty;if(p==null)throw new TypeError();for(var t in p)if(s.call(p,t)&&!s.call(q,t))r[t]=p[t];return r;})(l,{density:1}),o;switch(m){case 'breathy':case 'svelt':o='xlarge';break;case 'snug':o='large';break;case 'taut':o='medium';break;default:j(true);}return (h.createElement(i,h.__spread({},n,{size:o})));}});e.exports=k;},null);
__d("BUIFormTextInput.react",["BUIForm.react","BUITextInput.react","React","invariant"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=i.createClass({displayName:"BUIFormTextInput",propTypes:Object.assign({},h.propTypes,{density:g.propTypes.density}),render:function(){var l=this.props,m=l.density,n=(function(p,q){var r={},s=Object.prototype.hasOwnProperty;if(p==null)throw new TypeError();for(var t in p)if(s.call(p,t)&&!s.call(q,t))r[t]=p[t];return r;})(l,{density:1}),o;switch(m){case 'breathy':case 'svelt':o='xtall';break;case 'snug':o='tall';break;case 'taut':o='short';break;default:j(true);}return (i.createElement(h,i.__spread({},n,{height:o})));}});e.exports=k;},null);
__d("Selector.react",["AbstractSelector.react","React","ReactMenu","PopoverButton.react"],function(a,b,c,d,e,f,g,h,i,j){var k=i.SelectableMenu,l=i.SelectableItem,m=h.createClass({displayName:"ReactSelector",render:function(){var n={button:h.createElement(j,{rel:"toggle",suppressed:this.props.suppressed}),menu:h.createElement(k,null)};return (h.createElement(g,h.__spread({},this.props,{overlappingborder:true,config:n}),this.props.children));}});m.Option=l;e.exports=m;},null);
__d("DocumentMentionsRegex",[],function(a,b,c,d,e,f){var g='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',h='\\b[A-Z][^\\s'+g+']',i={PUNCTUATION:g,NAME:h};e.exports=i;},null);
__d("AtSignMentionsStrategy",["DocumentMentionsRegex"],function(a,b,c,d,e,f,g){var h=g.PUNCTUATION,i=['@','\\uff20'].join(''),j='[^'+i+h+'\\s]',k='(?:'+'\\.[ |$]|'+' |'+'['+h+']|'+')',l=new RegExp('(?:^|\\s)('+'['+i+']'+'((?:'+j+k+'){0,20})'+')$'),m={findMentionableString:function(n){var o=l.exec(n);if(o!==null){var p=o[2];if(p.length)return {matchingString:p,leadOffset:o[1].length};}return null;}};e.exports=m;},null);
__d("DocumentCompositeMentionsSource",["emptyFunction","invariant"],function(a,b,c,d,e,f,g,h){"use strict";function i(l,m,n){var o=n;while(m[o-1]===null)o--;return l.slice(o,n);}function j(l,m){var n=l.getCharacterList().toSeq().slice(0,m).reverse().takeWhile(function(o){return o.getEntity()===null;}).count();return l.getText().slice(m-n,m);}function k(l){h(l.length>0);this.$DocumentCompositeMentionsSource0=l;this.$DocumentCompositeMentionsSource1=false;this.$DocumentCompositeMentionsSource2=null;}k.prototype.bootstrap=function(l){if(this.$DocumentCompositeMentionsSource1)return;this.$DocumentCompositeMentionsSource1=true;l=l||g;var m=this.$DocumentCompositeMentionsSource0.length;function n(){m--;if(!m)l();}this.$DocumentCompositeMentionsSource0.forEach(function(o){o.bootstrap(n);});};k.prototype.search=function(l,m,n){this.$DocumentCompositeMentionsSource3(i(l.getText(),l.getEntities(),m),n);};k.prototype.searchWithImmutables=function(l,m,n){var o=m.getAnchorKey(),p=l.getBlockForKey(o);this.$DocumentCompositeMentionsSource3(j(p,m.getAnchorOffset()),n);};k.prototype.$DocumentCompositeMentionsSource3=function(l,m){var n=this.$DocumentCompositeMentionsSource0.length,o,p;for(var q=0;q<n;q++){o=this.$DocumentCompositeMentionsSource0[q];p=o.findMatch(l);if(p===null)continue;var r=p.matchingString;this.$DocumentCompositeMentionsSource2=r;o.search(r,function(s,t){if(this.$DocumentCompositeMentionsSource2===t)m(s,p.leadOffset);}.bind(this));return;}this.$DocumentCompositeMentionsSource2=null;m(null,null);};e.exports=k;},null);
__d("DocumentMentionsSource",["invariant"],function(a,b,c,d,e,f,g){function h(i,j){"use strict";g(typeof i.findMentionableString==='function');this.$DocumentMentionsSource0=i;this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=false;}h.prototype.findMatch=function(i){"use strict";return this.$DocumentMentionsSource0.findMentionableString(i);};h.prototype.bootstrap=function(i){"use strict";if(!this.$DocumentMentionsSource2){this.$DocumentMentionsSource2=true;this.$DocumentMentionsSource1.bootstrap(i);}};h.prototype.search=function(i,j){"use strict";this.$DocumentMentionsSource1.search(i,j);};e.exports=h;},null);
__d("MentionsInputUtility",["ComposedEntityMutability","ComposedEntityType","DocumentEntity","createEditorStateWithEntities"],function(a,b,c,d,e,f,g,h,i,j){var k=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),l=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),m=function(o){var p=o.replace(l,'@[$1:$3]'),q=[],r;while(r=k.exec(p)){var s=r[2].replace(/\\:/g,':').replace(/\\]/g,']'),t={uid:r[1],text:s,offset:r.index,length:s.length,weakreference:false,entity:{uid:r[1],weakreference:false}};q.push(t);p=p.substr(0,t.offset)+t.text+p.substr(t.offset+r[0].length);k.lastIndex=t.offset+t.length;}return {text:p,ranges:q};},n=function(o,p){var q=this.parseTextWithMentions(o),r=q.text,s=q.ranges;return j({text:r,ranges:s,decorator:p,entityCreationFn:function(t){return i.create(h.MENTION,g.IMMUTABLE,{id:t.uid,isWeak:t.weakreference});},splitIntoBlocks:true,allowUndo:true});};e.exports={createFromTextWithMentions:n,parseTextWithMentions:m};},null);
__d("ProgressiveDateAndTimePicker.react",["InlineBlock.react","React","XUIProgressiveDatepicker.react","XUISelector.react","cx","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=j.Option,o=h.createClass({displayName:"ProgressiveDateAndTimePicker",propTypes:Object.assign({},i.propTypes,{initialHour:h.PropTypes.number,initialMinute:h.PropTypes.number}),getDefaultProps:function(){return {initialHour:-1,initialMinute:-1,maxTime:Date.now()/1000,minTime:(new Date(1906,0,0,0,0)).getTime()/1000};},getInitialState:function(){return {datePickerResult:{year:this.props.initialYear,month:this.props.initialMonth,day:this.props.initialDay},hour:this.props.initialHour,minute:this.props.initialMinute};},onDateChange:function(p){this.setState({datePickerResult:p},this.onDateAndTimeChange);},onDateAndTimeChange:function(){if(!this.props.onDateAndTimeChange)return;var p=this.state.datePickerResult,q=Object.assign({},p,{hour:this.state.hour,minute:this.state.minute});this.props.onDateAndTimeChange(q);},onHourChange:function(event){this.onSelectorChange(event,'hour');},onMinuteChange:function(event){this.onSelectorChange(event,'minute');},onSelectorChange:function(event,p){var q=(event.target)?event.target.value:event.value,r={};r[p]=q;this.setState(r,this.onDateAndTimeChange);},render:function(){var p,q;if(this.state.datePickerResult.day){var r=[h.createElement(n,{key:-1,value:-1},"Hour:")];for(var s=0;s<24;s++){var t=new Date();t.setHours(s);var u=m(t,'g A');r.push(h.createElement(n,{key:s,value:s},u));}p=h.createElement(j,{className:"_5vu1",disabled:!this.state.datePickerResult.day,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+'_hour',onChange:this.onHourChange,value:this.state.hour},r);}if(this.state.hour!=-1){var v=[h.createElement(n,{key:-1,value:-1},"Minute:")];for(s=0;s<60;s+=10){var w='00';if(s>0)w=s;v.push(h.createElement(n,{key:s,value:s},w));}q=h.createElement(j,{className:"_5vu1",disabled:this.state.hour==-1,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+'_minute',onChange:this.onMinuteChange,value:this.state.minute},v);}return (h.createElement(g,{className:this.props.className},h.createElement(i,h.__spread({},this.props,{onDateChange:this.onDateChange})),p,q));}});e.exports=o;},null);
__d("VideoMultiCaptionDefaultSelector.react",["HelpLink.react","React","Selector.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){var l=i.Option,m='video_multi_captions_default_selector_';function n(p){return m+p;}var o=h.createClass({displayName:"VideoMultiCaptionDefaultSelector",propTypes:{defaultLocale:h.PropTypes.string,locales:h.PropTypes.array.isRequired,localesMap:h.PropTypes.object.isRequired},render:function(){var p=this.props.defaultLocale?this.props.defaultLocale:'none',q=(h.createElement(l,{value:'none'},"None")),r=this.props.locales.map(function(t){return (h.createElement(l,{value:t,key:n(t)},this.props.localesMap[t],": ",t));},this),s=("The language will only appear on videos that don't have your preferred caption language available.");return (h.createElement("div",{className:"_3-8n _3eab"},"Backup Language",h.createElement(g,{tooltip:s,alignv:"bottom"}),h.createElement("div",null,h.createElement(i,{name:"default_captions_locale",defaultValue:p},q,r))));}});e.exports=o;},null);
__d("VideoRemovableUploadedCaption.react",["CloseButton.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){function k(m){return 'remove_caption['+m+']';}var l=h.createClass({displayName:"VideoRemovableUploadedCaption",propTypes:{deletekey:h.PropTypes.number.isRequired,locale:h.PropTypes.string.isRequired,localeName:h.PropTypes.string.isRequired},getInitialState:function(){return {removed:false};},render:function(){return (h.createElement("div",{className:"_2phz _4dez"},this.renderRemovableCaption()));},renderRemovableCaption:function(){var m=this.props.locale,n=this.props.localeName;if(this.state.removed)return (h.createElement("div",null,j._("Delete {locale}.",[j.param("locale",m)]),' ',h.createElement("a",{href:"#",onClick:this._handleUndoRemove},"Undo"),h.createElement("input",{name:k(this.props.deletekey),type:"hidden",value:m})));return (h.createElement("div",null,h.createElement("span",{className:"_4de-"},n,": ",m),h.createElement(g,{"aria-labelledby":"metadata_caption_remove",className:"_3-99 _4de-",onClick:this._handleRemove,size:"small"})));},_handleRemove:function(){this.setState({removed:true});},_handleUndoRemove:function(){this.setState({removed:false});}});e.exports=l;},null);
__d("VideoMultiCaptionList.react",["React","VideoRemovableUploadedCaption.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){var k='video_multi_captions_locale_field_';function l(n){return k+n;}var m=g.createClass({displayName:"VideoMultiCaptionList",propTypes:{initialLocales:g.PropTypes.array.isRequired,localesMap:g.PropTypes.object.isRequired},render:function(){if(this.props.initialLocales.length>0)return (g.createElement("div",{className:"_3-8m"},g.createElement("div",{className:"_439x _3-93 _3-8m"},this.renderList())));return (g.createElement("div",{className:"_3-8w"},"No captions exist yet"));},renderList:function(){var n=this.props.initialLocales.map(function(o){return (g.createElement(h,{deletekey:this.props.initialLocales.indexOf(o),key:l(o),locale:o,localeName:this.props.localesMap[o]}));},this);return n;}});e.exports=m;},null);
__d("VideoMultiCaptionUploaderList.react",["HelpLink.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){var k='captions_file',l=h.createClass({displayName:"VideoMultiCaptionUploaderList",render:function(){var m=("Valid SRT files must be used for captions. To replace an SRT file that is already being used for a locale, you must delete the old one first before uploading a new one.");return (h.createElement("div",{className:"_3-8n _15z_"},"Upload SRT files",h.createElement(g,{tooltip:m,alignv:"bottom"}),h.createElement("input",{"aria-labelledby":"metadata_caption",type:"file",name:k})));}});e.exports=l;},null);
__d("VideoMultiCaptionFileInput.react",["React","VideoMultiCaptionDefaultSelector.react","VideoMultiCaptionList.react","VideoMultiCaptionUploaderList.react"],function(a,b,c,d,e,f,g,h,i,j){var k=g.createClass({displayName:"VideoMultiCaptionFileInput",propTypes:{defaultLocale:g.PropTypes.string,initialLocales:g.PropTypes.array.isRequired,localesMap:g.PropTypes.object.isRequired},render:function(){var l=null;if(this.props.initialLocales.length)l=(g.createElement(h,{defaultLocale:this.props.defaultLocale,locales:this.props.initialLocales,localesMap:this.props.localesMap}));return (g.createElement("div",null,g.createElement(i,{initialLocales:this.props.initialLocales,localesMap:this.props.localesMap}),l,g.createElement(j,null)));}});e.exports=k;},null);
__d("VideoEditCaptions.react",["React","VideoMultiCaptionFileInput.react"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"VideoEditCaptions",propTypes:{captions:g.PropTypes.object},getDefaultProps:function(){return {captions:[]};},render:function(){var j=this.props.captions,k,l=[],m={};for(var n in j){var o=j[n];if(o.is_default)k=o.locale;l.push(o.locale);m[o.locale]=o.locale_name;}return (g.createElement("div",{className:this.props.className},g.createElement(h,{defaultLocale:k,initialLocales:l,localesMap:m})));}});e.exports=i;},null);
__d("VideoEditLogger",["BanzaiLogger"],function(a,b,c,d,e,f,g){var h={logEvent:function(i,j){g.log('VideoEditLoggerConfig',{event:i,video_id:parseInt(j,10)});}};e.exports=h;},null);
__d("VideoEditMentionsTextArea.react",["AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","MentionsInput.Experimental.react","MentionsInputUtility","MentionsInputTypeaheadView.react","React","createEmptyEditorState","cx","joinClasses","getMentionsInputDecorator"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=m.createClass({displayName:"VideoEditMentionsTextArea",getInitialState:function(){var s=new i(g,this.props.searchSource),t=new h([s]),u=this.props.textWithMentions,v;if(this.props.editorState){v=this.props.editorState;}else if(u){v=k.createFromTextWithMentions(u,q());}else v=n(q());return {compositeMentionsSource:t,editorState:v};},_onChange:function(s){this.setState({editorState:s});this.props.onChange(s);},render:function(){var s=p("_2oc3",this.props.className);return (m.createElement(j,{className:s,editorState:this.state.editorState,mentionsSource:this.state.compositeMentionsSource,placeholder:this.props.placeholder,typeaheadView:l,typeaheadViewProps:{},onChange:this._onChange}));}});e.exports=r;},null);
__d("VideoEditTokenizer.react",["React","XUITokenizer.react"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"VideoEditTokenizer",propTypes:{onTagsChange:g.PropTypes.func.isRequired},onAddTagAttempt:function(j){var k=this.props.entries||[],l=k.indexOf(j);if(l>=0)return;k.push(j);this.props.onTagsChange(k);},onRemoveTagAttempt:function(j){var k=this.props.entries||[],l=k.indexOf(j);if(l>=0)k.splice(l,1);this.props.onTagsChange(k);},render:function(){return (g.createElement(h,g.__spread({},this.props,{onAddEntryAttempt:this.onAddTagAttempt,onRemoveEntryAttempt:this.onRemoveTagAttempt})));}});e.exports=i;},null);
__d("VideoThumbnailPicker.react",["AdsPEVideoThumbnailPicker.react","BUIFormButton.react","FileInput.react","Grid.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n=j.GridItem,o=k.createClass({displayName:"VideoThumbnailPicker",propTypes:{thumbnails:k.PropTypes.arrayOf(k.PropTypes.shape({id:k.PropTypes.string,uri:k.PropTypes.string.isRequired})).isRequired,onPickerChange:k.PropTypes.func.isRequired,index:k.PropTypes.number.isRequired,allowCustomThumbnails:k.PropTypes.bool.isRequired,onFileInputChange:k.PropTypes.func},render:function(){var p=k.createElement(g,{thumbnails:this.props.thumbnails,onChange:this.props.onPickerChange,index:this.props.index,title:"Choose a Thumbnail"}),q;if(this.props.allowCustomThumbnails){q=(k.createElement(i,{accept:"image/*",name:"custom_thumbnail",onChange:this.props.onFileInputChange},k.createElement(h,{href:{url:'#'},label:"Add Custom Thumbnail"})));}else q=k.createElement("div",null);return (k.createElement(j,{cols:2,spacing:"prl"},k.createElement(n,null,p),k.createElement(n,null,k.createElement("div",{className:"_5nd2"},q))));}});e.exports=o;},null);
__d("VideoEditForm.react",["AdsTypeahead.react","BUIForm.react","BUIFormButton.react","BUIFormTextInput.react","DOMContainer.react","InlineBlock.react","InputLabel.react","ProgressiveDateAndTimePicker.react","React","SearchableEntry","VideoEditCaptions.react","VideoEditEvent","VideoEditLogger","VideoEditMentionsTextArea.react","VideoEditTokenizer.react","VideoThumbnailPicker.react","XUICheckboxInput.react","XUINotice.react","cx","fbt","getMentionsTextForContentState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba=h.Element,ca=h.Section,da=a.webkitURL||a.URL||{},ea=o.createClass({displayName:"VideoEditForm",propTypes:{allowCustomThumbnails:o.PropTypes.bool,canBackdate:o.PropTypes.bool,canFeature:o.PropTypes.bool,canPreview:o.PropTypes.bool,canTag:o.PropTypes.bool,captions:o.PropTypes.object,deleteDialogURI:o.PropTypes.object,description:o.PropTypes.string,error:o.PropTypes.object,isEncoding:o.PropTypes.bool,locationEntry:o.PropTypes.object,mentionsSearchSource:o.PropTypes.object,notifyWhenProcessed:o.PropTypes.bool,placesSearchSource:o.PropTypes.object,preferredThumbnailIndex:o.PropTypes.number,previewMarkup:o.PropTypes.object,privacySelector:o.PropTypes.object,privacyDescription:o.PropTypes.string,showCaptions:o.PropTypes.bool,tags:o.PropTypes.array,tagsSearchSource:o.PropTypes.object,thumbnails:o.PropTypes.array,title:o.PropTypes.string,videoID:o.PropTypes.string,videoPermalink:o.PropTypes.string},componentDidMount:function(){s.logEvent(r.JS_LOADED,this.props.videoID);},getInitialState:function(){return {editorStateContent:this.props.description,locationEntry:this.props.locationEntry?new p(this.props.locationEntry):null,tags:this.props.tags||[],title:this.props.title,thumbnails:this.props.thumbnails,thumbnailIndex:this.props.preferredThumbnailIndex-1};},onTitleChange:function(event){this.setState({title:event.target.value});},onDescriptionChange:function(fa){this.setState({editorState:fa,editorStateContent:aa(fa.getCurrentContent())});},onLocationSelectAtempt:function(fa){this.setState({locationEntry:fa});},getDateTimeKey:function(fa){return 'initial'+fa.charAt(0).toUpperCase()+fa.slice(1);},onTagsChange:function(fa){this.setState({tags:fa});},onThumbnailPickerChange:function(fa){this.setState({thumbnailIndex:fa});},onThumbnailImageChange:function(event){if(typeof da.createObjectURL!=='function')return;var fa,ga;if(event.target.files.length===0){fa=this.props.thumbnails;ga=(this.state.thumbnailIndex>=fa.length)?fa.length-1:this.state.thumbnailIndex;}else{fa=this.props.thumbnails.concat([{uri:da.createObjectURL(event.target.files[0])}]);ga=fa.length-1;}this.setState({thumbnails:fa,thumbnailIndex:ga});},renderTaggerSection:function(){var fa=this.state.tags.map(function(ha){return ha.getUniqueID();}),ga=fa.join(',');return (o.createElement(ca,{key:"taggerSection"},o.createElement(ba,{label:"In this video",infoText:"Tag people who appear in this video."},o.createElement(u,{className:"_2dlh",entries:this.state.tags,onTagsChange:this.onTagsChange,searchSource:this.props.tagsSearchSource}),o.createElement("input",{type:"hidden",name:"tags",value:ga}))));},getPlaceInputKeyAndValue:function(){var fa=this.state.locationEntry,ga='place_id',ha=fa?fa.getUniqueID():null;if(fa&&!ha){ga='place_name';ha=fa.getTitle();}return {key:ga,value:ha};},renderDetailsSection:function(){var fa=this.getPlaceInputKeyAndValue();return (o.createElement(ca,{key:"detailsSection"},o.createElement(ba,{label:"Title"},o.createElement(j,{className:"_2dli",onChange:this.onTitleChange,value:this.state.title,name:"title"})),this.renderThumbnailsFormElement(),o.createElement(ba,{label:"Where"},o.createElement(g,{className:"_32bi",autoHighlight:false,placeholder:"Where was this video taken?",selectedEntry:this.state.locationEntry,onSelectAttempt:this.onLocationSelectAtempt,searchSource:this.props.placesSearchSource}),o.createElement("input",{type:"hidden",name:fa.key,value:fa.value})),this.renderBackdateFormElement(),o.createElement(ba,{label:"Description"},o.createElement(t,{searchSource:this.props.mentionsSearchSource,className:"_3smg",editorState:this.state.editorState,textWithMentions:this.props.description,onChange:this.onDescriptionChange}),o.createElement("input",{type:"hidden",name:"description",value:this.state.editorStateContent})),this.renderCaptionsFormElement(),o.createElement(ba,{label:"Privacy",infoText:this.props.privacyDescription},o.createElement(l,{className:"_32bj"},o.createElement(k,null,this.props.privacySelector)))));},renderBackdateFormElement:function(){if(!this.props.canBackdate)return o.createElement("div",null);var fa={};for(var ga in this.props.backdatedTime){var ha=this.getDateTimeKey(ga);fa[ha]=parseInt(this.props.backdatedTime[ga],10);}return (o.createElement(ba,{label:"When"},o.createElement(n,o.__spread({className:"_32bj"},fa,{inputPrefix:"backtime",descendingYears:true}))));},renderCaptionsFormElement:function(){if(!this.props.showCaptions)return o.createElement("div",null);return (o.createElement(ba,{label:"Captions",infoText:"Upload your .SRT caption file using this format: filename.en_US.srt"},o.createElement(q,{className:"_2dlj",captions:this.props.captions})));},renderThumbnailsFormElement:function(){if(this.props.isEncoding||this.state.thumbnails.length===0)return o.createElement("div",null);var fa=o.createElement(v,{thumbnails:this.state.thumbnails,onPickerChange:this.onThumbnailPickerChange,index:this.state.thumbnailIndex,allowCustomThumbnails:this.props.allowCustomThumbnails,onFileInputChange:this.onThumbnailImageChange});return (o.createElement(ba,{className:"_1q0n",label:"Thumbnail"},fa,o.createElement("input",{type:"hidden",name:"preferred_thumbnail_index",value:this.state.thumbnailIndex+1})));},renderActionsSection:function(){return (o.createElement(ca,{key:"actionsSection"},o.createElement("div",{className:"_59__ mvl"},o.createElement(i,{href:this.props.videoPermalink,label:"Cancel"}),o.createElement(i,{href:this.props.deleteDialogURI,label:"Delete",rel:"dialog"}),o.createElement(i,{label:"Save",use:"confirm"}))));},renderError:function(){if(!this.props.error)return null;return (o.createElement(x,{use:"warn"},o.createElement(k,null,this.props.error)));},renderEncodingNotice:function(){if(!this.props.isEncoding)return null;return (o.createElement(x,{use:"notify"},o.createElement("h1",null,"This video is currently processing"),"You can edit its details here, but you won't be able to choose a thumbnail until processing is complete.",o.createElement(m,null,o.createElement(w,{name:"alert_when_done",defaultChecked:this.props.notifyWhenProcessed}),o.createElement("label",null,"Notify me when my video is done processing"))));},renderPreviewSection:function(){var fa=this.props.canFeature?'':"Trailer",ga=this.props.canFeature?null:"Mark this video as a trailer to have it show up as a preview for your page in various places on Facebook. You can only have one video marked as a trailer at a time.";return (o.createElement(ca,{key:"previewSection"},o.createElement(ba,{label:fa,infoText:ga},o.createElement(k,null,this.props.previewMarkup))));},render:function(){var fa=[];if(this.props.canTag)fa.push(this.renderTaggerSection());fa.push(this.renderDetailsSection());if(this.props.canFeature||this.props.canPreview)fa.push(this.renderPreviewSection());fa.push(this.renderActionsSection());return (o.createElement("div",null,this.renderError(),this.renderEncodingNotice(),o.createElement(h,{className:"_3slc"},fa)));}});e.exports=ea;},null);
__d("XDeveloperTasksDetailController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/bugs\/{task_id}\/",{task_id:{type:"Int",required:true},comment_id:{type:"Int"},search_id:{type:"String"}});},null);