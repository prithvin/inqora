/*!CK:1848733497!*//*1425267833,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["nkl\/B"]); }

__d("ExpirationType",[],function(a,b,c,d,e,f){e.exports={DELETE:1,HIDE:2};},null);
__d("TimelineInfoReviewParam",[],function(a,b,c,d,e,f){e.exports={ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",DISPLAY_NAME:"is_display_name",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",MLE_TYPES:"valid_mle_types",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"};},null);
__d("BoostedWebsitePagesManagerPromotionButton",["Arbiter","ArbiterMixin","BoostedPagelikeConstants","BoostedActionType","CSS","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=l(h);for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(q,r,s,t,u){"use strict";this.$BoostedWebsitePagesManagerPromotionButton0=q;this.$BoostedWebsitePagesManagerPromotionButton1=r;this.$BoostedWebsitePagesManagerPromotionButton2=s;this.$BoostedWebsitePagesManagerPromotionButton3=t;this.$BoostedWebsitePagesManagerPromotionButton4=u;this.$BoostedWebsitePagesManagerPromotionButton5();}p.prototype.$BoostedWebsitePagesManagerPromotionButton5=function(){"use strict";g.subscribe(i.PANEL_STATUS_CHANGE_FINISH,function(q,r){if(r.action_type===j.WEBSITE)if(this.$BoostedWebsitePagesManagerPromotionButton2!==r.active){this.$BoostedWebsitePagesManagerPromotionButton2=r.active;this.$BoostedWebsitePagesManagerPromotionButton7();}}.bind(this));};p.prototype.$BoostedWebsitePagesManagerPromotionButton7=function(){"use strict";if(this.$BoostedWebsitePagesManagerPromotionButton2){k.hide(this.$BoostedWebsitePagesManagerPromotionButton3);k.show(this.$BoostedWebsitePagesManagerPromotionButton4);}else{k.show(this.$BoostedWebsitePagesManagerPromotionButton3);k.hide(this.$BoostedWebsitePagesManagerPromotionButton4);}};e.exports=p;},null);
__d("AbstractCheckboxInput.react",["React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=g.createClass({displayName:"AbstractCheckboxInput",propTypes:{tooltip:g.PropTypes.string},render:function(){i(!this.props.children||this.props.children.length===0);var l=j(this.props.className,"_kv1"),m=g.createElement("input",g.__spread({},this.props,{className:null,type:"checkbox"}),undefined);return (g.createElement("label",{className:l},m,g.createElement("span",{"data-hover":this.props.tooltip?'tooltip':null,"aria-label":this.props.tooltip})));}});e.exports=k;},null);
__d("FBToggleSwitch.react",["AbstractCheckboxInput.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=h.createClass({displayName:"FBToggleSwitch",propTypes:{animate:h.PropTypes.bool,indeterminate:h.PropTypes.bool,onToggle:h.PropTypes.func,disabled:h.PropTypes.bool,tooltip:h.PropTypes.string},render:function(){var l=(("_ypo")+(this.props.animate?' '+"_ypp":'')+(this.props.disabled?' '+"_ypq":'')),m,n;if(this.props.indeterminate){n=this.props.checked;}else m=this.props.checked;return (h.createElement(g,h.__spread({},this.props,{checked:m,className:j(this.props.className,l),defaultChecked:n,onChange:this._onChange}),(void 0)));},_onChange:function(l){if(this.props.onToggle&&!this.props.disabled)this.props.onToggle(l.target.checked);}});e.exports=k;},null);
__d("CalendarUtils",["DateConsts"],function(a,b,c,d,e,f,g){function h(j,k,l,m){var n=[],o=m.order;for(var p=0;p<3;++p)if(o[p]==='d'){n.push(j);}else if(o[p]==='m'){n.push(k);}else n.push(l);return n.join(m.separator);}var i={placeholderDateString:function(j){return h(g.DATE_PLACEHOLDER,g.MONTH_PLACEHOLDER,g.YEAR_PLACEHOLDER,j);},dateToString:function(j,k){return h(j.getDate(),j.getMonth()+1,j.getFullYear(),k);},utcDateToString:function(j,k){return h(j.getUTCDate(),j.getUTCMonth()+1,j.getUTCFullYear(),k);},stringToDate:function(j,k){var l,m,n,o=j.split(/[/.,\s-]+/);if(o.length<3)return false;for(var p=0;p<3;++p){var q=o.shift();if(k[p]==='d'){l=parseInt(q,10);if(isNaN(l)||l<1)return false;}else if(k[p]==='m'){m=parseInt(q,10)-1;if(isNaN(m)||m<0||m>11)return false;}else{n=parseInt(q,10);if(n<100&&n>=0&&q.length==2){var r=(new Date()).getFullYear();if(Math.abs(r/100-n)>=2){var s=n+Math.floor(r/100)*100;n=s>r+4?s-100:s;}}if(isNaN(n)||n<1000)return false;}}if(new Date(n,m+1,0).getDate()<l)return false;return new Date(n,m,l);}};e.exports=i;},null);
__d("DatePickerInput.react",["CalendarUtils","DateFormatConfig","DatePickerRestraints","InputSelection","Keys","React","ReactComponentWithPureRenderMixin","UTCUtils","cloneWithProps","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';var s=l,t=s.PropTypes,u={order:h.numericDateOrder,separator:h.numericDateSeparator};function v(y){var z=/[1-9]{1}[0-9]*/g,aa,ba={},ca=0;while(aa=z.exec(y)){ba[u.order[ca]]=aa;ca++;}return ba;}function w(y){if(!y)return '';return g.utcDateToString(new Date(y),u);}var x=l.createClass({displayName:"DatePickerInput",mixins:[m],propTypes:{dateRestraints:t.arrayOf(t.func),icon:t.element,name:t.string,onBlur:t.func,onChange:t.func,onDateRemoved:t.func,onFocus:t.func,onInvalidDateSelected:t.func,placeholder:t.string,selectTime:t.number},getDefaultProps:function(){return {onBlur:q,onChange:q,onDateRemoved:q,onFocus:q,onInvalidDateSelected:q,placeholder:g.placeholderDateString(u)};},getInitialState:function(){return {inputValue:w(this.props.selectTime)};},componentWillReceiveProps:function(y){if(this.props.selectTime||y.selectTime)this.setState({inputValue:w(y.selectTime)});},componentDidUpdate:function(){if(this.refs.inputBox&&this.state.inputValue&&this._partName){var y=v(this.state.inputValue),z=y[this._partName];j.set(this.refs.inputBox.getDOMNode(),z.index,z.index+z[0].length);}delete this._partName;},onChange:function(event){var y=event.target.value;if(y){var z=g.stringToDate(y,u.order),aa=false;if(z){aa=i.isValidDate(z,this.props.dateRestraints);var ba=new Date(n.dateToUTC(z));if(aa){this.props.onChange(ba);}else this.props.onInvalidDateSelected(ba);}}else this.props.onDateRemoved();if(!z||!aa)this.setState({inputValue:y});},onIconClick:function(event){this.refs.inputBox.getDOMNode().focus();},onKeyDown:function(event){var y=event.keyCode;if(y==k.RETURN){event.preventDefault();this.props.onBlur();return;}if(y===k.TAB){this.props.onBlur();return;}if(y==k.UP||y==k.DOWN){event.preventDefault();var z=y==k.UP?1:-1,aa=event.target,ba=j.get(aa),ca=v(aa.value),da=new Date(this.props.selectTime);for(var ea in ca){var fa=ca[ea],ga=fa.index+fa[0].length;if(ba.start>=fa.index&&ba.start<=ga){switch(ea){case 'm':da.setMonth(da.getMonth()+z);break;case 'd':da.setDate(da.getDate()+z);break;case 'y':da.setFullYear(da.getFullYear()+z);break;}break;}}if(i.isValidDate(da,this.props.dateRestraints)){this._partName=ea;this.props.onChange(da);}}},onKeyUp:function(event){var y=event.keyCode;if(y==k.UP||y==k.DOWN)event.preventDefault();if(y==k.ESC)this.props.onBlur();},render:function(){var y=this.props,z=y.icon,aa=y.selectTime,ba=aa?n.dateToUTCDate(new Date(aa)).getTime():'';if(z)z=o(z,{className:"_3smn",onClick:this.onIconClick});var ca=r(this.props.className,"_3smo");return (l.createElement("span",{className:ca},z,l.createElement("input",{ref:"inputBox",className:"_3smp",type:"text",placeholder:this.props.placeholder,value:this.state.inputValue,onChange:this.onChange,onFocus:this.props.onFocus,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}),l.createElement("input",{type:"hidden",name:this.props.name,value:ba})));}});e.exports=x;},null);
__d("XUIMonthPagerCalendar.react",["React","Image.react","UTCUtils","XUICalendar.react","cx","fbt","formatDate","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=g,q=p.PropTypes,r=g.createClass({displayName:"XUIMonthPagerCalendar",propTypes:{dateRestraints:q.array,focusTime:q.number.isRequired,selectTime:q.number,allowVariableRowCount:q.bool,highlightedTimes:q.array,onFocusDateChange:q.instanceOf(Function).isRequired,onSelectDateChange:q.instanceOf(Function).isRequired,dayInnerFormatter:q.func},pageByMonthDelta:function(s){var t=new Date(this.props.focusTime);t.setUTCDate(1);t.setUTCMonth(t.getUTCMonth()+s);this.props.onFocusDateChange(t);},onPagerPrev:function(){this.pageByMonthDelta(-1);},onPagerNext:function(){this.pageByMonthDelta(1);},render:function(){var s=this.props,t=i.dateToUTCDate(new Date(s.focusTime)),u=l._("{month} {year}",[l.param("month",m(t,'F',{skipPatternLocalization:true})),l.param("year",t.getUTCFullYear())]);return (g.createElement("div",g.__spread({},this.props,{className:o(this.props.className,"_5hpp")}),g.createElement("div",{className:"_5hpq"},g.createElement("h2",{className:"_5hpr _c24"},u),g.createElement("button",{className:"_5hps _5hpt",onClick:this.onPagerPrev},g.createElement(h,{src:n('/images/deprecated/glyphs/dark/triangle-left_s.png'),alt:"Previous month"})),g.createElement("button",{className:"_5hps _5hpu",onClick:this.onPagerNext},g.createElement(h,{src:n('/images/deprecated/glyphs/dark/triangle-right_s.png'),alt:"Next month"}))),g.createElement(j,{dateRestraints:s.dateRestraints,focusTime:s.focusTime,selectTime:s.selectTime,highlightedTimes:s.highlightedTimes,allowVariableRowCount:s.allowVariableRowCount,onFocusDateChange:s.onFocusDateChange,onSelectDateChange:s.onSelectDateChange,dayInnerFormatter:s.dayInnerFormatter})));}});e.exports=r;},null);
__d("XUICheckboxInput.react",["AbstractCheckboxInput.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=h.createClass({displayName:"XUICheckboxInput",render:function(){return (h.createElement(g,h.__spread({},this.props,{className:j(this.props.className,"_55sg")}),(void 0)));}});e.exports=k;},null);
__d("XUIDatePicker.react",["CalendarUtils","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","DateFormatConfig","DatePickerInput.react","DatePickerRestraints","LayerTogglerContext","React","Image.react","ReactLayeredComponentMixin","Toggler","UTCUtils","XUICard.react","XUICalendar.react","XUIMonthPagerCalendar.react","cx","emptyFunction","invariant","ix","joinClasses","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca={ContextualLayerAutoFlip:i,ContextualLayerUpdateOnScroll:j,LayerTogglerContext:n},da={order:k.numericDateOrder,separator:k.numericDateSeparator};function ea(ja){var ka=new Date();if(ja){ka.setTime(ja);}else{var la=s.dateToUTC(ka);ka.setTime(la);}return u.normalizeDate(ka).getTime();}function fa(ja){var ka=/^\d{4}-\d{2}-\d{2}$/.test(ja);y(ka);var la=Date.parse(ja);y(la);return la;}function ga(ja){y(!ja.initialDate||!ja.initialTime);return ja.initialDate?fa(ja.initialDate):ja.initialTime;}function ha(ja,ka){var la=ga(ja);if(!ka&&ja.initialFocusTime)la=ja.initialFocusTime;return ea(la);}var ia=o.createClass({displayName:"XUIDatePicker",mixins:[q],propTypes:{name:o.PropTypes.string,initialDate:o.PropTypes.string,initialTime:o.PropTypes.number,initialFocusTime:o.PropTypes.number,shouldSetDefaultDate:o.PropTypes.bool,earliestDate:o.PropTypes.number,latestDate:o.PropTypes.number,dateRestraints:o.PropTypes.array,highlightedTimes:o.PropTypes.array,onCalendarSelectDateChange:o.PropTypes.func,onInvalidDateSelected:o.PropTypes.func,onDateRemoved:o.PropTypes.func,icon:o.PropTypes.element,placeholder:o.PropTypes.string,dayInnerFormatter:o.PropTypes.func,calendar:o.PropTypes.func,calendarProps:o.PropTypes.object,behaviors:o.PropTypes.object},getDefaultProps:function(){return {shouldSetDefaultDate:true,onCalendarSelectDateChange:x,onInvalidDateSelected:x,onDateRemoved:x,placeholder:g.placeholderDateString(da),calendar:v,icon:o.createElement(p,{src:z('/images/calendar/calendar_icon.png')})};},togglerSub:null,getInitialState:function(){return ba(this._calculateState(this.props),{showLayer:false});},componentWillReceiveProps:function(ja){this.setState(this._calculateState(ja));},_calculateState:function(ja){var ka=ga(ja),la=ea(ka),ma={selectTime:this.props.shouldSetDefaultDate||ka?la:null};if(!this.state||!this.state.selectTime||la!==this.state.selectTime)ma.focusTime=ha(ja,this.state);return ma;},componentWillUnmount:function(){this.removeSubscriptions();},removeSubscriptions:function(){this.togglerSub&&this.togglerSub.unsubscribe();this.togglerSub=null;},renderLayers:function(){if(!this.state.showLayer)return {};var ja=this.props.calendar;return {layer:o.createElement(h,{contextRef:"inputBox",position:"below",offsetY:3,behaviors:this._getBehaviors(),shown:this.state.showLayer},o.createElement(t,{className:"_5c6i"},o.createElement(ja,o.__spread({},this.props.calendarProps,{highlightedTimes:this.props.highlightedTimes,dateRestraints:this._getDateRestraintsFromProps(this.props),focusTime:this.state.focusTime,selectTime:this.state.selectTime,onFocusDateChange:this.onCalendarFocusDateChange,onSelectDateChange:function(ka){this.onCalendarSelectDateChange(ka);this._hide();}.bind(this),dayInnerFormatter:this.props.dayInnerFormatter}))))};},_getBehaviors:function(){return Object.assign({},ca,this.props.behaviors);},_hide:function(){r.hide(this.getDOMNode());},onCalendarFocusDateChange:function(ja){this.setState({focusTime:ja.getTime()});},onCalendarSelectDateChange:function(ja){this.setState({focusTime:ja.getTime(),selectTime:ja.getTime()});this.props.onCalendarSelectDateChange(ja);},onDateRemoved:function(){this.setState({selectTime:null});this.props.onDateRemoved();},onInvalidDateSelected:function(ja){this.setState({selectTime:null});this.props.onInvalidDateSelected(ja);},onTogglerShowOrHide:function(ja,ka){if(ka.active===this.getDOMNode())if(ja=='show'){this.setState({showLayer:true});}else{this.removeSubscriptions();this.setState({showLayer:false});}},onInputFocus:function(){this.removeSubscriptions();this.togglerSub=r.subscribe(['show','hide'],this.onTogglerShowOrHide);r.show(this.getDOMNode());},_getDateRestraintsFromProps:function(ja){if(ja.dateRestraints)return ja.dateRestraints;var ka=[];if(ja.earliestDate)ka.push(m.enforceDateIsNoEarlierThan(new Date(ja.earliestDate*1000)));if(ja.latestDate)ka.push(m.enforceDateIsNoLaterThan(new Date(ja.latestDate*1000)));return ka;},render:function(){return (o.createElement(l,o.__spread({},this.props,{className:aa(this.props.className,"_5c6j"),dateRestraints:this._getDateRestraintsFromProps(this.props),icon:this.props.icon,name:this.props.name,onBlur:this._hide,onChange:this.onCalendarSelectDateChange,onDateRemoved:this.onDateRemoved,onFocus:this.onInputFocus,onInvalidDateSelected:this.onInvalidDateSelected,placeholder:this.props.placeholder,ref:"inputBox",selectTime:this.state.selectTime})));}});e.exports=ia;},null);
__d("ProgressiveDatepickerMixin",["DateConsts","TimelineInfoReviewParam","React"],function(a,b,c,d,e,f,g,h,i){var j={propTypes:{descendingYears:i.PropTypes.bool,initialDay:function(k,l,m){var n=k.initialYear,o=k.initialMonth,p=k.initialDay;if(!p)return;var q=o&&n&&p<=g.getDaysInMonth(n,o);if(!q)return new Error('A valid initialYear and initialMonth must be provided if '+'initialDay is set.');return i.PropTypes.number.call(this,k,l,m);},initialMonth:function(k,l,m){if(k.initialMonth&&!k.initialYear)return new Error('A valid initialYear must be provided if initialMonth is set.');return i.PropTypes.number.call(this,k,l,m);},initialYear:i.PropTypes.number,inputPrefix:i.PropTypes.string,maxTime:i.PropTypes.number.isRequired,minTime:i.PropTypes.number.isRequired,minTimeUnit:i.PropTypes.oneOf(['day','month','year']),onDateChange:i.PropTypes.func},getDefaultProps:function(){return {descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:'',minTimeUnit:'year'};},getInitialState:function(){return {day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear};},clearDate:function(){this.setState(this.getInitialState());},_getDayName:function(){return this.props.inputPrefix===''?h.DAY:this.props.inputPrefix+'_'+h.DAY;},_getMonthName:function(){return this.props.inputPrefix===''?h.MONTH:this.props.inputPrefix+'_'+h.MONTH;},_getYearName:function(){return this.props.inputPrefix===''?h.YEAR:this.props.inputPrefix+'_'+h.YEAR;},_getMinDate:function(){return new Date(this.props.minTime*g.MS_PER_SEC);},_getMinYear:function(){return this._getMinDate().getFullYear();},_getMinMonth:function(){return this._getMinDate().getMonth()+1;},_getMinDay:function(){return this._getMinDate().getDate();},_isMinYear:function(){return this.state.year===this._getMinYear();},_isMinYearAndMonth:function(){return this._isMinYear()&&this.state.month===this._getMinMonth();},_getMaxDate:function(){return new Date(this.props.maxTime*g.MS_PER_SEC);},_getMaxYear:function(){return this._getMaxDate().getFullYear();},_getMaxMonth:function(){return this._getMaxDate().getMonth()+1;},_getMaxDay:function(){return this._getMaxDate().getDate();},_isMaxYear:function(){return this.state.year===this._getMaxYear();},_isMaxYearAndMonth:function(){return this._isMaxYear()&&this.state.month===this._getMaxMonth();},_getCurrentDate:function(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,(this.state.year&&!this.state.day)?1:this.state.day).getTime();},getCurrentDateInSeconds:function(){return this._getCurrentDate()/g.MS_PER_SEC;},getMaxPossibleDateInSeconds:function(){var k={year:this.state.year,month:this.state.month,day:this.state.day};if(!k.day)if(k.month){k.month+=1;}else if(k.year){k.year+=1;k.day=1;}var l=new Date(k.year,!k.month?0:k.month-1,k.day);return l.getTime()/g.MS_PER_SEC;},_onYearChange:function(event){var k=(event.target)?event.target.value:event.value;this._onDateChange({year:parseInt(k,10),month:this.state.month,day:this.state.day});},_onMonthChange:function(event){var k=(event.target)?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(k,10),day:this.state.day});},_onDayChange:function(event){var k=(event.target)?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(k,10)});},_onDateChange:function(k){var l=this._getValidDate(k);this.setState(l,function(){this.props.onDateChange&&this.props.onDateChange(l);}.bind(this));},_getValidDate:function(k,l,m){if(typeof l==='undefined')l=new Date(this.props.minTime*g.MS_PER_SEC);if(typeof m==='undefined')m=new Date(this.props.maxTime*g.MS_PER_SEC);var n=k.year,o=k.month,p=k.day;if(n){if(n<=l.getFullYear()){n=l.getFullYear();if(o&&o<=l.getMonth()+1){o=l.getMonth()+1;if(p&&p<l.getDate())p=l.getDate();}}else if(n>=m.getFullYear()){n=m.getFullYear();if(o&&o>=m.getMonth()+1){o=m.getMonth()+1;if(p&&p>m.getDate())p=m.getDate();}}if(o){if(p&&p>g.getDaysInMonth(n,o))p=g.getDaysInMonth(n,o);}else p=0;}else o=p=0;return {year:n,month:o,day:p};},componentWillReceiveProps:function(k){var l=new Date(k.minTime*g.MS_PER_SEC),m=new Date(k.maxTime*g.MS_PER_SEC);this.setState(this._getValidDate(this.state,l,m));}};e.exports=j;},null);
__d("XUIProgressiveDatepicker.react",["DateConsts","ProgressiveDatepickerMixin","React","InlineBlock.react","XUISelector.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=k.Option,n=i.createClass({displayName:"TimelineProgressiveDatepicker",mixins:[h],render:function(){var o=[];for(var p=this._getMinYear();p<=this._getMaxYear();p++){var q=i.createElement(m,{key:p,title:p,value:p},p);this.props.descendingYears?o.unshift(q):o.push(q);}o.unshift(i.createElement(m,{key:0,title:g.YEAR_LABEL,value:0},g.YEAR_LABEL));var r=null;if(this.state.year||this.props.minTimeUnit!=='year'){var s=[i.createElement(m,{key:0,title:g.MONTH_LABEL,value:0},g.MONTH_LABEL)],t=1,u=g.MONTHS_PER_YEAR;if(this._isMinYear())t=this._getMinMonth();if(this._isMaxYear())u=this._getMaxMonth();for(var v=t;v<=u;v++){var w=g.getMonthName(v);s.push(i.createElement(m,{key:v,title:w,value:v},w));}r=i.createElement(k,{className:"_5vu1","data-testid":"ProgressiveDatepicker/monthSelector",disabled:!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},s);}var x=null;if(this.state.month||this.props.minTimeUnit==='day'){var y=[i.createElement(m,{key:0,title:g.DAY_LABEL,value:0},g.DAY_LABEL)],z=1,aa=g.getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())z=this._getMinDay();if(this._isMaxYearAndMonth())aa=this._getMaxDay();for(var ba=z;ba<=aa;ba++)y.push(i.createElement(m,{key:ba,title:ba,value:ba},ba));x=i.createElement(k,{className:"_5vu1","data-testid":"ProgressiveDatepicker/daySelector",disabled:!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},y);}return (i.createElement(j,null,i.createElement(k,{"data-testid":"ProgressiveDatepicker/yearSelector",maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},o),r,x));}});e.exports=n;},null);
__d("TimeInputParser",[],function(a,b,c,d,e,f){var g='AM',h='PM';function i(m){var n=Math.floor(m/60),o;if(n!==0){o=Math.floor(n/60);n=n%60;}else o=0;if(o>24)return null;return {hours24:o,minutes:n,time:j(o,n),text12:k(o,n)};}function j(m,n){return ((m*60)+n)*60;}function k(m,n){if(n<10)n='0'+n;if(m===0){return '12:'+n+' '+g;}else if(m<12){return m+':'+n+' '+g;}else if(m===12){return '12:'+n+' '+h;}else return (m-12)+':'+n+' '+h;}var l={fromTime:i,toTime:j,toText12:k,AM:g,PM:h};e.exports=l;},null);
__d("XUITimeInputColumn.react",["Keys","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=/^\d+$/,l=1,m=h.createClass({displayName:"XUITimeInputColumn",propTypes:{name:h.PropTypes.string,value:h.PropTypes.number,min:h.PropTypes.number,max:h.PropTypes.number,size:h.PropTypes.number,options:h.PropTypes.array,onChangeValueAttempt:h.PropTypes.func,onBlur:h.PropTypes.func,onFocus:h.PropTypes.func},getInitialState:function(){return {focused:false,domID:this.props.id||('XUITimeInputColumn_'+(l++))};},render:function(){var n=this._getText(this.props.value),o=(("_5pw0")+(this.state.focused?' '+"_5pw1":''));return (h.createElement("div",{className:j(this.props.className,o)},h.createElement("div",{className:"_5pw5"},h.createElement("label",{htmlFor:this.state.domID,className:"_5pw6"},n),h.createElement("input",{role:"spinbutton","aria-valuetext":n,"aria-label":this.props['aria-label'],id:this.state.domID,tabIndex:this.props.tabIndex,ref:"input",value:"",onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onChange:this._onChange,className:"_5pw8"}))));},focusInput:function(){var n=this.refs.input.getDOMNode();try{n.focus();}catch(o){}this.setState({focused:true});if(this.props.onFocus)this.props.onFocus();},blurInput:function(){var n=this.refs.input.getDOMNode();try{n.blur();}catch(o){}this.setState({focused:false});if(this.props.onBlur)this.props.onBlur();},_onKeyDown:function(n){switch(n.keyCode){case g.TAB:if(n.shiftKey){this._onFocusPrevAttempt(n);}else this._onFocusNextAttempt(n);break;case g.LEFT:this._onFocusPrevAttempt(n);break;case g.UP:this._increaseValue(n);break;case g.RIGHT:this._onFocusNextAttempt(n);break;case g.DOWN:this._decreaseValue(n);break;}},_decreaseValue:function(n){var o=this.props,p=(o.value||0)-1;if(p<0&&o.options){p=o.options.length-1;}else if(p<o.min)p=o.max;this._changeValueAttempt(p);n.preventDefault();},_increaseValue:function(n){var o=this.props,p=(this.props.value||0)+1;if(o.options&&p>(o.options.length-1)){p=0;}else if(p>o.max)p=o.min;this._changeValueAttempt(p);n.preventDefault();},_onFocusPrevAttempt:function(event){if(this.props.onFocusPrevAttempt){event.preventDefault();this.props.onFocusPrevAttempt();}else if(event.nativeEvent.keyCode===g.LEFT)event.preventDefault();},_onFocusNextAttempt:function(event){if(this.props.onFocusNextAttempt){event.preventDefault();this.props.onFocusNextAttempt();}else if(event.nativeEvent.keyCode===g.RIGHT)event.preventDefault();},_onChange:function(n){var o=n.target.value,p=this.props,q=p.options;if(q){var r=o.toLowerCase();for(var s=0,t=q.length;s<t;s++){var u=String(q[s]).toLowerCase();if(u.indexOf(r)===0){this._changeValueAttempt(s);return;}}this._changeValueAttempt(this.props.value||0);}else if(k.test(o)){var v=this.props.value||0,w=parseInt(o,10);if(o.length===1){if(v===0){this._changeValueAttempt(w);return;}var x=parseInt(String(v)+o,10);if(x>p.max){if(w>=p.min)this._changeValueAttempt(w);return;}this._changeValueAttempt(x);}}},_onFocus:function(){this.setState({focused:true});if(this.props.onFocus)this.props.onFocus(this.props.name);},_onBlur:function(){this.setState({focused:false});if(this.props.onBlur)this.props.onBlur(this.props.name);},_changeValueAttempt:function(n){if(n!==this.props.value){var o=this.props.onChangeValueAttempt;if(o)o(this.props.name,n);}},_getText:function(n){if(n===null||n===(void 0))return '';var o=this.props;if(o.options){return o.options[n];}else{var p=String(n);if(o.size){var q=o.size-p.length;if(q>0)if(q===1){p='0'+p;}else p=(new Array(q)).join('0')+p;}return p;}}});e.exports=m;},null);
__d("XUITimeInput.react",["DateFormatConfig","React","TimeInputParser","UserAgent","XUITimeInputColumn.react","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=(g.formats['g:ia']||'').indexOf('a')>=0,p=[i.AM,i.PM],q=i.toTime(12,0),r=60;function s(u,v){if(isNaN(u)){if(!v)return {};u=q;}var w=i.fromTime(u)||i.fromTime(q),x=w.hours24,y;if(x===0){y=12;}else if(x<=12){y=x;}else y=x-12;return {hours12:y,hours24:x,minutes:w.minutes,ampm:(x<12)?0:1,time:w.time};}var t=h.createClass({displayName:"XUITimeInput",propTypes:{time:h.PropTypes.number,minTime:h.PropTypes.number,maxTime:h.PropTypes.number,shouldSetDefaultTime:h.PropTypes.bool,onFocus:h.PropTypes.func,onBlur:h.PropTypes.func,onReady:h.PropTypes.func,onChangeValueAttempt:h.PropTypes.func},getDefaultProps:function(){return {shouldSetDefaultTime:true};},getInitialState:function(){return {focused:false};},_isValidTime:function(u){if(this.props.minTime&&u+r<this.props.minTime)return false;if(this.props.maxTime&&u-r>this.props.maxTime)return false;return true;},render:function(){var u=s(this.props.time,this.props.shouldSetDefaultTime),v,w;if(o){v=(h.createElement(k,{"aria-label":"AM\/PM",name:"ampm",ref:"ampm",className:"_5pw4",value:u.ampm,options:p,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusPrevAttempt:this._focusMinutes}));w=(h.createElement(k,{"aria-label":"hours",name:"hours12",ref:"hours",className:"_5pw2",value:u.hours12,min:0,max:12,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusNextAttempt:this._focusMinutes}));}else w=(h.createElement(k,{"aria-label":"hours",name:"hours24",ref:"hours",className:"_5pw2",value:u.hours24,min:0,max:23,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusNextAttempt:this._focusMinutes}));var x=(("_5pw9")+(this.state.focused?' '+"_5pwl":'')+(j.isBrowser('IE')?' '+"_15kn":''));return (h.createElement("div",h.__spread({},this.props,{className:n(this.props.className,x),dir:"ltr"}),w,h.createElement("span",{className:"_5pwa"},g.timeSeparator),h.createElement(k,{"aria-label":"minutes",name:"minutes",ref:"minutes",className:"_5pw3",value:u.minutes,size:2,min:0,max:59,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusPrevAttempt:this._focusHours,onFocusNextAttempt:o?this._focusAMPM:null}),v));},_onFocus:function(){this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onBlur:function(){this.setState({focused:false});this.props.onBlur&&this.props.onBlur();},_onChangeValueAttempt:function(u,v){if(!this.props.onChangeValueAttempt)return;var w=s(this.props.time,true),x=w.hours24,y=w.hours12,z=w.minutes,aa=w.ampm;switch(u){case 'hours12':if((v===12&&y===11)||(v===11&&y===12))aa=aa?0:1;y=v;break;case 'hours24':x=v;break;case 'minutes':z=v;break;case 'ampm':aa=v;break;default:return;}if(o)if(aa===1){if(y===12){x=12;}else x=y+12;}else if(y===12){x=0;}else x=y;var ba=i.toTime(x,z);if(this._isValidTime(ba))this.props.onChangeValueAttempt(ba);},_focusHours:function(){this.refs.hours.focusInput();},_focusMinutes:function(){this.refs.minutes.focusInput();},_focusAMPM:function(){this.refs.ampm.focusInput();}});e.exports=t;},null);
__d("XUIDateTimePicker.react",["React","XUIDatePicker.react","XUIDateTimePickerUtils","XUIError.react","XUITimeInput.react","cx","formatDate","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=g.createClass({displayName:"XUIDateTimePicker",propTypes:Object.assign({className:g.PropTypes.string,date:g.PropTypes.instanceOf(Date),datePlaceholder:g.PropTypes.string,dateRestraints:g.PropTypes.array,maxTime:g.PropTypes.number,minTime:g.PropTypes.number,name:g.PropTypes.string,onCalendarChange:g.PropTypes.func,onChange:g.PropTypes.func,onTimeBlur:g.PropTypes.func,readOnly:g.PropTypes.bool,timezone:g.PropTypes.string,timezoneOffsetHours:g.PropTypes.number,dateFormat:g.PropTypes.string,datePickerBehaviors:g.PropTypes.object},j.propTypes),getDefaultProps:function(){return {dateFormat:'m/d/Y g:ia'};},render:function(){var p=this.props.className,q=this.props.date,r;if(q)r=i.getOffsetUIDate(q,this.props.timezoneOffsetHours);var s=this.props.timezone&&(g.createElement("div",{className:"fss fcg _4z_j"},this.props.timezone));if(this.props.readOnly){var t=r?m(r,this.props.dateFormat,{utc:true}):this.props.datePlaceholder;return (g.createElement("div",{className:n("_5qcu",p)},g.createElement("div",null,t),s));}else{var u;if(r)u=i.getSecondsSinceMidnightUTC(r);return (g.createElement("div",{className:n("_5qcv",p)},g.createElement(j,g.__spread({},this.props),g.createElement("div",{className:"_1jlr"},g.createElement(h,{className:"_5qcw",dateRestraints:this.props.dateRestraints,initialTime:r?r.getTime():null,placeholder:this.props.datePlaceholder,shouldSetDefaultDate:false,onCalendarSelectDateChange:this._onDateChange,behaviors:this.props.datePickerBehaviors}),g.createElement(k,{className:"_5qcx",minTime:this.props.minTime,maxTime:this.props.maxTime,onBlur:this._onTimeBlur,onChangeValueAttempt:this._onTimeChange,shouldSetDefaultTime:false,time:u}))),s,this._renderHiddenInput()));}},_renderHiddenInput:function(){if(this.props.name!==(void 0))return (g.createElement("input",{type:"hidden",name:this.props.name,value:this.props.date.getTime()}));},_onDateChange:function(p){var q=this.props.date;if(!q){q=new Date();q.setHours(0,0,0,0);}var r=i.getActualDateFromOffsetUICanonicalDate(p,q,this.props.timezoneOffsetHours);this.props.onChange&&this.props.onChange(r);this.props.onCalendarChange&&this.props.onCalendarChange(r);},_onTimeBlur:function(){this.props.onTimeBlur&&this.props.onTimeBlur(this.props.date);},_onTimeChange:function(p){this.props.onChange&&this.props.onChange(i.getActualDateFromOffsetUISeconds(p,this.props.date||new Date(),this.props.timezoneOffsetHours));}});e.exports=o;},null);
__d("XUIRadioList.react",["InputLabel.react","React","ReactChildren","XUIRadioInput.react","cloneWithProps"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:"XUIRadioList",propTypes:{name:h.PropTypes.string,onValueChange:h.PropTypes.func,selectedValue:h.PropTypes.any},render:function(){var m=i.map(this.props.children,function(n){return k(n,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue});},this);return h.createElement("ul",h.__spread({},this.props,{name:null}),m);}});l.Item=h.createClass({displayName:"Item",propTypes:{name:h.PropTypes.string,onSelect:h.PropTypes.func,selectedValue:h.PropTypes.any,value:h.PropTypes.any,disabled:h.PropTypes.bool},render:function(){return (h.createElement("li",{className:this.props.className},h.createElement(g,{display:"inline"},h.createElement(j,{checked:this.props.selectedValue===this.props.value,name:this.props.name,onChange:this._handleChange,value:this.props.value,disabled:!!this.props.disabled}),h.createElement("label",null,this.props.children))));},_handleChange:function(event){this.props.onSelect&&this.props.onSelect(event.target.value);}});e.exports=l;},null);
__d("PostBackdateDialog.react",["Arbiter","InputLabel.react","React","ReactLayeredComponentMixin","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIGrayText.react","XUIProgressiveDatepicker.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=250,v=i.createClass({displayName:"PostBackdateDialog",mixins:[j],propTypes:{minTime:i.PropTypes.number.isRequired,maxTime:i.PropTypes.number.isRequired,onSubmit:i.PropTypes.func.isRequired},getInitialState:function(){return {shown:false,hideFromNewsFeed:false,year:null,month:null,day:null};},render:function(){return (i.createElement("div",null));},renderLayers:function(){return (i.createElement(l,{width:343,shown:this.state.shown},i.createElement(o,null,"Backdate Post"),i.createElement(m,null,i.createElement("div",{className:"_5pk"},i.createElement(q,{shade:"light",size:"small",display:"block"},"Backdate your post so it appears in the past on your Page Timeline. Backdated posts publish immediately."),i.createElement("div",{className:"_3-8x"},i.createElement(r,{className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:u,minTime:this.props.minTime,minTimeUnit:"day",onDateChange:this._onDateChange})),i.createElement(h,{className:"_3-8x"},i.createElement(k,{checked:this.state.hideFromNewsFeed,onChange:this._hideFromNewsFeedChanged}),i.createElement("label",null,i.createElement(q,{shade:"light",size:"small",weight:"normal"},"Hide from News Feed"))))),i.createElement(n,null,i.createElement(p,{action:"cancel",label:"Cancel",onClick:this._onCancelClick}),i.createElement(p,{action:"confirm",disabled:!this.state.year||!this.state.month||!this.state.day,label:"Backdate",onClick:this._onSubmitClick,use:"confirm"}))));},show:function(){this.setState({shown:true});},_onCancelClick:function(){g.inform('PAB/defaultToPost');},_onSubmitClick:function(){this.props.onSubmit(this.state.year,this.state.month,this.state.day,this.state.hideFromNewsFeed);this.setState({shown:false});},_onDateChange:function(w){this.setState({year:w.year,month:w.month,day:w.day});},_hideFromNewsFeedChanged:function(event){this.setState({hideFromNewsFeed:event.target.checked});}});e.exports=v;},null);
__d("PostScheduleAndExpireDialog.react",["DatePickerRestraints","ExpirationType","FBToggleSwitch.react","HelpLink.react","InputLabel.react","React","XUICard.react","XUICardSection.react","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUINotice.react","XUIRadioList.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){var y=v.Item,z=60*1000,aa=60*z,ba=24*aa,ca=182*ba+12*aa,da=new Date(Date.now()-ba),ea=new Date(Date.now()+ca),fa=l.createClass({displayName:"PostScheduleAndExpireDialog",propTypes:{timezone:l.PropTypes.string.isRequired,onSubmit:l.PropTypes.func.isRequired},getInitialState:function(){return {shown:false,publishDate:new Date(Date.now()+11*z),expireDate:new Date(Date.now()+aa),scheduleToggle:true,expireToggle:false,expirationType:h.HIDE};},show:function(){this.setState({shown:true,publishDate:new Date(Date.now()+11*z),expireDate:new Date(Date.now()+aa),scheduleToggle:true,expireToggle:false,expirationType:h.HIDE});},render:function(){var ga=this.state.scheduleToggle?"Schedule":"Post",ha=this._renderInvalidTimeNotice();return (l.createElement(p,{shown:this.state.shown,width:343,fixedTopPosition:125},l.createElement(s,null,"Schedule Post"),l.createElement(q,{className:"_hg8"},l.createElement(k,null,l.createElement(i,{checked:this.state.scheduleToggle,onToggle:this._scheduleToggleChange}),l.createElement("label",null,"Schedule Publish Date")),this._renderSchedule(),l.createElement(k,null,l.createElement(i,{checked:this.state.expireToggle,onToggle:this._expireToggleChange}),l.createElement("label",null,"Schedule Expiration Date")),this._renderExpire(),ha),l.createElement(r,null,l.createElement(t,{onClick:this._onCancelClick,action:"cancel",label:"Cancel"}),l.createElement(t,{action:"confirm",onClick:this._onSubmitClick,disabled:ha!==null,label:ga,use:"confirm"}))));},_renderSchedule:function(){if(!this.state.scheduleToggle)return null;return (l.createElement(m,{background:"light-wash",className:(("_2ph-")+(' '+"_3-8n"))},l.createElement(o,{dateRestraints:[g.enforceDateIsNoEarlierThan(da),g.enforceDateIsNoLaterThan(ea)],date:this.state.publishDate,onChange:this._onPublishDateChange,timezone:this.props.timezone})));},_renderExpire:function(){if(!this.state.expireToggle)return null;var ga="When the post expires, it will be deleted from News Feed and your Page's Timeline. You'll also lose all insights about the post and will no longer be able to view it.",ha="When the post expires, it will be removed from News Feed and other people won't see it on your Page, but you'll still be able to see insights about the post and view it.";return (l.createElement(m,{background:"light-wash",className:"_3-8n"},l.createElement(n,{className:(("_2ph-")+(' '+"_3-8x"))},l.createElement(o,{dateRestraints:[g.enforceDateIsNoEarlierThan(da),g.enforceDateIsNoLaterThan(ea)],date:this.state.expireDate,onChange:this._onExpireDateChange,timezone:this.props.timezone})),l.createElement(n,{className:(("_2ph-")+(' '+"_3-8x"))},l.createElement(v,{selectedValue:this.state.expirationType,onValueChange:this._onExpirationTypeChange},l.createElement(y,{value:h.HIDE},"Make post private when expired",l.createElement(j,{tooltip:ha,alignv:"bottom"})),l.createElement(y,{value:h.DELETE},"Delete post when expired",l.createElement(j,{tooltip:ga,alignv:"bottom"}))))));},_renderInvalidTimeNotice:function(){var ga=this._isPublishTimeValid(),ha=this._isExpireTimeValid(),ia=ga&&ha;if(ia)return null;var ja=null;if(!ga){ja="Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.";}else if(!ha&&this.state.scheduleToggle){ja="Posts need to be expired between 10 minutes from when they are published and 6 months from now.";}else if(!ha)ja="Posts need to be expired between 10 minutes and 6 months from when you create them.";return (l.createElement(u,{use:"warn",className:"_3-8x"},ja));},_onPublishDateChange:function(ga){this.setState({publishDate:ga});},_onExpireDateChange:function(ga){this.setState({expireDate:ga});},_onExpirationTypeChange:function(ga){this.setState({expirationType:Number(ga)});},_onSubmitClick:function(){var ga=null,ha=null,ia=null;if(this.state.scheduleToggle)ga=this.state.publishDate;if(this.state.expireToggle){ha=this.state.expireDate;ia=this.state.expirationType;}this.props.onSubmit(ga,ha,ia);this.setState({shown:false});},_onCancelClick:function(){this.setState({shown:false});},_isPublishTimeValid:function(){if(!this.state.scheduleToggle)return true;var ga=this.state.publishDate.getTime(),ha=Date.now()+10*z,ia=Date.now()+ca;return ((ga>=ha)&&(ga<=ia));},_isExpireTimeValid:function(){if(!this.state.expireToggle)return true;var ga=this.state.publishDate.getTime(),ha=this.state.expireDate.getTime(),ia=Date.now()+10*z,ja=Date.now()+ca;if(this.state.scheduleToggle)ia=ga+10*z;return ((ha>=ia)&&(ha<=ja));},_scheduleToggleChange:function(){this.setState({scheduleToggle:!this.state.scheduleToggle});},_expireToggleChange:function(){this.setState({expireToggle:!this.state.expireToggle});}});e.exports=fa;},null);
__d("PostScheduleDialog.react",["DatePickerRestraints","React","ReactLayeredComponentMixin","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIGrayText.react","XUINotice.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=60*1000,u=24*60*60*1000,v=30,w=h.createClass({displayName:"PostScheduleDialog",mixins:[i],propTypes:{initialDate:h.PropTypes.instanceOf(Date),isReschedule:h.PropTypes.bool,timezoneStr:h.PropTypes.string.isRequired,onSubmit:h.PropTypes.func.isRequired},getInitialState:function(){return {shown:false,date:this.props.initialDate?this.props.initialDate:new Date(Date.now()+11*t)};},show:function(){this.setState({shown:true});},renderLayers:function(){var x=new Date(Date.now()-u),y=new Date(Date.now()+6*v*u),z=this.state.date.getTime(),aa=this._isSelectedTimeValid(z),ba=this.props.isReschedule?"Reschedule Post":"Schedule Post",ca=this.props.isReschedule?"Reschedule":"Schedule";return (h.createElement(k,{shown:this.state.shown,width:343},h.createElement(n,null,ba),h.createElement(l,{className:"_hg8"},h.createElement(p,{shade:"light",size:"small",display:"block"},"Select a date and time in the future for when you want your post to publish."),h.createElement(j,{dateRestraints:[g.enforceDateIsNoEarlierThan(x),g.enforceDateIsNoLaterThan(y)],className:"_3-8x",date:this.state.date,onChange:this._onChange,timezone:this.props.timezoneStr}),h.createElement(q,{use:"warn",className:(("_3-8x")+(aa?' '+"hidden_elem":''))},"Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.")),h.createElement(m,null,h.createElement(o,{action:"cancel",label:"Cancel"}),h.createElement(o,{action:"confirm",label:ca,onClick:this._onSubmitClick,disabled:!aa,use:"confirm"}))));},render:function(){return (h.createElement("div",null));},_onChange:function(x){this.setState({date:x});},_onSubmitClick:function(){this.props.onSubmit(this.state.date);this.setState({shown:false});},_isSelectedTimeValid:function(x){var y=Date.now()+10*t,z=Date.now()+6*v*u;return x>y&&x<z;}});e.exports=w;},null);
__d("PostActionsHiddenInputsUpdater",["$","DOM"],function(a,b,c,d,e,f,g,h){var i={clearHiddenInputsParams:function(){var j=g('pabhiddeninputs');this._clearParams(j);},updateScheduleHiddenInputs:function(j,k){var l=g('pabhiddeninputs'),m=h.find(l,'input[name="future_date"]'),n=h.find(l,'input[name="future_time"]'),o=h.find(l,'input[name="scheduled"]');m.value=j;n.value=k;o.value=(j)?true:false;},updateExpireHiddenInputs:function(j,k){var l=g('pabhiddeninputs'),m=h.find(l,'input[name="expire_time"]'),n=h.find(l,'input[name="expiring"]'),o=h.find(l,'input[name="expire_type"]');m.value=j;n.value=(j)?true:false;o.value=k;},updateBackdateHiddenInputs:function(j,k,l,m){var n=g('pabhiddeninputs');this._clearParams(n);var o=h.find(n,'input[name="backdated_date[year]"]'),p=h.find(n,'input[name="backdated_date[month]"]'),q=h.find(n,'input[name="backdated_date[day]"]'),r=h.find(n,'input[name="hide_from_newsfeed"]');o.value=j;p.value=k;q.value=l;r.value=m;},_clearParams:function(j){for(var k=0;k<j.children.length;k++)j.children[k].value='';},_setBackdateParams:function(j){var k=j.getRoot(),l=h.find(k,'input[name="year"]').value,m=h.find(k,'input[name="hide"]'),n=h.scry(k,'input[name="month"]'),o=h.scry(k,'input[name="day"]');n=n.length&&n[0].value!==null&&n[0].value!=="0"?n[0].value:null;o=o.length&&o[0].value!==null&&o[0].value!=="0"?o[0].value:null;var p=g('pabhiddeninputs');this._clearParams(p);var q=h.find(p,'input[name="backdated_date[year]"]'),r=h.find(p,'input[name="backdated_date[month]"]'),s=h.find(p,'input[name="backdated_date[day]"]'),t=h.find(p,'input[name="hide_from_newsfeed"]');q.value=l;r.value=n;s.value=o;t.value=m.checked;}};e.exports=i;},null);
__d("ComposerXPostActionDropDownV2",["Arbiter","AsyncRequest","Button","CSS","cx","DOM","Event","PagesBanzaiLogger","PostActionsHiddenInputsUpdater","PostBackdateDialog.react","PostScheduleAndExpireDialog.react","PostScheduleDialog.react","React","PromotedPostConstants","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(w,x,y,z,aa,ba){"use strict";this.menuInstance=w;this.postButton=x;this.postActionsButton=y;this.pageID=z.page_id;this.defaultAction=z.default_action;this.scheduleDialogPlaceholder=aa;this.backdateDialogPlaceholder=ba;this.timezone_str=z.timezone_str;this.minBackdateTime=z.min_backdate_time;this.showExpire=z.should_show_expire;this.boostButton=this.$ComposerXPostActionDropDownV20();this.menuInstance.subscribe('itemclick',function(ca,da){switch(da.item.getValue()){case 'draft':this.$ComposerXPostActionDropDownV22();break;case 'schedule':this.$ComposerXPostActionDropDownV23();break;case 'backdate':this.$ComposerXPostActionDropDownV24();break;case 'post':this.$ComposerXPostActionDropDownV25();break;}}.bind(this));m.listen(this.postActionsButton,'click',function(){this.$ComposerXPostActionDropDownV26('pab_dropdown_click');}.bind(this));this.scheduleAnother=g.subscribe('composer/schedule_another',function(ca){this.$ComposerXPostActionDropDownV23();this.scheduleAnother.unsubscribe();this.scheduleAnother=null;}.bind(this));if(z.should_show_nux){g.inform('composer/reset_pab_nux');this.$ComposerXPostActionDropDownV27();this.renderNuxSubscription=g.subscribe('composer/render_pab_nux',function(ca){if(!z.nux_uri)return;new h().setURI(z.nux_uri).send();this.renderNuxSubscription.unsubscribe();this.renderNuxSubscription=null;}.bind(this));}g.subscribe('AsyncRequest/error',function(ca,da){if(da.request&&da.request.relativeTo===this.postButton.form)this.$ComposerXPostActionDropDownV28(true);}.bind(this));g.subscribe(['composer/reset'],function(ca){if(this.hiddenInputsInstance)this.hiddenInputsInstance.afterSubmitPost(this.pageID);this.$ComposerXPostActionDropDownV28(true);}.bind(this));}v.prototype.initHiddenInputs=function(w){"use strict";this.hiddenInputsInstance=w;if(this.defaultAction==='save')this.hiddenInputsInstance.setDraftInputs();};v.prototype.$ComposerXPostActionDropDownV27=function(){"use strict";var w=l.scry(document,'#pab_nux_moved_indicator')[0],x=l.scry(document,'#pab_nux_click_to_finish')[0];if(w)w.removeAttribute('id');if(x)x.removeAttribute('id');this.postActionsButton.setAttribute('id','pab_nux_moved_indicator');this.postButton.setAttribute('id','pab_nux_click_to_finish');};v.prototype.$ComposerXPostActionDropDownV28=function(w){"use strict";if(this.hiddenInputsInstance)this.hiddenInputsInstance.resetInputs();this.$ComposerXPostActionDropDownV29();};v.prototype.$ComposerXPostActionDropDownV25=function(){"use strict";this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_post_selected');this.postButton.click();this.menuInstance.done();};v.prototype.$ComposerXPostActionDropDownV2a=function(w){"use strict";var x=null,y=null;if(w){x=u(w,'m/d/Y',{skipPatternLocalization:true});y=60*(w.getHours()*60+w.getMinutes());}o.clearHiddenInputsParams();o.updateScheduleHiddenInputs(x,y);};v.prototype.$ComposerXPostActionDropDownV2b=function(w,x,y){"use strict";this.$ComposerXPostActionDropDownV2a(w);var z=null;if(x)z=x.getTime()/1000;o.updateExpireHiddenInputs(z,y);this.postButton.click();};v.prototype.$ComposerXPostActionDropDownV23=function(){"use strict";this.$ComposerXPostActionDropDownV26('pab_schedule_selected');var w;if(this.showExpire){w=s.createElement(q,{timezone:this.timezone_str,onSubmit:this.$ComposerXPostActionDropDownV2b.bind(this)});}else w=s.createElement(r,{timezoneStr:this.timezone_str,onSubmit:function(x){this.$ComposerXPostActionDropDownV2a(x);this.postButton.click();}.bind(this)});w=s.render(w,this.scheduleDialogPlaceholder);w.show();this.menuInstance.done();};v.prototype.$ComposerXPostActionDropDownV22=function(){"use strict";this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_draft_selected');this.$ComposerXPostActionDropDownV2c();this.hiddenInputsInstance.setDraftInputs();this.menuInstance.done();this.postButton.click();};v.prototype.$ComposerXPostActionDropDownV24=function(){"use strict";this.$ComposerXPostActionDropDownV26('pab_backdate_selected');var w=s.createElement(p,{maxTime:Date.now()/1000,minTime:this.minBackdateTime,onSubmit:this.$ComposerXPostActionDropDownV2d.bind(this)});w=s.render(w,this.backdateDialogPlaceholder);w.show();this.menuInstance.done();};v.prototype.$ComposerXPostActionDropDownV2d=function(w,x,y,z){"use strict";o.updateBackdateHiddenInputs(w,x,y,z);this.postButton.click(w,x,y,z);};v.prototype.$ComposerXPostActionDropDownV26=function(w){"use strict";var x={page_id:this.pageID,event_name:w};n.logData(x,n.VITAL_WAIT);};v.prototype.$ComposerXPostActionDropDownV20=function(){"use strict";var w=l.scry(document,'div.fbBoostedPost')[0];if(!w)return null;return l.scry(w,'button.'+"_4dyi")[0];};v.prototype.$ComposerXPostActionDropDownV29=function(){"use strict";if(!this.boostButton)return;i.setEnabled(this.boostButton,true);j.removeClass(this.boostButton,"_ho3");};v.prototype.$ComposerXPostActionDropDownV2c=function(){"use strict";if(!this.boostButton)return;i.setEnabled(this.boostButton,false);j.addClass(this.boostButton,"_ho3");g.inform(t.CLEAR_COMPOSER_BOOST);};e.exports=v;},null);
__d("XUnpublishedPostSuccessController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pages\/unpublished_posts\/post_success\/",{type:{type:"String",required:true}});},null);
__d("PostActionsHiddenInputs",["ActorURI","AsyncRequest","XUnpublishedPostSuccessController"],function(a,b,c,d,e,f,g,h,i){function j(k,l,m,n,o,p,q,r,s,t,u){"use strict";this.dateInput=k;this.timeInput=l;this.schedulingInput=m;this.draftInput=n;this.backdateYearInput=o;this.backdateMonthInput=p;this.backdateDayInput=q;this.hideFromNewsFeedInput=r;this.expireTimeInput=s;this.expiringInput=t;this.expireTypeInput=u;}j.prototype.updateInputs=function(k){"use strict";switch(k.element){case 'dateinput':this.dateInput.value=k.value;this.schedulingInput.value=true;break;case 'timeinput':this.timeInput.value=k.value;this.schedulingInput.value=true;break;case 'backdater':this.setBackdateInputs(k);break;case 'hidefromnewsfeed':this.setHideFromNewsfeed(k);break;default:break;}};j.prototype.setScheduleInputs=function(k){"use strict";if(this.schedulingInput){this.schedulingInput.value=true;this.dateInput.value=k.date;this.timeInput.value=k.time;}};j.prototype.setDraftInputs=function(){"use strict";if(this.draftInput)this.draftInput.value=true;};j.prototype.setBackdateInputs=function(k){"use strict";if(this.backdateYearInput){this.backdateYearInput.value=k.value.year||null;this.backdateMonthInput.value=k.value.month||null;this.backdateDayInput.value=k.value.day||null;}};j.prototype.setHideFromNewsfeed=function(k){"use strict";this.hideFromNewsFeedInput.value=k.value;};j.prototype.resetInputs=function(){"use strict";if(this.schedulingInput){this.dateInput.value='';this.timeInput.value='';this.schedulingInput.value='';}if(this.backdateYearInput){this.backdateYearInput.value=null;this.backdateMonthInput.value=null;this.backdateDayInput.value=null;this.hideFromNewsFeedInput.value='';}if(this.draftInput)this.draftInput.value='';};j.prototype.afterSubmitPost=function(k){"use strict";if(this.schedulingInput&&this.schedulingInput.value||this.draftInput&&this.draftInput.value){var l=this.schedulingInput&&this.schedulingInput.value?'scheduled':'draft',m=i.getURIBuilder().setString('type',l).getURI();m=g.create(m,k);new h().setURI(m).send();}};e.exports=j;},null);
__d("ComposerXPagesTargetingIconReset",["CSS","cx"],function(a,b,c,d,e,f,g,h){function i(j){g.removeClass(j.element,"selected");g.removeClass(j.element,"_509o");}e.exports=i;},null);