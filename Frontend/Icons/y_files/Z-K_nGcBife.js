/*!CK:1608912585!*//*1425681808,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["0kS\/7"]); }

__d("BoostedPagelikeRefs",[],function(a,b,c,d,e,f){e.exports={PAGES_MANAGER:"pages_manager",SPRING_BOARD_FLYOUT:"springboard_flyout",PAGETABLHS:"page_tab_lhs",CONTEXTUALDIALOG:"contextual_dialog",CREATE_PANEL_MILESTONE:"edit_panel_milestone",RHC:"RHC",SPLASH:"splash",PAGES_BROWSER:"pages_browser",EDIT_LINK:"edit_link",MENU:"menu_action",PAUSE_PANEL:"pause_panel",FEED:"feed_ad",CALLOUT:"callout",REFRESH_CALLOUT:"refresh_callout",PAGE_MENU:"page_menu",PAGE_NAX:"NAX2Wizard",FLUX:"flux",PAGE_COMPETITOR:"page_competitor_editor",PAGE_COMPETITOR_INSIGHTS_LEADERBOARD:"page_competitor_insights_leaderboard",BIZ:"facebookforbusiness",COMPLETE_PANEL:"complete_panel",ACTIVITY_TAB:"activity_tab",INSIGHTS_TAB:"insights_tab",ACTIVITY_TAB_BLANKSTATE:"activity_tab_blankstate",PAGES_MANANGER_COLLAPSE_LINK:"pages_manager_collapse_link",MSITE_ACTIVITY:"refresh_activity_tab",MSITE_PAGE:"refresh_page_tab",PAGES_MANAGER_CTAFLYOUT:"pages_manager_ctaflyout",PAGES_MANAGER_LIKEFLYOUT:"pages_manager_likeflyout",PAGES_MANAGER_ABOUT_SECTION:"pages_manager_about_section",PAGES_MANAGER_CREATE_AD:"pages_manager_create_ad",AYMT_HOMEPAGE_PANEL:"aymt_homepage_panel",AYMT_MEGAPHONE:"aymt_megaphone",AYMT_CONTEXT_ROW:"aymt_context_row",NAV_DROPDOWN:"page_nav_build_audience_dropdown",MBASIC_PROFILE_SUMMARY:"mbasic_profile_summary",MISSION:"mission",PAUSE_UPSELL:"pause_upsell",FEED_DROPDOWN:"feed_dropdown",MSITE_SOCIAL_CONTEXT:"msite_social_context",CONTEXTUAL_DIALOG:"contextual_dialog",CUSTOM_CTA_ADMIN_MENU:"custom_cta_admin_menu",MSITE_ADS_MANAGER:"m_ads_manager",PYMA_FEED:"PYMA_FEED",IMAGE_REJECT_PANEL:"image_reject_panel",REJECT_PANEL:"reject_panel",CUSTOM_CTA_DROPDOWN:"custom_cta_dropdown",UNIFIED_UPSELL_PANEL:"unified_upsell_panel",ADD_WEBSITE_CONFIRMATION_DIALOG:"add_website_confirmation_dialog",PROMOTE_ACTION_BUTTON:"promote_action_button",CONTEXTUAL_ITEM:"contextual_item",PLAY_GROUND:"play_ground",WWW_LHS_CONTEXT_ROW_UNIT:"www_lhs_context_row_unit",WWW_CONSOLIDATE_ENTRY_POINT:"www_consolidate_entry_point"};},null);
__d("PageInsightsPostFields",[],function(a,b,c,d,e,f){e.exports={CAPTION:"caption",CREATION_TIME:"created_time",DESCRIPTION:"description",ID:"id",IDENTIFIER:"identifier",IS_HOT:"is_hot",LINK:"link",MESSAGE:"message",NAME:"name",PICTURE:"picture",PRIVACY:"privacy",PRIVACY_COUNTRIES:"privacy_countries",PRIVACY_DESCRIPTION:"privacy_description",PRIVACY_LOCALES:"privacy_locales",PRIVACY_POST_TARGETING:"privacy_post_targeting",PROPERTY:"properties",STATUS_TYPE:"status_type",STYLE:"style",TYPE:"type"};},null);
__d("SanityCheckNames",[],function(a,b,c,d,e,f){e.exports={PI_API_RESPONSE:"page_insights.api_responded_with_data",PI_REACH_GT_ENGMT:"page_insights.reach_greater_than_engagement"};},null);
__d("SanityCheckStatuses",[],function(a,b,c,d,e,f){e.exports={VALID:1,INVALID_CONFIG:2,CHECKTIME_FAILURE:3};},null);
__d("BoostedPagelikeConstants",[],function(a,b,c,d,e,f){var g={APPLICATION_ID:'317954918290638',ADMINPANEL:'admin_panel',CONTEXTUALDIALOG:'contextual_dialog',PAGESMANAGER:'pages_manager',SPRINGBOARDFLYOUT:'springboard_flyout',PAGETABLHS:'page_tab_lhs',DELETE:'inactive',PAUSE:'paused',ACTIVE:'active',EXPAND:'boosted_pagelike/expand',MUTATE:'boosted_pagelike/mutate',ACCOUNT_CHANGE:'boosted_pagelike/account_change',BUDGET_CHANGE:'boosted_pagelike/budget_change',STATUS_CHANGE:'boosted_pagelike/status_change',DURATION_CHANGE:'boosted_pagelike/duration_change',DATE_PICKER_VISIBILITY:'boosted_pagelike/date_picker_visibility',CURRENCY_CHANGE:'boosted_pagelike/currency_change',TARGETING_INIT:'boosted_pagelike/targeting_init',TARGETING_CHANGE:'boosted_pagelike/targeting_change',PANEL_STATUS_CHANGE:'boosted_pagelike/panel_status_change',PANEL_STATUS_CHANGE_FINISH:'boosted_pagelike/panel_status_change_finish',MENU_CF_REDIRECT:'boosted_pagelike/menu_cf_redirect',SHOW_TEXT_POLICY_WARNING:'boosted_pagelike/show_text_policy_warning',HIDE_TEXT_POLICY_WARNING:'boosted_pagelike/hide_text_policy_warning',GEO_TARGET_LEVELS:{CITY:'city',REGION:'region',COUNTRY:'country'},MAX_COUNTRY_COUNT:25,COUNTRY_COUNT_WARNING:10,KEYWORD_SUGGESTIONS_DISPLAY_LIMIT:5,KEYWORD_CATEGORY_RAW:0,KEYWORD_CATEGORY_WIKI:1,DIALOG_PADDING_TO_BOTTOM:180,BW_DIALOG_MAX_HEIGHT:531,DIALOG_MAX_HEIGHT:519,PAYLOAD_SOURCE_CLIENT:'client',PAYLOAD_SOURCE_SERVER:'server'},h={GK_EDIT_CREATIVE:'boosted_pagelike_edit_creative',GK_BOOSTED_WEBSITE_INTEGRITY_CHECK:'boosted_website_integrity_check'};Object.assign(g,h);e.exports=g;},null);
__d("CctaDispatcher",["Dispatcher","copyProperties"],function(a,b,c,d,e,f,g,h){'use strict';var i=[],j=h(new g(),{cctaDispatch:function(k){this.dispatch(k);var l=i;i=[];l.forEach(function(m){m();});i.length=0;},addPostDispatchCallback:function(k){if(this.isDispatching()){i.push(k);}else k();}});e.exports=j;},null);
__d("StoreBasedStateMixinHelper",["SubscriptionsHandler","invariant"],function(a,b,c,d,e,f,g,h){'use strict';function i(j){h(j.length>0);this.$StoreBasedStateMixinHelper0=j;this.$StoreBasedStateMixinHelper1=new g();}i.prototype.subscribeCallback=function(j){var k=this.$StoreBasedStateMixinHelper0.map(function(l){if(l.hasChanged&&l.getDispatchToken&&l.addListener){return l.addListener(j);}else if(l.subscribe){return l.subscribe('change',j);}else if(l.addListener){return l.addListener('change',j);}else h(false);});this.$StoreBasedStateMixinHelper1.addSubscriptions.apply(this.$StoreBasedStateMixinHelper1,k);};i.prototype.release=function(){this.$StoreBasedStateMixinHelper1.release();};e.exports=i;},null);
__d("StoreAndPropBasedStateMixin",["StoreBasedStateMixinHelper","invariant","setImmediate"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=function(){for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);return {getInitialState:function(){return this.constructor.calculateState(this.props);},componentWillMount:function(){h(this.constructor.calculateState);this._recalculateStateID=null;var n=function(){if(this.isMounted())this.setState(this.constructor.calculateState(this.props));this._recalculateStateID=null;}.bind(this);this._mixin=new g(k);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=i(n);}.bind(this));},componentWillReceiveProps:function(n){this.setState(this.constructor.calculateState(n));},componentWillUnmount:function(){this._mixin.release();this._mixin=null;}};}.bind(this);e.exports=j;},null);
__d("validateDeepLink",["AdsCreationConfig","URIRFC3986","arrayContains","trim"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=g.deepLinkBlacklist.map(function(m){return new RegExp(j(m,'/'));});function l(m){m=m.toLowerCase();var n=m.indexOf('://');if(n===-1)return false;var o=m.slice(0,n);if(o&&o.contains('.')){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(o))return false;}else{var p=h.parse(m);if(!p.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(m))return false;}if(i(['http','https'],o))return true;var q=k.some(function(r){return r.test(m);});return !q;}e.exports=l;},null);
__d("XCctaCreateController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/ccta\/create\/",{});},null);
__d("CctaStore",["copyProperties","ads-lib-urllib","AsyncRequest","Arbiter","CustomCTAAppConfig","CustomCTAConstants","CctaDispatcher","ImmutableObject","validateDeepLink","URI","XCctaCreateController","XHRRequest","CustomCallToActionTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';var s=b('CustomCallToActionTypes').TYPES,t={},u={},v=1,w=false,x={androidDeepLinkError:null,androidPackageNameError:null,androidUriError:null,iphoneDeepLinkError:null,iphoneUriError:null,mobileUriError:null,webUriError:null},y=false,z=false,aa=null,ba={showingDialog:{},showingFinishDialog:{}},ca={ctaFocusWebUri:{},ctaFocusMsite:{},iphoneFocusDeepLink:{},iphoneFocusURI:{},androidFocusPackageName:{},androidFocusDeepLink:{},androidFocusURI:{}},da=function(){v=1;},ea=function(){x={};},fa=function(){t={};},ga=function(ta){var ua=h.normalize(ta);return h.isUrl(ua);},ha=function(){if(!(t.androidPackageName)){x.androidPackageNameError=l.CREATE_INVALID_PACKAGE_NAME;return false;}var ta=t.androidPackageName.split(".");if(ta.length<=1)return false;for(var ua=0;ua<ta.length;ua++)if(!(ta[ua].trim()))return false;return true;},ia=function(ta){var ua=ta.trim();return (((ua.length>7&&ua.substr(0,7)==="http://")||(ua.length>8&&ua.substr(0,8)==="https://")));},ja=function(){if(!(t.iphoneDeepLink)){x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;return false;}if(ia(t.iphoneDeepLink)){x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;return false;}if(!o(t.iphoneDeepLink)){x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;return false;}return true;},ka=function(){if(!(t.androidDeepLink))return true;if(ia(t.androidDeepLink))return false;if(!o(t.androidDeepLink))return false;return true;},la=function(){if(!(t.mobileURI))return true;return ga(t.mobileURI);},ma=function(){if(!(t.webURI)){x.webUriError=l.CREATE_INVALID_WEB_LINK;return false;}if(!ga(t.webURI)){x.webUriError=l.CREATE_INVALID_WEB_LINK;return false;}return true;},na=function(){if(!(t.iphoneURI))return true;if(ga(t.iphoneURI)){return true;}else{x.iphoneUriError=l.CREATE_INVALID_WEB_LINK;return false;}},oa=function(){if(!(t.androidURI)){if(t.androidFBAppID===l.OPEN_WEBSITE_ID){x.androidUriError=l.CREATE_INVALID_WEB_LINK;return false;}return true;}return ga(t.androidURI);},pa=function(ta,ua){if(ta&&ta.url){t.iphoneFBAppID=l.OPEN_APP_ID;t.iphoneDeepLink=ta.url;}else t.iphoneFBAppID=l.OPEN_WEBSITE_ID;if(ua&&ua.url&&ua["package"]){t.androidFBAppID=l.OPEN_APP_ID;t.androidDeepLink=ua.url;t.androidPackageName=ua["package"];}else t.androidFBAppID=l.OPEN_WEBSITE_ID;m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'clear-loading'});});},qa=function(){z=true;var ta=new p(l.API_URL);ta.addQueryData({access_token:k.access_token,ids:t.webURI,type:'al'});aa=new r(ta);aa.setErrorHandler(function(ua){m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'clear-loading'});});}.bind(this)).setResponseHandler(function(ua){var va=JSON.parse(ua)[t.webURI],wa=(va.ios)?va.ios.pop():null,xa=(va.android)?va.android.pop():null;pa(wa,xa);}.bind(this)).setMethod('GET').send();}.bind(this),ra=function(){if(v===1){var ta=ma(),ua=la();if(ta&&ua){return true;}else if(!ta){ca.ctaFocusWebUri[t.pageID]=true;}else ca.ctaFocusMsite[t.pageID]=true;}else if(v===2){if(t.iphoneFBAppID===l.OPEN_WEBSITE_ID){if(na())return true;}else if(t.iphoneFBAppID===l.OPEN_APP_ID){var va=na(),wa=ja();if(va&&wa){return true;}else if(!wa){ca.iphoneFocusDeepLink[t.pageID]=true;}else ca.iphoneFocusURI[t.pageID]=true;}else if(na())return true;}else if(v===3)if(t.androidFBAppID===l.OPEN_WEBSITE_ID){if(oa())return true;}else if(t.androidFBAppID===l.OPEN_APP_ID){var xa=oa(),ya=ha(),za=ka();if(xa&&za&&ya){return true;}else if(!ya){ca.androidFocusPackageName[t.pageID]=true;}else if(!za){ca.androidFocusDeepLink[t.pageID]=true;}else ca.androidFocusURI[t.pageID]=true;}else if(oa()&&ha())return true;return false;},sa=g(new j(),{getError:function(ta){if(ta in x)return x[ta];return null;},getFocused:function(ta,ua){if(ua in ca&&ta in ca[ua])return ca[ua][ta];return false;},getUi:function(ta,ua){if(ua in ba&&ta in ba[ua])return ba[ua][ta];return false;},getIsLoading:function(){return z;},getConfirmationDialog:function(){return y;},getData:function(){return new n(t);},getDataCopy:function(){t.page_id=t.pageID;return t;},getApps:function(){return new n(u);},getStep:function(){return v;},getPageID:function(){return t.pageID;},hasCCTAID:function(){return w;},getIphoneApp:function(){return 'iphoneFBAppID' in t?t.iphoneFBAppID:l.OPEN_WEBSITE_ID;},getAndroidApp:function(){return 'androidFBAppID' in t?t.androidFBAppID:2;},getIphoneAndroidWebsite:function(){if('mobileURI' in t){return t.mobileURI;}else return t.weburl;},getIphoneBackup:function(){if('iphoneAppStoreUrl' in t){return t.iphoneAppStoreUrl;}else return t.weburl;},getAndroidBackup:function(){if('iphoneAppStoreUrl' in t){return t.iphoneAppStoreUrl;}else return t.weburl;},isInitialized:function(){var ta=n.values(this.getData()).length;return ta>0;},saveDataToServer:function(){if(t.webURI)t.webURI=h.normalize(t.webURI);if(t.mobileURI)t.mobileURI=h.normalize(t.mobileURI);if(t.iphoneURI)t.iphoneURI=h.normalize(t.iphoneURI);if(t.androidURI)t.androidURI=h.normalize(t.androidURI);new i().setURI(q.getURIBuilder().getURI()).setData({payload_json:JSON.stringify(t)}).setHandler(function(ta){if(ta.payload)m.dispatch({actionType:'saved-to-server',data:ta.payload});}.bind(this)).send();},dispatchToken:m.register(function(ta){var ua=true;switch(ta.actionType){case 'saved-to-server':ba.showingDialog[ta.data.payload.pageID]=false;if(!('cctaID' in t))ba.showingFinishDialog[ta.data.payload.pageID]=true;t=ta.data.payload;da();ea();break;case 'deleted-to-server':ba.showingDialog[ta.data.payload.pageID]=false;t=ta.data.payload;da();ea();break;case 'update-from-server':da();ea();fa();z=false;g(t,ta.data);w=ta.data.hasCctaId;if(!t.ctaType)t.ctaType=s.SHOP_NOW;break;case 'get-apps-from-server':u=ta.data;break;case 'update-cta-type':t.ctaType=ta.data;break;case 'update-weburl':t.webURI=ta.data;break;case 'check-weburl':if(ma()){x.webUriError=null;}else x.webUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-msite':t.mobileURI=ta.data;break;case 'check-msite':if(la()){x.mobileUriError=null;}else x.mobileUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-iphone-appselection':t.iphoneFBAppID=ta.data;break;case 'update-iphone-url':t.iphoneURI=ta.data;break;case 'check-iphone-url':if(na()){x.iphoneUriError=null;}else x.iphoneUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-iphone-deeplink':t.iphoneDeepLink=ta.data;break;case 'check-iphone-deeplink':if(ja()){x.iphoneDeepLinkError=null;}else x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;break;case 'update-iphone-appstore-url':t.iphoneAppStoreUrl=ta.data;break;case 'update-android-appselection':t.androidFBAppID=ta.data;if(t.androidFBAppID in u){t.androidPackageName=u[t.androidFBAppID].androidStoreID;}else t.androidPackageName="";break;case 'update-android-url':t.androidURI=ta.data;x.androidUriError=null;break;case 'check-android-url':if(oa()){x.androidUriError=null;}else x.androidUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-android-deeplink':t.androidDeepLink=ta.data;x.androidDeepLinkError=null;break;case 'check-android-deeplink':if(ka()){x.androidDeepLinkError=null;}else x.androidDeepLinkError=l.CREATE_INVALID_WEB_LINK;break;case 'update-android-package-name':t.androidPackageName=ta.data;x.androidPackageNameError=null;break;case 'check-android-package-name':if(ha()){x.androidPackageNameError=null;}else x.androidPackageNameError=l.CREATE_INVALID_PACKAGE_NAME;break;case 'update-android-appstore_url':t.androidAppStoreUrl=ta.data;break;case 'update-ipad-appselection':t.ipadAppSelection=ta.data;break;case 'update-ipad-deeplink':t.ipadDeepLink=ta.data;break;case 'update-ipad-appstore-url':t.ipadAppStoreUrl=ta.data;break;case 'update-showing-dialog':ba.showingDialog[ta.data]=!ba.showingDialog[ta.data];if(!ba.showingDialog[ta.data]){da();ea();z=false;if(aa){aa.abort();aa=null;}}break;case 'update-showing-finish-dialog':ba.showingFinishDialog[ta.data]=!ba.showingFinishDialog[ta.data];break;case 'show-confirmation-dialog':ba.showingFinishDialog[ta.data]=!ba.showingFinishDialog[ta.data];y=!y;break;case 'delete-confirmation-dialog':y=!y;w=true;break;case 'clear-focused':ca={ctaFocusWebUri:{},ctaFocusMsite:{},iphoneFocusDeepLink:{},iphoneFocusURI:{},androidFocusPackageName:{},androidFocusDeepLink:{},androidFocusURI:{}};break;case 'clear-loading':z=!z;break;case 'decrease-step':if(v>1)v=v-1;break;case 'increase-step':if(ra())if(v===3){sa.saveDataToServer();}else{if(v===1)if(!t.cctaID){qa();t.iphoneURI=t.mobileURI||t.webURI;if(!t.iphoneFBAppID)t.iphoneFBAppID=l.OPEN_WEBSITE_ID;t.androidURI=t.mobileURI||t.webURI;if(!t.androidFBAppID)t.androidFBAppID=l.OPEN_WEBSITE_ID;}v=v+1;}break;}if(ua)sa.inform('change');})});e.exports=sa;},null);
__d("CctaDialogBodyAndroid.react",["cx","fbt","ix","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CctaDispatcher","Keys","Image.react","LeftRight.react","Link.react","Locale","PagesEventType","StoreAndPropBasedStateMixin","React","ReactComponentWithPureRenderMixin","CctaStore","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';var z=x.Option,aa="example://launch?location=123456",ba="https://play.google.com/store/apps/det...",ca="com.example.myapp",da=16,ea=u.createClass({displayName:"CctaDialogBodyAndroid",mixins:[t(w),v],propTypes:{},statics:{calculateState:function(){return {androidDeepLinkError:w.getError('androidDeepLinkError'),androidPackageNameError:w.getError('androidPackageNameError'),androidUriError:w.getError('androidUriError'),apps:w.getApps(),data:w.getData(),focusPackageName:w.getFocused(w.getPageID(),'androidFocusPackageName'),focusDeepLink:w.getFocused(w.getPageID(),'androidFocusDeepLink'),focusUri:w.getFocused(w.getPageID(),'androidFocusURI')};}},componentDidUpdate:function(){if(this.state.focusPackageName){this.refs["package"].focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusDeepLink){this.refs.androiddeeplink.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusUri){this.refs.backup.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}},_appsDropdown:function(){var fa=[];Object.keys(this.state.apps).forEach(function(ga){if(this.state.apps[ga].androidUrls.length===0)return;fa.push(u.createElement(z,{icon:u.createElement(o,{src:this.state.apps[ga].logoSrc,height:da,width:da}),key:this.state.apps[ga].id,value:this.state.apps[ga].id},this.state.apps[ga].name));}.bind(this));return (u.createElement(x,{name:"selector",onChange:this._handleAppSelect,value:this._getSelectedApp()},u.createElement(z,{key:j.OPEN_WEBSITE_ID,value:j.OPEN_WEBSITE_ID},j.SELECTOR_OPTION_WEBSITE),u.createElement(z,{key:j.OPEN_APP_ID,value:j.OPEN_APP_ID},j.SELECTOR_OPTION_APP),fa));},_getAndroidLaunchPackageName:function(){var fa=this._getSelectedApp();if(fa===j.OPEN_WEBSITE_ID)return '';if(fa in this.state.apps)return this.state.apps[fa].androidStoreID;return this.state.androidPackageName;},_getAndroidLaunchUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return '';var fa=this._getSelectedApp();if(!(fa in this.state.apps))return '';var ga=this.state.apps[fa];if(!ga.androidUrls.length)return '';return ga.androidUrls[0];},_getAndroidStoreUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return "";var fa=this._getSelectedApp();if(!(fa in this.state.apps))return "";var ga=this.state.apps[fa];return ga.androidStoreUrl;},_handleAppSelect:function(fa){var ga=w.getDataCopy();ga.androidDestinationType=fa.value;ga.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_DESTINATION_TYPE;k.log(ga);m.dispatch({actionType:'update-android-appselection',data:fa.value});},_getSelectedApp:function(){var fa='androidFBAppID' in this.state.data?this.state.data.androidFBAppID:j.OPEN_WEBSITE_ID;return fa;},_changeUserDeepLink:function(event){var fa=w.getDataCopy();fa.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_DEEPLINK;k.log(fa);m.dispatch({actionType:'update-android-deeplink',data:event.target.value});},_deepLinkSection:function(){return (u.createElement(y,{className:"_w0a",value:this.state.data.androidDeepLink,xuiError:this.state.androidDeepLinkError,placeholder:h._("Example: {number of days}",[h.param("number of days",aa)]),onChange:this._changeUserDeepLink}));},_changePackageName:function(event){var fa=w.getDataCopy();fa.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_PACKAGE_NAME;k.log(fa);m.addPostDispatchCallback(function(){m.dispatch({actionType:'update-android-package-name',data:event.target.value});});},_checkAndroidDeepLink:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-deeplink'});});},_androidDeepLinkOnKeyDown:function(fa){if(fa.keyCode===n.RETURN){fa.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-deeplink'});});if(!w.getError('androidDeepLinkError'))this.refs["package"].focusInput();}},_checkPackageName:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-package-name'});});},_PackageNameOnKeyDown:function(fa){if(fa.keyCode===n.RETURN){fa.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-package-name'});});if(!w.getError('androidPackageNameError'))this.refs.backup.focusInput();}},_checkAndroidUri:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-url'});});},_androidUriOnKeyDown:function(fa){if(fa.keyCode===n.RETURN){fa.preventDefault();this._checkAndroidUri();}},_getPackageNameSection:function(){return (u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.PACKAGE_NAME_LABEL),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID),u.createElement(y,{className:"_qr5",editable:false,onBlur:this._checkPackageName,onChange:this._changePackageName,onKeyDown:this._PackageNameOnKeyDown,ref:"package",placeholder:h._("Example: {number of days}",[h.param("number of days",ca)]),value:this.state.data.androidPackageName,xuiError:this.state.androidPackageNameError})));},_getDeepLinkSection:function(){var fa=null;if(w.getAndroidApp()===j.OPEN_APP_ID){fa=u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_APPLINK_MESSAGE_ANDROID,' ',u.createElement(q,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/android"},j.DEEPLINK_LEARN_MORE_LABEL)),u.createElement(y,{className:"_qr5",disabled:this._getAndroidLaunchUrl()?true:false,value:this._getAndroidLaunchUrl()||this.state.data.androidDeepLink,xuiError:this.state.androidDeepLinkError,onBlur:this._checkAndroidDeepLink,onChange:this._changeUserDeepLink,onKeyDown:this._androidDeepLinkOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",aa)]),ref:"androiddeeplink"}));}else fa=u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),u.createElement("div",{className:"_qr5"},j.CREATE_ANDROID_DEEP_LINK_TEXT));return fa;},_handleAndroidUrl:function(event){var fa=w.getDataCopy();fa.event_type=s.CUSTOM_CTA_CHANGE_ANDROID_LINK;k.log(fa);m.dispatch({actionType:'update-android-url',data:event.target.value});},_getBackupSection:function(){return (u.createElement("div",null,u.createElement("div",{className:"_qr4"},j.BACKUP_LINK_LABEL),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BACKUP_LINK_MESSAGE),u.createElement(y,{className:"_qr5",onBlur:this._checkAndroidUri,onChange:this._handleAndroidUrl,onKeyDown:this._androidUriOnKeyDown,ref:"backup",placeholder:h._("Example: {number of days}",[h.param("number of days",ba)]),value:this.state.data.androidURI,xuiError:this.state.androidUriError})));},render:function(){var fa=null;if(w.getAndroidApp()!==j.OPEN_WEBSITE_ID){fa=(u.createElement("div",null,this._getDeepLinkSection(),this._getPackageNameSection(),this._getBackupSection()));}else{var ga=w.getData();fa=(u.createElement("div",{className:"_3cgs"},h._("Your button will send people to {url} when they are using Android.",[h.param("url",l.getTruncatedURI(ga.mobileURI||ga.webURI))])));}return (u.createElement(p,{className:"_qr7 _nul"},u.createElement("div",{className:"_qr8"},u.createElement(o,{className:r.isRTL()?"_77u":'',src:i('/images/pages/custom_cta/android-preview-new.png'),height:j.PREVIEW_HEIGHT,width:j.PREVIEW_WIDTH}),u.createElement("div",{className:"_5l9k"},u.createElement(o,{className:"_5l9l",src:l.getCallToActionMobileIcon(this.state.data.ctaType)}),l.getCallToActionLabel(this.state.data.ctaType))),u.createElement("div",{className:"_qr9"},u.createElement("div",{className:"_qr4"},j.ANDROID_SECTION_TITLE),u.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BODY_MESSAGE_ANDROID),u.createElement("div",{className:"_qra"},this._appsDropdown()),fa)));}});e.exports=ea;},null);
__d("CctaDialogBodyIphone.react",["cx","fbt","ix","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CctaDispatcher","Image.react","Keys","LeftRight.react","Link.react","Locale","PagesEventType","React","CctaStore","StoreAndPropBasedStateMixin","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';var y=w.Option,z="https://itunes.apple.com/us/app/facebook-messenger/id454638411",aa="example://location/123456",ba=16,ca=t.createClass({displayName:"CctaDialogBodyIphone",mixins:[v(u)],propTypes:{},statics:{calculateState:function(){return {apps:u.getApps(),data:u.getData(),iphoneDeepLinkError:u.getError('iphoneDeepLinkError'),iphoneUriError:u.getError('iphoneUriError'),focusDeepLink:u.getFocused(u.getPageID(),'iphoneFocusDeepLink'),focusUri:u.getFocused(u.getPageID(),'iphoneFocusURI')};}},componentDidUpdate:function(){if(this.state.focusDeepLink){this.refs.iphonedeeplink.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusUri){this.refs.backup.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}return;},_appsDropdown:function(){var da=[];Object.keys(this.state.apps).forEach(function(ea){if(this.state.apps[ea].iphoneUrls.length===0)return;da.push(t.createElement(y,{value:this.state.apps[ea].id,key:this.state.apps[ea].id,icon:t.createElement(n,{src:this.state.apps[ea].logoSrc,height:ba,width:ba})},this.state.apps[ea].name));}.bind(this));return (t.createElement(w,{name:"selector",onChange:this._handleAppSelect,value:this._getSelectedApp()},t.createElement(y,{key:j.OPEN_WEBSITE_ID,value:j.OPEN_WEBSITE_ID},j.SELECTOR_OPTION_WEBSITE),t.createElement(y,{key:j.OPEN_APP_ID,value:j.OPEN_APP_ID},j.SELECTOR_OPTION_APP),da));},_getIphoneLaunchUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return '';var da=this._getSelectedApp();if(!(da in this.state.apps))return '';var ea=this.state.apps[da];if(!ea.iphoneUrls.length)return '';return ea.iphoneUrls[0];},_getIphoneStoreUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return "";var da=this._getSelectedApp();if(!(da in this.state.apps))return "";var ea=this.state.apps[da];return ea.iphoneStoreUrl;},_handleAppSelect:function(da){var ea=u.getDataCopy();ea.iphoneDestinationType=da.value;ea.event_type=s.CUSTOM_CTA_CHANGE_IPHONE_DESTINATION_TYPE;k.log(ea);m.dispatch({actionType:'update-iphone-appselection',data:da.value});},_getSelectedApp:function(){var da='iphoneFBAppID' in this.state.data?this.state.data.iphoneFBAppID:j.OPEN_WEBSITE_ID;return da;},_changeUserDeepLink:function(event){var da=u.getDataCopy();da.event_type=s.CUSTOM_CTA_CHANGE_IPHONE_DEEPLINK;k.log(da);m.dispatch({actionType:'update-iphone-deeplink',data:event.target.value});},_checkIphoneDeepLink:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-deeplink'});});},_iphoneDeepLinkOnKeyDown:function(da){if(da.keyCode===o.RETURN){da.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-deeplink'});});if(!u.getError('iphoneDeepLinkError'))this.refs.backup.focusInput();}},_checkIphoneUri:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-url'});});},_iphoneUriOnKeyDown:function(da){if(da.keyCode===o.RETURN){da.preventDefault();this._checkIphoneUri();}},_getDeepLinkSection:function(){var da=null;if(this._getSelectedApp()===j.OPEN_APP_ID){da=t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_APPLINK_MESSAGE_IOS,' ',t.createElement(q,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/ios"},j.DEEPLINK_LEARN_MORE_LABEL)),t.createElement(x,{className:"_qr5",disabled:this._getIphoneLaunchUrl()?true:false,onBlur:this._checkIphoneDeepLink,onChange:this._changeUserDeepLink,onKeyDown:this._iphoneDeepLinkOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",aa)]),ref:"iphonedeeplink",value:this.state.data.iphoneDeepLink,xuiError:this.state.iphoneDeepLinkError}));}else da=t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),t.createElement("div",{className:"_qr5"},j.CREATE_IPHONE_DEEP_LINK_TEXT));return da;},_handleIphoneUrl:function(event){var da=u.getDataCopy();da.event_type=s.CUSTOM_CTA_CHANGE_IPHONE_LINK;k.log(da);m.dispatch({actionType:'update-iphone-url',data:event.target.value});},_getBackupSection:function(){return (t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.BACKUP_LINK_LABEL),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BACKUP_LINK_MESSAGE),t.createElement(x,{className:"_qr5",onBlur:this._checkIphoneUri,onChange:this._handleIphoneUrl,onKeyDown:this._iphoneUriOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",z)]),ref:"backup",value:this.state.data.iphoneURI,xuiError:this.state.iphoneUriError})));},render:function(){var da=null;if(this._getSelectedApp()!==j.OPEN_WEBSITE_ID){da=(t.createElement("div",null,this._getDeepLinkSection(),this._getBackupSection()));}else{var ea=u.getData();da=(t.createElement("div",{className:"_3cgs"},h._("Your button will send people to {url} when they are using iPhone or iPad.",[h.param("url",l.getTruncatedURI(ea.mobileURI||ea.webURI))])));}return (t.createElement(p,{className:"_qr7"},t.createElement("div",{className:"_qr8"},t.createElement(n,{alt:"sad",className:r.isRTL()?"_77u":'',src:i('/images/pages/custom_cta/iphone-preview-new.png'),height:j.PREVIEW_HEIGHT,width:j.PREVIEW_WIDTH}),t.createElement("div",{className:"_1399"},t.createElement(n,{className:"_139a",src:l.getCallToActionMobileIcon(this.state.data.ctaType)}),l.getCallToActionLabel(this.state.data.ctaType))),t.createElement("div",{className:"_qr9"},t.createElement("div",{className:"_qr4"},j.IOS_SECTION_TITLE),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BODY_MESSAGE_IOS),t.createElement("div",{className:"_qra"},this._appsDropdown()),da)));}});e.exports=ca;},null);
__d("CctaDialogBodyCta.react",["React","cx","fbt","ix","CustomCTAUtils","CustomCTAConstants","CustomCTAUtils","CctaDispatcher","Image.react","Keys","LeftRight.react","Link.react","Locale","CustomCTALogger","PagesEventType","StoreAndPropBasedStateMixin","CctaStore","XUIButton.react","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';var aa="https://www.facebook.com/help/312169205649942",ba=g.createClass({displayName:"CctaDialogBodyCta",mixins:[v(w)],propTypes:{},statics:{calculateState:function(ca){return {data:w.getData(),hasMobile:false,mobileUriError:w.getError('mobileUriError'),webURLInputErrorMessage:l.CREATE_INVALID_WEB_LINK,webUriError:w.getError('webUriError'),focusWebUri:w.getFocused(w.getPageID(),'ctaFocusWebUri'),focusMsite:w.getFocused(w.getPageID(),'ctaFocusMsite')};}},componentDidUpdate:function(){if(this.state.focusWebUri){this.refs.weburi.focusInput();n.addPostDispatchCallback(function(){n.dispatch({actionType:'clear-focused'});});}else if(this.state.focusMsite){this.refs.msite.focusInput();n.addPostDispatchCallback(function(){n.dispatch({actionType:'clear-focused'});});}return;},_onChangeCta:function(ca){var da=w.getDataCopy();da.event_type=u.CUSTOM_CTA_CHANGE_CTA_TYPE;t.log(da);n.dispatch({actionType:'update-cta-type',data:ca.value});},_onChangeWebURL:function(event){var ca=w.getDataCopy();ca.event_type=u.CUSTOM_CTA_CHANGE_WEB_LINK;t.log(ca);n.dispatch({actionType:'update-weburl',data:event.target.value});},_onChangeMsite:function(event){var ca=w.getDataCopy();ca.event_type=u.CUSTOM_CTA_CHANGE_MOBILE_LINK;t.log(ca);n.dispatch({actionType:'update-msite',data:event.target.value});},_checkWebUri:function(){n.addPostDispatchCallback(function(){n.dispatch({actionType:'check-weburl'});});},_checkMsite:function(){n.addPostDispatchCallback(function(){n.dispatch({actionType:'check-msite'});});},_weburlOnKeyDown:function(ca){if(ca.keyCode===p.RETURN){ca.preventDefault();n.addPostDispatchCallback(function(){n.dispatch({actionType:'check-weburl'});});if(!w.getError('webUriError'))this.refs.msite.focusInput();}},_msiteOnKeyDown:function(ca){if(ca.keyCode===p.RETURN){ca.preventDefault();this._checkMsite();}},render:function(){var ca=g.createElement("span",null,g.createElement(o,{className:"_1tzs",src:m.getCallToActionIcon(this.state.data.ctaType)}),m.getCallToActionLabel(this.state.data.ctaType));return (g.createElement(q,{className:"_qr7"},g.createElement("div",{className:"_qr8"},g.createElement(o,{alt:"sad",className:s.isRTL()?"_77u":'',src:j('/images/pages/custom_cta/www-preview-new.png')}),g.createElement(x,{className:"_1tzt",label:ca,size:"large"})),g.createElement("div",{className:"_qr9"},g.createElement("div",{className:"_5osn"},l.CREATE_DIALOG_BODY_MESSAGE,' ',g.createElement(r,{target:"_blank",href:aa},"Learn More"),"."),g.createElement("div",{className:"_qr4"},l.ACTION_SELECTOR_LABEL),g.createElement("div",{className:"_qra"},g.createElement(y,{onChange:this._onChangeCta,value:this.state.data.ctaType},k.getCallToActionSelectorOptions(l.CREATE_CTA_TYPE_OPTIONS))),g.createElement("div",{className:"_qr4"},l.WEB_LINK_INPUT_LABEL),g.createElement(z,{className:"_qr5",onBlur:this._checkWebUri,onChange:this._onChangeWebURL,onKeyDown:this._weburlOnKeyDown,placeholder:l.WEB_LINK_INPUT_PLACEHOLDER,ref:"weburi",value:this.state.data.webURI,xuiError:this.state.webUriError}),g.createElement("div",{className:"_qr4"},l.MOBILE_LINK_INPUT_LABEL),g.createElement(z,{className:"_qr5",onBlur:this._checkMsite,onChange:this._onChangeMsite,onKeyDown:this._msiteOnKeyDown,placeholder:l.OPTIONAL_LABEL,ref:"msite",value:this.state.data.mobileURI,xuiError:this.state.mobileUriError}))));}});e.exports=ba;},null);
__d("CctaDialogBody.react",["CctaDialogBodyAndroid.react","CctaDialogBodyIphone.react","CctaDialogBodyCta.react","React"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=j.createClass({displayName:"CctaDialogBody",propTypes:{step:j.PropTypes.number.isRequired},render:function(){switch(this.props.step){case 1:return j.createElement(i,null);case 2:return j.createElement(h,null);case 3:return j.createElement(g,null);}return null;}});e.exports=k;},null);
__d("PureStoreBasedStateMixin",["StoreBasedStateMixinHelper","invariant","setImmediate"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=function(){for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);return {getInitialState:function(){return this.constructor.calculateState();},componentWillMount:function(){h(this.constructor.calculateState);this._recalculateStateID=null;var n=function(){if(this.isMounted())this.setState(this.constructor.calculateState());this._recalculateStateID=null;}.bind(this);this._mixin=new g(k);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=i(n);}.bind(this));},componentWillUnmount:function(){this._mixin.release();this._mixin=null;}};}.bind(this);e.exports=j;},null);
__d("XCctaAppsController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/custom_cta\/getapps\/",{});},null);
__d("CctaAdvancedDialog.react",["cx","fbt","AsyncRequest","CctaDialogBody.react","CustomCTAConstants","CustomCTALogger","CctaDispatcher","LayerFadeOnHide","PagesEventType","PureStoreBasedStateMixin","React","CctaStore","XCctaAppsController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';var z=q,aa=z.PropTypes,ba=q.createClass({displayName:"CctaAdvancedDialog",mixins:[p(r)],propTypes:{onClose:aa.func.isRequired,payload:aa.object.isRequired,shown:aa.bool.isRequired},statics:{calculateState:function(){return {data:r.getData(),isLoading:r.getIsLoading(),step:r.getStep()};}},_getPrimaryActionButton:function(){var ca=null;if(this.state.step===3){if(r.getData().cctaID){ca="Save Changes";}else ca="Create";}else ca="Next";return (q.createElement(v,{label:ca,onClick:this.increaseStep,use:"confirm"}));},_getSecondaryActionButton:function(){if(this.state.step===1){return (q.createElement(v,{label:"Cancel",onClick:this._onClose,use:"default"}));}else return (q.createElement(v,{label:"Back",onClick:this.decreaseStep,use:"default"}));},componentDidMount:function(){var ca=(s.getURIBuilder()).getURI();new i(ca).setHandler(function(da){m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'get-apps-from-server',data:da.payload});});}).send();},componentWillMount:function(){this._subscription=r.subscribe('change',function(){this.setState({data:r.getData()});}.bind(this));m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'update-from-server',data:this.props.payload});}.bind(this));},componentWillUnmount:function(){this._subscription.unsubscribe();},componentDidUpdate:function(){window.setTimeout(function(){return this.refs.dialog&&this.refs.dialog.layer.updatePosition();}.bind(this),0);},_renderDialogTitle:function(){if(this.state.step===1){return k.CREATE_CALL_TO_ACTION_WEBSITE;}else if(this.state.step===2){return k.CREATE_CALL_TO_ACTION_IPHONE;}else if(this.state.step===3)return k.CREATE_CALL_TO_ACTION_ANDROID;},increaseStep:function(){var ca=r.getDataCopy();ca.step=this.state.step;if(this.state.step<=2){ca.event_type=o.CUSTOM_CTA_CLICK_NEXT_BUTTON;}else if(this.state.step===3)ca.event_type=o.CUSTOM_CTA_CLICK_CREATE_BUTTON;l.log(ca);m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'increase-step'});});},decreaseStep:function(){var ca=r.getDataCopy();ca.step=this.state.step;if(ca.step<=1){ca.event_type=o.CUSTOM_CTA_CLICK_CLOSE;}else ca.event_type=o.CUSTOM_CTA_CLICK_BACK_BUTTON_ON_DIALOG;l.log(ca);m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'decrease-step'});});},_logCancel:function(){var ca=r.getDataCopy();ca.step=this.state.step;ca.event_type=o.CUSTOM_CTA_CLICK_CANCEL;l.log(ca);},_onClose:function(){this._logCancel();this.props.onClose();},_onToggle:function(ca){if(ca===false){this._logCancel();m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});}.bind(this));}},renderDialogBody:function(){if(this.state.isLoading){return (q.createElement("div",null,q.createElement(u,null,k.CREATE_LOADING_MESSAGE),q.createElement(u,{className:"_2pv5"},q.createElement(y,{background:"light",size:"large"}))));}else return q.createElement(j,{step:this.state.step});},render:function(){return (q.createElement(t,{behaviors:{LayerFadeOnHide:n},fixedTopPosition:0,ref:"dialog",layerHideOnBlur:false,onClose:this._onClose,onToggle:this._onToggle,width:k.CREATE_DIALOG_WIDTH,height:k.CREATE_DIALOG_HEIGHT,shown:this.props.shown},q.createElement(x,null,this._renderDialogTitle()),q.createElement(u,{useCustomPadding:true},this.renderDialogBody()),q.createElement(w,{className:"_32t9"},this._getSecondaryActionButton(),this._getPrimaryActionButton())));}});e.exports=ba;},null);
__d("CustomCTAFinish.react",["fbt","CctaDispatcher","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=j.createClass({displayName:"CustomCTAFinish",propTypes:{createButton:j.PropTypes.object.isRequired,onClose:j.PropTypes.func.isRequired,pageid:j.PropTypes.string.isRequired},onClick:function(){h.dispatch({actionType:'show-confirmation-dialog',data:this.props.pageid});},render:function(){return (j.createElement(k,{alignment:"center",behaviors:{LayerHideOnBlur:i},context:this.props.createButton.getDOMNode(),onToggle:this.onClick,position:"below",shown:true,width:350},j.createElement(n,null,"Your Call-to-Action Button is Ready"),j.createElement(l,null,"This button is now showing on your Page. You can test or edit it here."),j.createElement(m,null,j.createElement(o,{action:"cancel",label:"Next",onClick:this.onClick,use:"confirm"}))));}});e.exports=p;},null);
__d("XCctaDeleteController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/ccta\/delete\/",{});},null);
__d("CctaAdminMenu.react",["cx","fbt","CctaAdvancedDialog.react","Arbiter","AsyncDialog","AsyncRequest","BoostedPagelikeRefs","ContextualDialogArrow","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CustomCTAFinish.react","CctaDispatcher","LayerFadeOnHide","MenuSeparator.react","PagesEventType","PopoverMenu.react","React","Image.react","ReactLayeredComponentMixin","StoreAndPropBasedStateMixin","CctaStore","XCctaDeleteController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","ReactXUIMenu","XUIPopoverButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){'use strict';var ka=x,la=ka.PropTypes,ma=ia.Item,na="/ajax/ads/boosted_website/create.php",oa=x.createClass({displayName:"DeleteDialog",propTypes:{pageID:x.PropTypes.string.isRequired,cctaID:x.PropTypes.string.isRequired},_onDeleteButtonClick:function(){p.log({event_type:v.CUSTOM_CTA_CLICK_DELETE,page_id:this.props.pageID,cctaID:this.props.cctaID});var qa=ca.getURIBuilder().getURI();new l().setURI(qa).setData({ccta_id:this.props.cctaID,page_id:this.props.pageID}).setHandler(function(ra){s.dispatch({actionType:'deleted-to-server',data:ra.payload});}.bind(this)).send();},render:function(){return (x.createElement(da,{behaviors:{LayerFadeOnHide:t},onToggle:this.props.onClose,shown:true,width:400},x.createElement(ha,null,o.DELETE_DIALOG_TITLE),x.createElement(ea,null,o.DELETE_DIALOG_MESSAGE),x.createElement(ga,null,x.createElement(fa,{action:"cancel",label:"Cancel",use:"default"}),x.createElement(fa,{action:"cancel",label:"Delete",onClick:this._onDeleteButtonClick,use:"confirm"}))));}}),pa=x.createClass({displayName:"CctaAdminMenu",mixins:[aa(ba),z],propTypes:{payload:la.object.isRequired},getInitialState:function(){return {dialogState:o.NO_DIALOG};},statics:{calculateState:function(qa){return {showingDialog:ba.getUi(qa.payload.pageID,'showingDialog'),showingFinishDialog:ba.getUi(qa.payload.pageID,'showingFinishDialog'),step:ba.getStep()};}},_toggleDialog:function(){this.setState({dialogState:o.NO_DIALOG});s.dispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});},_showEditDialog:function(){p.log({event_type:v.CUSTOM_CTA_VIEW_EDIT,page_id:this.props.payload.pageID,ctaType:this.props.payload.callToActionType,cctaID:this.props.payload.cctaID});this.setState({dialogState:o.EDIT_DIALOG});},_showDeleteDialog:function(){p.log({event_type:v.CUSTOM_CTA_VIEW_DELETE,page_id:this.props.payload.pageID,ctaType:this.props.payload.callToActionType,cctaID:this.props.payload.cctaID});this.setState({dialogState:o.DELETE_DIALOG});},_onCloseFinishDialog:function(){s.dispatch({actionType:'update-showing-finish-dialog',data:this.props.payload.pageID});},renderLayers:function(){if(this.state.dialogState===o.EDIT_DIALOG&&this.state.showingDialog){return (x.createElement(i,{onClose:this._toggleDialog,payload:this.props.payload,shown:this.state.dialogState===o.EDIT_DIALOG&&this.state.showingDialog}));}else if(this.state.dialogState===o.DELETE_DIALOG){return (x.createElement(oa,{cctaID:this.props.payload.cctaID,onClose:this._toggleDialog,pageID:this.props.payload.pageID}));}else if(this.state.showingFinishDialog&&!ba.hasCCTAID())return (x.createElement(r,{createButton:this.refs.ctaButton,onClose:this._onCloseFinishDialog,pageid:this.props.payload.pageID}));},_openTestLink:function(){q.executeCallToAction(this.props.payload.webURI);p.log({event_type:v.CUSTOM_CTA_CLICK_TEST_LINK,page_id:this.props.payload.pageID,cctaID:this.props.cctaID,webURI:this.props.payload.webURI});},_showPromotionDialog:function(){var qa=new l(na).setData({is_custom_cta:true,cctaid:this.props.payload.cctaID,pageid:this.props.payload.pageID,website:this.props.payload.webURI,call_to_action_type:q.getAdsCallToActionType(this.props.payload.ctaType),ref:m.CUSTOM_CTA_DROPDOWN});k.send(qa);},_showPromotionInsightPanel:function(){j.inform(o.SHOW_FLYOUT,{});},render:function(){var qa=null;if(this.props.payload.promoting){qa=x.createElement(ma,{onclick:this._showPromotionInsightPanel},o.VIEW_PROMOTION_LABEL);}else if(this.props.payload.canPromote)qa=x.createElement(ma,{onclick:this._showPromotionDialog},o.PROMOTE_LABEL);var ra=x.createElement(ia,null,x.createElement(ma,{onclick:this._openTestLink},o.TEST_LABEL),x.createElement(ma,{onclick:this._showEditDialog},o.EDIT_LABEL),qa,x.createElement(u,null),x.createElement(ma,{onclick:this._showDeleteDialog},o.DELETE_LABEL)),sa=x.createElement("span",null,x.createElement(y,{className:"_xgc",src:q.getCallToActionIcon(this.props.payload.ctaType)}),q.getCallToActionLabel(this.props.payload.ctaType));return (x.createElement(w,{layerBehaviors:[n],menu:ra},x.createElement(ja,{borderShade:"dark",label:sa,onClick:this._toggleDialog,size:"large",ref:"ctaButton"})));}});e.exports=pa;},null);
__d("CctaCreateButton.react",["CctaAdvancedDialog.react","CustomCTAConstants","CustomCTALogger","CctaDispatcher","PagesEventType","React","ReactLayeredComponentMixin","CctaStore","StoreAndPropBasedStateMixin","XUIButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q=l.createClass({displayName:"CctaCreateButton",mixins:[o(n),m],propTypes:{payload:l.PropTypes.object.isRequired},statics:{calculateState:function(r){return {showingDialog:n.getUi(r.payload.pageID,'showingDialog'),step:n.getStep()};}},_hideCreateDialog:function(){j.addPostDispatchCallback(function(){j.cctaDispatch({actionType:'update-showing-finish-dialog',data:this.props.payload.pageID});}.bind(this));},_showDialog:function(){i.log({event_type:k.CUSTOM_CTA_VIEW_CREATE,user_id:this.props.payload.userID,page_id:this.props.payload.pageID});this._toggleDialog();},_toggleDialog:function(){j.addPostDispatchCallback(function(){j.cctaDispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});}.bind(this));},renderLayers:function(){if(this.state.showingDialog)return {dialog:l.createElement(g,{onClose:this._toggleDialog,payload:this.props.payload,shown:this.state.showingDialog})};},render:function(){var r=h.CREATE_LABEL;return (l.createElement(p,{"aria-label":h.CREATE_TOOLTIP,"data-hover":"tooltip",borderShade:"dark",label:r,onClick:this._showDialog,ref:"createButton",size:"large"}));}});e.exports=q;},null);
__d("CctaAdminUnit.react",["CctaAdminMenu.react","CctaCreateButton.react","React","CctaStore","StoreAndPropBasedStateMixin"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';var l=i,m=l.PropTypes,n=i.createClass({displayName:"CctaAdminUnit",mixins:[k(j)],propTypes:{payload:m.object.isRequired},statics:{calculateState:function(o){if(j.isInitialized())if(j.getPageID()===o.payload.pageID)return {payload:j.getDataCopy()};return {payload:o.payload};}},render:function(){var o=null;if(!!this.state.payload.cctaID){o=i.createElement(g,{payload:this.state.payload});}else o=i.createElement(h,{payload:this.state.payload});return o;}});e.exports=n;},null);
__d("CctaConfirmationDialog.react",["fbt","CctaDispatcher","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p=j.createClass({displayName:"CctaConfirmationDialog",propTypes:{createButton:j.PropTypes.object.isRequired,pageid:j.PropTypes.number.isRequired},onClick:function(){h.dispatch({actionType:'delete-confirmation-dialog',data:this.props.pageid});},render:function(){return (j.createElement(k,{alignment:"center",behaviors:{LayerHideOnBlur:i},context:this.props.createButton.getDOMNode(),onToggle:this.onClick,position:"left",shown:true,width:350},j.createElement(n,null,"View Your Results"),j.createElement(l,null,"Check here to see how many times your call-to-action(CTA) button has been clicked in the last 7 days."),j.createElement(m,null,j.createElement(o,{action:"cancel",label:"Finish",onClick:this.onClick,use:"confirm"}))));}});e.exports=p;},null);
__d("art/core/class",[],function(a,b,c,d,e,f){e.exports=function(g){var h={};for(var i=0,j=arguments.length;i<j;i++){var k=arguments[i];if(typeof k=='function')k=k.prototype;for(var l in k)h[l]=k[l];}if(!h.initialize)h.initialize=function(){};h.constructor=function(m,n,o,p,q,r,s,t){return new h.initialize(m,n,o,p,q,r,s,t);};h.constructor.prototype=h.initialize.prototype=h;return h.constructor;};},null);
__d("art/dom/container",["art/core/class"],function(a,b,c,d,e,f,g){e.exports=g({grab:function(){for(var h=0;h<arguments.length;h++)arguments[h].inject(this);return this;},empty:function(){var h;while(h=this.firstChild)h.eject();return this;}});},null);
__d("art/dom/native",["art/core/class"],function(a,b,c,d,e,f,g){function h(i){if(i.toElement)return i.toElement();if(i.getDOMNode)return i.getDOMNode();if(i.getNode)return i.getNode();return i;}e.exports=g({toElement:function(){return this.element;},getDOMNode:function(){return this.toElement();},getNode:function(){return this.toElement();},inject:function(i){(i.containerElement||h(i)).appendChild(this.element);return this;},injectBefore:function(i){var j=h(i);j.parentNode.insertBefore(this.element,j);return this;},eject:function(){var i=this.element,j=i.parentNode;if(j)j.removeChild(i);return this;},subscribe:function(i,j,k){if(typeof i!='string'){var l=[];for(var m in i)l.push(this.subscribe(m,i[m]));return function(){for(var p=0,q=l.length;p<q;p++)l[p]();return this;};}else{if(!k)k=this;var n;if(typeof j==='function'){n=j.bind?j.bind(k):function(){return j.apply(k,arguments);};}else n=j;var o=this.element;if(o.addEventListener){o.addEventListener(i,n,false);return function(){o.removeEventListener(i,n,false);return this;};}else{o.attachEvent('on'+i,n);return function(){o.detachEvent('on'+i,n);return this;};}}}});},null);
__d("art/modes/vml/dom",[],function(a,b,c,d,e,f){var g='behavior:url(#default#VML);display:inline-block;position:absolute;left:0px;top:0px;',h,i={},j=function(k){if(h)i[k]=h.addRule('av\\:'+k,g);};f.init=function(k){var l;try{l=k.namespaces;}catch(m){}if(!l)return false;l.add('av','urn:schemas-microsoft-com:vml');l.add('ao','urn:schemas-microsoft-com:office:office');h=k.createStyleSheet();h.addRule('vml','display:inline-block;position:relative;overflow:hidden;');j('vml');return true;};f.createElement=function(k){if(!(k in i))j(k);return document.createElement('av:'+k);};},null);
__d("art/modes/vml/surface",["art/core/class","art/dom/container","art/dom/native","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){var k=100,l=g(i,h,{initialize:function m(n,o,p){this.element=p||document.createElement('vml');this.containerElement=j.createElement('group');this.element.appendChild(this.containerElement);if(n!=null&&o!=null)this.resize(n,o);},resize:function(m,n){this.width=m;this.height=n;var o=this.element.style;o.pixelWidth=m;o.pixelHeight=n;o=this.containerElement.style;o.width=m;o.height=n;var p=(.5*k);this.containerElement.coordorigin=p+','+p;this.containerElement.coordsize=(m*k)+','+(n*k);return this;}});l.tagName='av:vml';e.exports=l;},null);
__d("art/core/path",["art/core/class"],function(a,b,c,d,e,f,g){e.exports=g({initialize:function(h){this.reset().push(h);},push:function(){var h=Array.prototype.join.call(arguments,' ').match(/[a-df-z]|[\-+]?(?:[\d\.]e[\-+]?|[^\s\-+,a-z])+/ig);if(!h)return this;var i,j=h[0],k=1;while(j){switch(j){case 'm':this.move(h[k++],h[k++]);break;case 'l':this.line(h[k++],h[k++]);break;case 'c':this.curve(h[k++],h[k++],h[k++],h[k++],h[k++],h[k++]);break;case 's':this.curve(h[k++],h[k++],null,null,h[k++],h[k++]);break;case 'q':this.curve(h[k++],h[k++],h[k++],h[k++]);break;case 't':this.curve(h[k++],h[k++]);break;case 'a':this.arc(h[k+5],h[k+6],h[k],h[k+1],h[k+3],!+h[k+4],h[k+2]);k+=7;break;case 'h':this.line(h[k++],0);break;case 'v':this.line(0,h[k++]);break;case 'M':this.moveTo(h[k++],h[k++]);break;case 'L':this.lineTo(h[k++],h[k++]);break;case 'C':this.curveTo(h[k++],h[k++],h[k++],h[k++],h[k++],h[k++]);break;case 'S':this.curveTo(h[k++],h[k++],null,null,h[k++],h[k++]);break;case 'Q':this.curveTo(h[k++],h[k++],h[k++],h[k++]);break;case 'T':this.curveTo(h[k++],h[k++]);break;case 'A':this.arcTo(h[k+5],h[k+6],h[k],h[k+1],h[k+3],!+h[k+4],h[k+2]);k+=7;break;case 'H':this.lineTo(h[k++],this.penY);break;case 'V':this.lineTo(this.penX,h[k++]);break;case 'Z':case 'z':this.close();break;default:j=i;k--;continue;}i=j;if(i=='m'){i='l';}else if(i=='M')i='L';j=h[k++];}return this;},reset:function(){this.penX=this.penY=0;this.penDownX=this.penDownY=null;this._pivotX=this._pivotY=0;this.onReset();return this;},move:function(h,i){this.onMove(this.penX,this.penY,this._pivotX=this.penX+=(+h),this._pivotY=this.penY+=(+i));return this;},moveTo:function(h,i){this.onMove(this.penX,this.penY,this._pivotX=this.penX=(+h),this._pivotY=this.penY=(+i));return this;},line:function(h,i){return this.lineTo(this.penX+(+h),this.penY+(+i));},lineTo:function(h,i){if(this.penDownX==null){this.penDownX=this.penX;this.penDownY=this.penY;}this.onLine(this.penX,this.penY,this._pivotX=this.penX=(+h),this._pivotY=this.penY=(+i));return this;},curve:function(h,i,j,k,l,m){var n=this.penX,o=this.penY;return this.curveTo(n+(+h),o+(+i),j==null?null:n+(+j),k==null?null:o+(+k),l==null?null:n+(+l),m==null?null:o+(+m));},curveTo:function(h,i,j,k,l,m){var n=this.penX,o=this.penY;if(j==null){j=+h;k=+i;h=(n*2)-(this._pivotX||0);i=(o*2)-(this._pivotY||0);}if(l==null){this._pivotX=+h;this._pivotY=+i;l=+j;m=+k;j=(l+(+h)*2)/3;k=(m+(+i)*2)/3;h=(n+(+h)*2)/3;i=(o+(+i)*2)/3;}else{this._pivotX=+j;this._pivotY=+k;}if(this.penDownX==null){this.penDownX=n;this.penDownY=o;}this.onBezierCurve(n,o,+h,+i,+j,+k,this.penX=+l,this.penY=+m);return this;},arc:function(h,i,j,k,l,m,n){return this.arcTo(this.penX+(+h),this.penY+(+i),j,k,l,m,n);},arcTo:function(h,i,j,k,l,m,n){k=Math.abs(+k||+j||(+i-this.penY));j=Math.abs(+j||(+h-this.penX));if(!j||!k||(h==this.penX&&i==this.penY))return this.lineTo(h,i);var o=this.penX,p=this.penY,q=!+m,r=!!+l,s=n?n*Math.PI/180:0,t=Math.cos(s),u=Math.sin(s);h-=o;i-=p;var v=t*h/2+u*i/2,w=-u*h/2+t*i/2,x=j*j*k*k,y=k*k*v*v,z=j*j*w*w,aa=x-z-y;if(aa<0){aa=Math.sqrt(1-aa/x);j*=aa;k*=aa;v=h/2;w=i/2;}else{aa=Math.sqrt(aa/(z+y));if(r==q)aa=-aa;var ba=-aa*w*j/k,ca=aa*v*k/j;v=t*ba-u*ca+h/2;w=u*ba+t*ca+i/2;}var da=t/j,ea=u/j,fa=-u/k,ga=t/k,ha=Math.atan2(fa*-v+ga*-w,da*-v+ea*-w),ia=Math.atan2(fa*(h-v)+ga*(i-w),da*(h-v)+ea*(i-w));v+=o;w+=p;h+=o;i+=p;if(this.penDownX==null){this.penDownX=this.penX;this.penDownY=this.penY;}this.onArc(o,p,this._pivotX=this.penX=h,this._pivotY=this.penY=i,v,w,j,k,ha,ia,!q,n);return this;},counterArc:function(h,i,j,k,l){return this.arc(h,i,j,k,l,true);},counterArcTo:function(h,i,j,k,l){return this.arcTo(h,i,j,k,l,true);},close:function(){if(this.penDownX!=null){this.onClose(this.penX,this.penY,this.penX=this.penDownX,this.penY=this.penDownY);this.penDownX=null;}return this;},onReset:function(){},onMove:function(h,i,j,k){},onLine:function(h,i,j,k){this.onBezierCurve(h,i,h,i,j,k,j,k);},onBezierCurve:function(h,i,j,k,l,m,n,o){var p=n-h,q=o-i,r=p*p+q*q,s,t,u,v,w;u=j-h;v=k-i;w=u*p+v*q;if(w>r){u-=p;v-=q;}else if(w>0&&r!=0){u-=w/r*p;v-=w/r*q;}s=u*u+v*v;u=l-h;v=m-i;w=u*p+v*q;if(w>r){u-=p;v-=q;}else if(w>0&&r!=0){u-=w/r*p;v-=w/r*q;}t=u*u+v*v;if(s<.01&&t<.01){this.onLine(h,i,n,o);return;}if(isNaN(s)||isNaN(t))throw new Error('Bad input');var x=(j+l)*.5,y=(k+m)*.5,z=(j+h)*.5,aa=(k+i)*.5,ba=(z+x)*.5,ca=(aa+y)*.5,da=(n+l)*.5,ea=(o+m)*.5,fa=(da+x)*.5,ga=(ea+y)*.5,ha=(ba+fa)*.5,ia=(ca+ga)*.5;this.onBezierCurve(h,i,z,aa,ba,ca,ha,ia);this.onBezierCurve(ha,ia,fa,ga,da,ea,n,o);},onArc:function(h,i,j,k,l,m,n,o,p,q,r,s){var t=s?s*Math.PI/180:0,u=Math.cos(t),v=Math.sin(t),w=u*n,x=-v*o,y=v*n,z=u*o,aa=q-p;if(aa<0&&!r){aa+=Math.PI*2;}else if(aa>0&&r)aa-=Math.PI*2;var ba=Math.ceil(Math.abs(aa/(Math.PI/2))),ca=aa/ba,da=(4/3)*Math.tan(ca/4),ea=Math.cos(p),fa=Math.sin(p);for(var ga=0;ga<ba;ga++){var ha=ea-da*fa,ia=fa+da*ea;p+=ca;ea=Math.cos(p);fa=Math.sin(p);var ja=ea+da*fa,ka=fa-da*ea;this.onBezierCurve(h,i,l+w*ha+x*ia,m+y*ha+z*ia,l+w*ja+x*ka,m+y*ja+z*ka,(h=(l+w*ea+x*fa)),(i=(m+y*ea+z*fa)));}},onClose:function(h,i,j,k){this.onLine(h,i,j,k);}});},null);
__d("art/modes/vml/path",["art/core/class","art/core/path"],function(a,b,c,d,e,f,g,h){var i=100,j=Math.round,k=g(h,{initialize:function(l){this.reset();if(l instanceof k){this.path=[Array.prototype.join.call(l.path,' ')];}else if(l)if(l.applyToPath){l.applyToPath(this);}else this.push(l);},onReset:function(){this.path=[];},onMove:function(l,m,n,o){this.path.push('m',j(n*i),j(o*i));},onLine:function(l,m,n,o){this.path.push('l',j(n*i),j(o*i));},onBezierCurve:function(l,m,n,o,p,q,r,s){this.path.push('c',j(n*i),j(o*i),j(p*i),j(q*i),j(r*i),j(s*i));},_arcToBezier:h.prototype.onArc,onArc:function(l,m,n,o,p,q,r,s,t,u,v,w){if(r!=s||w)return this._arcToBezier(l,m,n,o,p,q,r,s,t,u,v,w);p*=i;q*=i;r*=i;this.path.push(v?'at':'wa',j(p-r),j(q-r),j(p+r),j(q+r),j(l*i),j(m*i),j(n*i),j(o*i));},onClose:function(){this.path.push('x');},toVML:function(){return this.path.join(' ');}});k.prototype.toString=k.prototype.toVML;e.exports=k;},null);
__d("art/core/transform",["art/core/class"],function(a,b,c,d,e,f,g){function h(i,j,k,l,m,n){if(i&&typeof i=='object'){j=i.yx;l=i.yy;n=i.y;k=i.xy;m=i.x;i=i.xx;}this.xx=i==null?1:i;this.yx=j||0;this.xy=k||0;this.yy=l==null?1:l;this.x=(m==null?this.x:m)||0;this.y=(n==null?this.y:n)||0;this._transform();return this;}e.exports=g({initialize:h,_transform:function(){},xx:1,yx:0,x:0,xy:0,yy:1,y:0,transform:function(i,j,k,l,m,n){var o=this;if(i&&typeof i=='object'){j=i.yx;l=i.yy;n=i.y;k=i.xy;m=i.x;i=i.xx;}if(!m)m=0;if(!n)n=0;return this.transformTo(o.xx*i+o.xy*j,o.yx*i+o.yy*j,o.xx*k+o.xy*l,o.yx*k+o.yy*l,o.xx*m+o.xy*n+o.x,o.yx*m+o.yy*n+o.y);},transformTo:h,translate:function(i,j){return this.transform(1,0,0,1,i,j);},move:function(i,j){this.x+=i||0;this.y+=j||0;this._transform();return this;},scale:function(i,j){if(j==null)j=i;return this.transform(i,0,0,j,0,0);},rotate:function(i,j,k){if(j==null||k==null){j=(this.left||0)+(this.width||0)/2;k=(this.top||0)+(this.height||0)/2;}var l=i*Math.PI/180,m=Math.sin(l),n=Math.cos(l);this.transform(1,0,0,1,j,k);var o=this;return this.transformTo(n*o.xx-m*o.yx,m*o.xx+n*o.yx,n*o.xy-m*o.yy,m*o.xy+n*o.yy,o.x,o.y).transform(1,0,0,1,-j,-k);},moveTo:function(i,j){var k=this;return this.transformTo(k.xx,k.yx,k.xy,k.yy,i,j);},rotateTo:function(i,j,k){var l=this,m=l.yx/l.xx>l.yy/l.xy?-1:1;if(l.xx<0?l.xy>=0:l.xy<0)m=-m;return this.rotate(i-Math.atan2(m*l.yx,m*l.xx)*180/Math.PI,j,k);},scaleTo:function(i,j){var k=this,l=Math.sqrt(k.xx*k.xx+k.yx*k.yx);k.xx/=l;k.yx/=l;l=Math.sqrt(k.yy*k.yy+k.xy*k.xy);k.yy/=l;k.xy/=l;return this.scale(i,j);},resizeTo:function(i,j){var k=this.width,l=this.height;if(!k||!l)return this;return this.scaleTo(i/k,j/l);},inversePoint:function(i,j){var k=this.xx,l=this.yx,m=this.xy,n=this.yy,o=this.x,p=this.y,q=l*m-k*n;if(q==0)return null;return {x:(n*(o-i)+m*(j-p))/q,y:(k*(p-j)+l*(i-o))/q};},point:function(i,j){var k=this;return {x:k.xx*i+k.xy*j+k.x,y:k.yx*i+k.yy*j+k.y};}});},null);
__d("art/core/color",[],function(a,b,c,d,e,f){var g={maroon:'#800000',red:'#ff0000',orange:'#ffA500',yellow:'#ffff00',olive:'#808000',purple:'#800080',fuchsia:"#ff00ff",white:'#ffffff',lime:'#00ff00',green:'#008000',navy:'#000080',blue:'#0000ff',aqua:'#00ffff',teal:'#008080',black:'#000000',silver:'#c0c0c0',gray:'#808080'},h=function(n,o){var p=[];for(var q=0,r=n.length;q<r;q++)p[q]=o(n[q],q);return p;},i=function(n,o){if(n.isColor){this.red=n.red;this.green=n.green;this.blue=n.blue;this.alpha=n.alpha;}else{var p=g[n];if(p){n=p;o='hex';}switch(typeof n){case 'string':if(!o)o=(o=n.match(/^rgb|^hsb|^hsl/))?o[0]:'hex';break;case 'object':o=o||'rgb';n=n.toString();break;case 'number':o='hex';n=n.toString(16);break;}n=i['parse'+o.toUpperCase()](n);this.red=n[0];this.green=n[1];this.blue=n[2];this.alpha=n[3];}this.isColor=true;},j=function(n,o,p){return Math.min(p,Math.max(o,n));},k=/([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,\s*([-.\d]+\%?)\s*,?\s*([-.\d]*\%?)/,l=/^#?([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{0,2})$/i;i.parseRGB=function(n){return h(n.match(k).slice(1),function(o,p){if(o)o=parseFloat(o)*(o[o.length-1]=='%'?2.55:1);return (p<3)?Math.round(((o%=256)<0)?o+256:o):j(((o==='')?1:Number(o)),0,1);});};i.parseHEX=function(n){if(n.length==1)n=n+n+n;return h(n.match(l).slice(1),function(o,p){if(p==3)return (o)?parseInt(o,16)/255:1;return parseInt((o.length==1)?o+o:o,16);});};i.parseHSB=function(n){var o=h(n.match(k).slice(1),function(w,x){if(w)w=parseFloat(w);if(x===0){return Math.round(((w%=360)<0)?(w+360):w);}else if(x<3){return j(Math.round(w),0,100);}else return j(((w==='')?1:Number(w)),0,1);}),p=o[3],q=Math.round(o[2]/100*255);if(o[1]==0)return [q,q,q,p];var r=o[0],s=r%60,t=Math.round((o[2]*(100-o[1]))/10000*255),u=Math.round((o[2]*(6000-o[1]*s))/600000*255),v=Math.round((o[2]*(6000-o[1]*(60-s)))/600000*255);switch(Math.floor(r/60)){case 0:return [q,v,t,p];case 1:return [u,q,t,p];case 2:return [t,q,v,p];case 3:return [t,u,q,p];case 4:return [v,t,q,p];default:return [q,t,u,p];}};i.parseHSL=function(n){var o=h(n.match(k).slice(1),function(z,aa){if(z)z=parseFloat(z);if(aa===0){return Math.round(((z%=360)<0)?(z+360):z);}else if(aa<3){return j(Math.round(z),0,100);}else return j(((z==='')?1:Number(z)),0,1);}),p=o[0]/60,q=o[1]/100,r=o[2]/100,s=o[3],t=(1-Math.abs(2*r-1))*q,u=t*(1-Math.abs(p%2-1)),v=r-t/2,w=Math.round((t+v)*255),x=Math.round((u+v)*255),y=Math.round((v)*255);switch(Math.floor(p)){case 0:return [w,x,y,s];case 1:return [x,w,y,s];case 2:return [y,w,x,s];case 3:return [y,x,w,s];case 4:return [x,y,w,s];default:return [w,y,x,s];}};var m=function(n,o){if(o[3]!=1){n+='a';}else o.pop();return n+'('+o.join(', ')+')';};i.prototype={toHSB:function(n){var o=this.red,p=this.green,q=this.blue,r=this.alpha,s=Math.max(o,p,q),t=Math.min(o,p,q),u=s-t,v=0,w=(u!=0)?u/s:0,x=s/255;if(w){var y=(s-o)/u,z=(s-p)/u,aa=(s-q)/u;v=(o==s)?aa-z:(p==s)?2+y-aa:4+z-y;if((v/=6)<0)v++;}var ba=[Math.round(v*360),Math.round(w*100),Math.round(x*100),r];return (n)?ba:m('hsb',ba);},toHSL:function(n){var o=this.red,p=this.green,q=this.blue,r=this.alpha,s=Math.max(o,p,q),t=Math.min(o,p,q),u=s-t,v=0,w=(u!=0)?u/(255-Math.abs((s+t)-255)):0,x=(s+t)/512;if(w){var y=(s-o)/u,z=(s-p)/u,aa=(s-q)/u;v=(o==s)?aa-z:(p==s)?2+y-aa:4+z-y;if((v/=6)<0)v++;}var ba=[Math.round(v*360),Math.round(w*100),Math.round(x*100),r];return (n)?ba:m('hsl',ba);},toHEX:function(n){var o=this.alpha,p=((o=Math.round((o*255)).toString(16)).length==1)?o+o:o,q=h([this.red,this.green,this.blue],function(r){r=r.toString(16);return (r.length==1)?'0'+r:r;});return (n)?q.concat(p):'#'+q.join('')+((p=='ff')?'':p);},toRGB:function(n){var o=[this.red,this.green,this.blue,this.alpha];return (n)?o:m('rgb',o);}};i.prototype.toString=i.prototype.toRGB;i.hex=function(n){return new i(n,'hex');};if(this.hex==null)this.hex=i.hex;i.hsb=function(n,o,p,q){return new i([n||0,o||0,p||0,(q==null)?1:q],'hsb');};if(this.hsb==null)this.hsb=i.hsb;i.hsl=function(n,o,p,q){return new i([n||0,o||0,p||0,(q==null)?1:q],'hsl');};if(this.hsl==null)this.hsl=i.hsl;i.rgb=function(n,o,p,q){return new i([n||0,o||0,p||0,(q==null)?1:q],'rgb');};if(this.rgb==null)this.rgb=i.rgb;i.detach=function(n){n=new i(n);return [i.rgb(n.red,n.green,n.blue).toString(),n.alpha];};e.exports=i;},null);
__d("art/dom/dummy",["art/core/class"],function(a,b,c,d,e,f,g){e.exports=g({_resetPlacement:function(){var h=this.parentNode;if(h){var i=this.previousSibling,j=this.nextSibling;if(i){i.nextSibling=j;}else h.firstChild=j;if(j){j.previousSibling=i;}else h.lastChild=this.previousSibling;}this.previousSibling=null;this.nextSibling=null;this.parentNode=null;return this;},inject:function(h){this._resetPlacement();var i=h.lastChild;if(i){i.nextSibling=this;this.previousSibling=i;}else h.firstChild=this;h.lastChild=this;this.parentNode=h;this._place();return this;},injectBefore:function(h){this._resetPlacement();var i=h.parentNode;if(!i)return this;var j=h.previousSibling;if(j){j.nextSibling=this;this.previousSibling=j;}else i.firstChild=this;h.previousSibling=this;this.nextSibling=h;this.parentNode=i;this._place();return this;},eject:function(){this._resetPlacement();this._place();return this;},_place:function(){},dispatch:function(event){var h=this._events,i=h&&h[event.type];if(i){i=i.slice(0);for(var j=0,k=i.length;j<k;j++){var l=i[j],m;if(typeof l=='function'){m=l.call(this,event);}else m=l.handleEvent(event);if(m===false)event.preventDefault();}}if(this.parentNode&&this.parentNode.dispatch)this.parentNode.dispatch(event);},subscribe:function(h,i,j){if(typeof h!='string'){var k=[];for(var l in h)k.push(this.subscribe(l,h[l]));return function(){for(var p=0,q=k.length;p<q;p++)k[p]();return this;};}else{var m=typeof i==='function'?i.bind(j||this):i,n=this._events||(this._events={}),o=n[h]||(n[h]=[]);o.push(m);return function(){for(var p=0,q=o.length;p<q;p++)if(o[p]===m){o.splice(p,1);break;}};}}});},null);
__d("art/dom/shadow",["art/core/class","art/dom/dummy","art/dom/native"],function(a,b,c,d,e,f,g,h,i){e.exports=g(h,i,{dummy_inject:h.prototype.inject,dummy_injectBefore:h.prototype.injectBefore,dummy_eject:h.prototype.eject,native_inject:i.prototype.inject,native_injectBefore:i.prototype.injectBefore,native_eject:i.prototype.eject,inject:function(j){this.dummy_inject(j);this.native_inject(j);return this;},injectBefore:function(j){this.dummy_injectBefore(j);this.native_injectBefore(j);return this;},eject:function(){this.dummy_eject();this.native_eject();return this;}});},null);
__d("art/modes/vml/node",["art/core/class","art/core/transform","art/dom/shadow","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){e.exports=g(i,h,{initialize:function(k){var l=this.element=j.createElement(k);},_place:function(){if(this.parentNode)this._transform();},hide:function(){this.element.style.display='none';return this;},show:function(){this.element.style.display='';return this;},indicate:function(k,l){if(k)this.element.style.cursor=k;if(l)this.element.title=l;return this;}});},null);
__d("art/modes/vml/base",["art/core/class","art/core/transform","art/core/color","art/modes/vml/node","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j,k){var l=100,m={left:0,top:0,width:500,height:500};e.exports=g(j,{element_initialize:j.prototype.initialize,initialize:function(n){this.element_initialize(n);var o=this.element,p=this.skewElement=k.createElement('skew');p.on=true;o.appendChild(p);var q=this.fillElement=k.createElement('fill');q.on=false;o.appendChild(q);var r=this.strokeElement=k.createElement('stroke');r.on=false;o.appendChild(r);},_transform:function(){var n=this.parentNode,o=n?new h(n._activeTransform).transform(this):this;if((o.xx===0&&o.yx===0)||(o.xy===0&&o.yy===0)){this.element.style.visibility='hidden';return;}else this.element.style.visibility='';var p=this._boxCoords||this._size||m,q=p.left||0,r=p.top||0,s=p.width||1,t=p.height||1,u=o.yx/o.xx>o.yy/o.xy;if(o.xx<0?o.xy>=0:o.xy<0)u=!u;u=u?-1:1;o=new h().scale(u,1).transform(o);var v=Math.atan2(-o.xy,o.yy)*180/Math.PI,w=v*Math.PI/180,x=Math.sin(w),y=Math.cos(w),z=new h((o.xx*y-o.xy*x),(o.yx*y-o.yy*x)*u,(o.xy*y+o.xx*x)*u,(o.yy*y+o.yx*x)),aa=new h().rotate(v,0,0),ba=new h().rotate(-v,0,0).transform(o).moveTo(0,0);s=1000;t=1000;var ca=o.x,da=o.y,ea=-s/2,fa=-t/2,ga=aa.point(ea,fa);ca-=ga.x-ea;da-=ga.y-fa;var ha=new h(o).moveTo(0,0);ga=ha.point(q,r);ca+=ga.x;da+=ga.y;if(u<0)ca=-ca-s;var ia=ha.point(-q,-r),ja=aa.point(s,t),ka=aa.point(s,0),la=aa.point(0,t),ma=Math.min(0,ja.x,ka.x,la.x),na=Math.max(0,ja.x,ka.x,la.x),oa=Math.min(0,ja.y,ka.y,la.y),pa=Math.max(0,ja.y,ka.y,la.y),qa=(ia.x-ja.x/2)/(na-ma)*u,ra=(ia.y-ja.y/2)/(pa-oa);ga=ba.point(q,r);q=ga.x;r=ga.y;var sa=this._strokeWidth;if(sa){var ea=o.xx+o.xy,fa=o.yy+o.yx;sa*=Math.sqrt(ea*ea+fa*fa)/Math.sqrt(2);}q*=l;r*=l;ca*=l;da*=l;s*=l;t*=l;var ta=this.element;ta.coordorigin=q+','+r;ta.coordsize=s+','+t;ta.style.left=ca+'px';ta.style.top=da+'px';ta.style.width=s;ta.style.height=t;ta.style.rotation=v.toFixed(8);ta.style.flip=u<0?'x':'';var ua=this.skewElement;ua.matrix=[z.xx.toFixed(4),z.xy.toFixed(4),z.yx.toFixed(4),z.yy.toFixed(4),0,0];ua.origin=qa+','+ra;this.strokeElement.weight=sa+'px';},_createGradient:function(n,o){var p=this.fillElement;this.element.removeChild(p);p.type=n;p.method='none';p.rotate=true;var q=[],r,s,t=function(x,y){y=i.detach(y);if(r==null){r=s=y;}else s=y;q.push(x+' '+y[0]);};if('length' in o){for(var u=0,v=o.length-1;u<=v;u++)t(u/v,o[u]);}else for(var w in o)t(w,o[w]);p.color=r[0];p.color2=s[0];p.colors=q;p.opacity=s[1];p['ao:opacity2']=r[1];p.on=true;this.element.appendChild(p);return p;},_setColor:function(n,o){var p=n=='fill'?this.fillElement:this.strokeElement;if(o==null){p.on=false;}else{o=i.detach(o);p.color=o[0];p.opacity=o[1];p.on=true;}},fill:function(n){if(arguments.length>1){this.fillLinear(arguments);}else{this._boxCoords=m;var o=this.fillElement;o.type='solid';o.color2='';o['ao:opacity2']='';if(o.colors)o.colors.value='';this._setColor('fill',n);}return this;},fillRadial:function(n,o,p,q,r,s,t){var u=this._createGradient('gradientradial',n);if(o==null)o=this.left+this.width*.5;if(p==null)p=this.top+this.height*.5;if(r==null)r=q||(this.height*.5);if(q==null)q=this.width*.5;if(s==null)s=o;if(t==null)t=p;s+=s-o;t+=t-p;var v=this._boxCoords={left:s-q*2,top:t-r*2,width:q*4,height:r*4};o-=v.left;p-=v.top;o/=v.width;p/=v.height;u.focussize='0 0';u.focusposition=o+','+p;u.focus='50%';this._transform();return this;},fillLinear:function(n,o,p,q,r){var s=this._createGradient('gradient',n);s.focus='100%';if(arguments.length==5){var t=Math.abs(q-o),u=Math.abs(r-p);this._boxCoords={left:Math.min(o,q),top:Math.min(p,r),width:t<1?u:t,height:u<1?t:u};s.angle=(360+Math.atan2((q-o)/u,(r-p)/t)*180/Math.PI)%360;}else{this._boxCoords=null;s.angle=(o==null)?0:(90+o)%360;}this._transform();return this;},fillImage:function(n,o,p,q,r,s,t){var u=this.fillElement;if(s!=null){s=i.detach(s);if(t!=null)t=i.detach(t);u.type='pattern';u.color=s[0];u.color2=t==null?s[0]:t[0];u.opacity=t==null?0:t[1];u['ao:opacity2']=s[1];}else{u.type='tile';u.color='';u.color2='';u.opacity=1;u['ao:opacity2']=1;}if(u.colors)u.colors.value='';u.rotate=true;u.src=n;u.size='1,1';u.position='0,0';u.origin='0,0';u.aspect='ignore';u.on=true;if(!q)q=0;if(!r)r=0;this._boxCoords=o?{left:q+.5,top:r+.5,width:o,height:p}:null;this._transform();return this;},stroke:function(n,o,p,q){var r=this.strokeElement;this._strokeWidth=(o!=null)?o:1;r.weight=(o!=null)?o+'px':1;r.endcap=(p!=null)?((p=='butt')?'flat':p):'round';r.joinstyle=(q!=null)?q:'round';this._setColor('stroke',n);return this;}});},null);
__d("art/modes/vml/shape",["art/core/class","art/modes/vml/base","art/modes/vml/path","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){var k=100;e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(l,m,n){this.base_initialize('shape');var o=this.pathElement=j.createElement('path');o.gradientshapeok=true;this.element.appendChild(o);this.width=m;this.height=n;if(l!=null)this.draw(l);},draw:function(l,m,n){if(!(l instanceof i))l=new i(l);this._vml=l.toVML();if(m!=null)this.width=m;if(n!=null)this.height=n;if(!this._boxCoords)this._transform();this._redraw(this._prefix,this._suffix);return this;},_redraw:function(l,m){var n=this._vml||'';this._prefix=l;this._suffix=m;if(l)n=[l,n,m,'ns e',n,'nf'].join(' ');this.element.path=n+'e';},fillRadial:function(l,m,n,o,p,q,r){var s=this._createGradient('gradientradial',l);if(m==null)m=(this.left||0)+(this.width||0)*.5;if(n==null)n=(this.top||0)+(this.height||0)*.5;if(p==null)p=o||(this.height*.5)||0;if(o==null)o=(this.width||0)*.5;if(q==null)q=m;if(r==null)r=n;q+=q-m;r+=r-n;var t=Math.round(q*k),u=Math.round(r*k),v=Math.round(o*2*k),w=Math.round(p*2*k),x=['wa',t-v,u-w,t+v,u+w].join(' ');this._redraw(['m',t,u-w,'l',t,u-w].join(' '),['m',t,u-w,x,t,u-w,t,u+w,x,t,u+w,t,u-w,x,t,u-w,t,u+w,x,t,u+w,t,u-w].join(' '));this._boxCoords={left:m-2,top:n-2,width:4,height:4};s.focusposition='0.5,0.5';s.focussize='0 0';s.focus='50%';this._transform();return this;}});},null);
__d("art/modes/vml/group",["art/core/class","art/core/transform","art/dom/container","art/modes/vml/node"],function(a,b,c,d,e,f,g,h,i,j){e.exports=g(j,i,{element_initialize:j.prototype.initialize,initialize:function(k,l){this.element_initialize('group');this.width=k;this.height=l;},_transform:function(){var k=this.element;k.coordorigin='0,0';k.coordsize='1000,1000';k.style.left=0;k.style.top=0;k.style.width=1000;k.style.height=1000;k.style.rotation=0;var l=this.parentNode;this._activeTransform=l?new h(l._activeTransform).transform(this):this;var m=this.firstChild;while(m){m._transform();m=m.nextSibling;}}});},null);
__d("art/modes/vml/clippingrectangle",["art/core/class","art/core/transform","art/dom/container","art/modes/vml/node"],function(a,b,c,d,e,f,g,h,i,j){e.exports=g(j,i,{element_initialize:j.prototype.initialize,initialize:function(k,l){this.element_initialize('clippingrectangle');this.width=k;this.height=l;},_transform:function(){var k=this.element;k.clip=true;k.coordorigin=-this.x+','+(-1*this.y);k.coordsize=this.width+','+this.height;k.style.clipLeft=this.x;k.style.clipRight=this.width+this.x;k.style.clipTop=this.y;k.style.left=-this.x;k.style.top=-this.y;k.style.width=this.width+this.x;k.style.height=this.height+this.y;k.style.rotation=0;var l=this.parentNode;this._activeTransform=l?new h(l._activeTransform).transform(this):this;var m=this.firstChild;while(m){m._transform();m=m.nextSibling;}}});},null);
__d("art/modes/vml/text",["art/core/class","art/modes/vml/base","art/modes/vml/path","art/modes/vml/dom"],function(a,b,c,d,e,f,g,h,i,j){var k={start:'left',middle:'center',end:'right'};e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(l,m,n,o){this.base_initialize('shape');var p=this.pathElement=j.createElement('path');p.textpathok=true;this.element.appendChild(p);p=this.textPathElement=j.createElement("textpath");p.on=true;p.style['v-text-align']='left';this.element.appendChild(p);this.draw.apply(this,arguments);},draw:function(l,m,n,o){var p=this.element,q=this.textPathElement,r=q.style;q.string=l;if(m)if(typeof m=='string'){r.font=m;}else for(var s in m){var t=s.camelCase?s.camelCase():s;if(t=='fontFamily'){r[t]="'"+m[s]+"'";}else r[t]=m[s];}if(n)r['v-text-align']=k[n]||n;if(o){this.currentPath=o=new i(o);this.element.path=o.toVML();}else if(!this.currentPath){var u=-1,v='\n';while((u=l.indexOf('\n',u+1))>-1)v+='\n';q.string=v+q.string;this.element.path='m0,0l1,0';}return this;}});},null);
__d("art/modes/current",[],function(a,b,c,d,e,f){function g(){throw new Error('You must require a mode before requiring anything else.');}f.Surface=g;f.Path=g;f.Shape=g;f.Group=g;f.ClippingRectangle=g;f.Text=g;f.setCurrent=function(h){for(var i in h)f[i]=h[i];};},null);
__d("art/modes/vml",["art/modes/vml/dom","art/modes/vml/surface","art/modes/vml/path","art/modes/vml/shape","art/modes/vml/group","art/modes/vml/clippingrectangle","art/modes/vml/text","art/modes/current"],function(a,b,c,d,e,f,g){f.Surface=b("art\/modes\/vml\/surface");f.Path=b("art\/modes\/vml\/path");f.Shape=b("art\/modes\/vml\/shape");f.Group=b("art\/modes\/vml\/group");f.ClippingRectangle=b("art\/modes\/vml\/clippingrectangle");f.Text=b("art\/modes\/vml\/text");if(typeof document!=='undefined')g.init(document);b("art\/modes\/current").setCurrent(f);},null);
__d("art/modes/canvas/surface",["art/core/class","art/dom/container","art/dom/native"],function(a,b,c,d,e,f,g,h,i){var j=1000/60,k=[],l,m=function(){clearTimeout(l);l=null;var r=k;k=[];for(var s=0,t=r.length;s<t;s++){var u=r[s];u._valid=true;u.render();}},n=typeof window!=='undefined'&&window.devicePixelRatio||1,o=null,p=null,q=g(i,h,{initialize:function(r,s,t){var u=this.element=t||document.createElement('canvas'),v=this.context=u.getContext('2d');this._valid=true;if(r!=null&&s!=null)this.resize(r,s);u.addEventListener('mousemove',this,false);u.addEventListener('mouseout',this,false);u.addEventListener('mouseover',this,false);u.addEventListener('mouseup',this,false);u.addEventListener('mousedown',this,false);u.addEventListener('click',this,false);},handleEvent:function(event){if(event.clientX==null)return;var r=this.element,s=r.getBoundingClientRect(),t=event.clientX-s.left-r.clientLeft,u=event.clientY-s.top-r.clientTop,v=this.hitTest(t,u);if(v!==o){if(o)o.dispatch({type:'mouseout',target:o,relatedTarget:v,sourceEvent:event});if(v)v.dispatch({type:'mouseover',target:v,relatedTarget:o,sourceEvent:event});o=v;p=this;this.refreshCursor();}if(v)v.dispatch(event);},refreshCursor:function(){if(p!==this)return;var r=o,s='',t='';while(r){if(!s&&r._cursor){s=r._cursor;if(t)break;}if(!t&&r._tooltip){t=r._tooltip;if(s)break;}r=r.parentNode;}this.element.style.cursor=s;this.element.title=t;},resize:function(r,s){var t=this.element;t.setAttribute('width',r*n);t.setAttribute('height',s*n);t.style.width=r+'px';t.style.height=s+'px';this.width=r;this.height=s;return this;},invalidate:function(r,s,t,u){if(this._valid){this._valid=false;k.push(this);if(!l)if(window.mozRequestAnimationFrame){l=true;window.mozRequestAnimationFrame(m);}else l=setTimeout(m,j);}return this;},hitTest:function(r,s){if(r<0||s<0||r>this.width||s>this.height)return null;var t=this.lastChild;while(t){var u=t.hitTest(r,s);if(u)return u;t=t.previousSibling;}return null;},render:function(){var r=this.firstChild,s=this.context;s.setTransform(n,0,0,n,0,0);s.clearRect(0,0,this.width,this.height);while(r){r.renderTo(s,n,0,0,n,0,0);r=r.nextSibling;}this.refreshCursor();}});q.tagName='canvas';e.exports=q;},null);
__d("art/modes/canvas/path",["art/core/class","art/core/path"],function(a,b,c,d,e,f,g,h){var i=g(h,{initialize:function(j){this.reset();if(j instanceof i){this.path=j.path.slice(0);}else if(j)if(j.applyToPath){j.applyToPath(this);}else this.push(j);},onReset:function(){this.path=[];},onMove:function(j,k,l,m){this.path.push(function(n){n.moveTo(l,m);});},onLine:function(j,k,l,m){this.path.push(function(n){n.lineTo(l,m);});},onBezierCurve:function(j,k,l,m,n,o,p,q){this.path.push(function(r){r.bezierCurveTo(l,m,n,o,p,q);});},_arcToBezier:h.prototype.onArc,onArc:function(j,k,l,m,n,o,p,q,r,s,t,u){if(p!=q||u)return this._arcToBezier(j,k,l,m,n,o,p,q,r,s,t,u);this.path.push(function(v){v.arc(n,o,p,r,s,t);});},onClose:function(){this.path.push(function(j){j.closePath();});},toCommands:function(){return this.path.slice(0);}});e.exports=i;},null);
__d("art/modes/canvas/node",["art/core/class","art/core/transform","art/dom/dummy"],function(a,b,c,d,e,f,g,h,i){var j=g(h,i,{invalidate:function(){if(this.parentNode)this.parentNode.invalidate();if(this._layer)this._layerCache=null;return this;},_place:function(){this.invalidate();},_transform:function(){this.invalidate();},blend:function(k){if(k>=1&&this._layer)this._layer=null;this._opacity=k;if(this.parentNode)this.parentNode.invalidate();return this;},hide:function(){this._invisible=true;if(this.parentNode)this.parentNode.invalidate();return this;},show:function(){this._invisible=false;if(this.parentNode)this.parentNode.invalidate();return this;},indicate:function(k,l){this._cursor=k;this._tooltip=l;return this.invalidate();},hitTest:function(k,l){if(this._invisible)return null;var m=this.inversePoint(k,l);if(!m)return null;return this.localHitTest(m.x,m.y);},renderTo:function(k,l,m,n,o,p,q){var r=this._opacity;if(r==null||r>=1)return this.renderLayerTo(k,l,m,n,o,p,q);var s=this._layer,t,u=true,v=k.canvas.width,w=k.canvas.height;if(s){s.setTransform(1,0,0,1,0,0);t=s.canvas;if(t.width<v||t.height<w){t.width=v;t.height=w;}else{var x=this._layerCache;if(x&&x.xx===l&&x.yx===m&&x.xy===n&&x.yy===o&&x.x===p&&x.y===q){u=false;}else s.clearRect(0,0,v,w);}}else{t=document.createElement('canvas');t.width=v;t.height=w;this._layer=s=t.getContext('2d');}if(u){this.renderLayerTo(s,l,m,n,o,p,q);this._layerCache={xx:l,yx:m,xy:n,yy:o,x:p,y:q};}k.globalAlpha=r;k.setTransform(1,0,0,1,0,0);k.drawImage(t,0,0,v,w,0,0,v,w);k.globalAlpha=1;}});e.exports=j;},null);
__d("art/modes/canvas/base",["art/core/class","art/core/color","art/core/transform","art/modes/canvas/node"],function(a,b,c,d,e,f,g,h,i,j){var k=typeof document!=='undefined'&&document.createElement('canvas'),l=k&&k.getContext&&k.getContext('2d');function m(o,p,q){p=h.detach(p);q=h.detach(q);var r=document.createElement('canvas'),s=r.getContext('2d');r.width=o.width;r.height=o.height;s.fillStyle=q[0];s.fillRect(0,0,o.width,o.height);s.globalCompositeOperation='lighter';s.drawImage(o,0,0);return r;}var n=g(j,{initialize:function(){this._fill=null;this._pendingFill=null;this._fillTransform=null;this._stroke=null;this._strokeCap=null;this._strokeDash=null;this._strokeJoin=null;this._strokeWidth=null;},_addColors:function(o,p){if('length' in p){for(var q=0,r=p.length-1;q<=r;q++)o.addColorStop(q/r,new h(p[q]).toString());}else for(var s in p)o.addColorStop(s,new h(p[s]).toString());return o;},fill:function(o){if(arguments.length>1)return this.fillLinear(arguments);if(this._pendingFill)this._pendingFill();this._fill=o?new h(o).toString():null;return this.invalidate();},fillRadial:function(o,p,q,r,s,t,u){if(p==null)p=(this.left||0)+(this.width||0)*.5;if(q==null)q=(this.top||0)+(this.height||0)*.5;if(s==null)s=r||(this.height*.5)||0;if(r==null)r=(this.width||0)*.5;if(t==null)t=p;if(u==null)u=q;t+=t-p;u+=u-q;if(r===0||r==='0')return this.fillLinear(o);var v=s/r;if(this._pendingFill)this._pendingFill();var w=l.createRadialGradient(p,q/v,0,t,u/v,r*2);if('length' in o){for(var x=0,y=o.length-1;x<=y;x++){w.addColorStop(x/y/2,new h(o[x]).toString());w.addColorStop(1-x/y/2,new h(o[x]).toString());}}else for(var z in o){w.addColorStop(z/2,new h(o[z]).toString());w.addColorStop(1-z/2,new h(o[z]).toString());}this._fill=w;this._fillTransform=new i(1,0,0,v);return this.invalidate();},fillLinear:function(o,p,q,r,s){if(arguments.length<5){var t=((p==null)?270:p)*Math.PI/180,u=Math.cos(t),v=-Math.sin(t),w=(Math.abs(u)+Math.abs(v))/2,x=this.width||1,y=this.height||1;u*=w;v*=w;p=.5-u;r=.5+u;q=.5-v;s=.5+v;this._fillTransform=new i(x,0,0,y);}else this._fillTransform=null;if(this._pendingFill)this._pendingFill();var z=l.createLinearGradient(p,q,r,s);this._addColors(z,o);this._fill=z;return this.invalidate();},fillImage:function(o,p,q,r,s,t,u){if(this._pendingFill)this._pendingFill();var v=o;if(!(v instanceof Image)){v=new Image();v.src=o;}if(v.width&&v.height)return this._fillImage(v,p,q,r||0,s||0,t,u);this._fill=null;var w=this,x=function(){y();w._fillImage(v,p,q,r||0,s||0,t,u);},y=function(){v.removeEventListener('load',x,false);w._pendingFill=null;};this._pendingFill=y;v.addEventListener('load',x,false);return this;},_fillImage:function(o,p,q,r,s,t,u){var v=p?p/o.width:1,w=q?q/o.height:1;if(t!=null)o=m(o,t,u);this._fill=l.createPattern(o,'repeat');this._fillTransform=new i(v,0,0,w,r||0,s||0);return this.invalidate();},stroke:function(o,p,q,r,s){this._stroke=o?new h(o).toString():null;this._strokeWidth=(p!=null)?p:1;this._strokeCap=(q!=null)?q:'round';this._strokeJoin=(r!=null)?r:'round';this._strokeDash=s;return this.invalidate();},element_renderTo:j.prototype.renderTo,renderTo:function(o,p,q,r,s,t,u){var v=this._opacity;if(v==null||v>=1)return this.renderLayerTo(o,p,q,r,s,t,u);if(this._fill&&this._stroke)return this.element_renderTo(o,p,q,r,s,t,u);o.globalAlpha=v;var w=this.renderLayerTo(o,p,q,r,s,t,u);o.globalAlpha=1;return w;},renderLayerTo:function(o,p,q,r,s,t,u){o.setTransform(p,q,r,s,t,u);this.renderShapeTo(o);}});n._genericContext=l;e.exports=n;},null);
__d("art/modes/canvas/shape",["art/core/class","art/modes/canvas/base","art/modes/canvas/path"],function(a,b,c,d,e,f,g,h,i){e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(j,k,l){this.base_initialize();this.width=k;this.height=l;if(j!=null)this.draw(j);},draw:function(j,k,l){if(!(j instanceof i))j=new i(j);this.path=j;this._commands=j.toCommands();if(k!=null)this.width=k;if(l!=null)this.height=l;return this.invalidate();},localHitTest:function(j,k){if(!this._fill)return null;if(this.width==null||this.height==null){var l=h._genericContext,m=this._commands;if(!m)return null;l.beginPath();for(var n=0,o=m.length;n<o;n++)m[n](l);return l.isPointInPath(j,k)?this:null;}if(j>0&&k>0&&j<this.width&&k<this.height)return this;return null;},renderShapeTo:function(j){if(this._invisible||!this._commands||(!this._fill&&!this._stroke))return null;j.transform(this.xx,this.yx,this.xy,this.yy,this.x,this.y);var k=this._commands,l=this._fill,m=this._stroke,n=this._strokeDash;j.beginPath();if(n){if(j.setLineDash){j.setLineDash(n);}else j.mozDash=n;}else if(j.setLineDash){j.setLineDash([]);}else j.mozDash=null;for(var o=0,p=k.length;o<p;o++)k[o](j);if(l){var q=this._fillTransform;if(q){j.save();j.transform(q.xx,q.yx,q.xy,q.yy,q.x,q.y);j.fillStyle=l;j.fill();j.restore();}else{j.fillStyle=l;j.fill();}}if(m){j.strokeStyle=m;j.lineWidth=this._strokeWidth;j.lineCap=this._strokeCap;j.lineJoin=this._strokeJoin;j.stroke();}}});},null);
__d("art/modes/canvas/group",["art/core/class","art/dom/container","art/modes/canvas/node"],function(a,b,c,d,e,f,g,h,i){e.exports=g(i,h,{initialize:function(j,k){this.width=j;this.height=k;},localHitTest:function(j,k){var l=this.lastChild;while(l){var m=l.hitTest(j,k);if(m)return m;l=l.previousSibling;}return null;},renderLayerTo:function(j,k,l,m,n,o,p){if(this._invisible)return;o=k*this.x+m*this.y+o;p=l*this.x+n*this.y+p;var q=k;k=q*this.xx+m*this.yx;m=q*this.xy+m*this.yy;q=l;l=q*this.xx+n*this.yx;n=q*this.xy+n*this.yy;var r=this.firstChild;while(r){r.renderTo(j,k,l,m,n,o,p);r=r.nextSibling;}}});},null);
__d("art/modes/canvas/clippingrectangle",["art/core/class","art/dom/container","art/modes/canvas/node"],function(a,b,c,d,e,f,g,h,i){e.exports=g(i,h,{initialize:function(j,k){this.width=j;this.height=k;},localHitTest:function(j,k){var l=this.lastChild;while(l){var m=l.hitTest(j,k);if(m)return m;l=l.previousSibling;}return null;},renderLayerTo:function(j,k,l,m,n,o,p){j.setTransform(k,l,m,n,o,p);j.save();j.beginPath();j.rect(this.x,this.y,this.width,this.height);j.clip();var q=this.firstChild;while(q){q.renderTo(j,k,l,m,n,o,p);q=q.nextSibling;}j.restore();}});},null);
__d("art/modes/canvas/text",["art/core/class","art/modes/canvas/base"],function(a,b,c,d,e,f,g,h){var i={middle:'center'};e.exports=g(h,{base_initialize:h.prototype.initialize,initialize:function(j,k,l,m){this.base_initialize();this.draw.apply(this,arguments);},draw:function(j,k,l,m){var n;if(typeof k=='string'){n=Number(/(\d+)/.exec(k)[0]);}else if(k){n=parseFloat(k.fontSize||k['font-size']||'12');k=(k.fontStyle||k['font-style']||'')+' '+(k.fontVariant||k['font-variant']||'')+' '+(k.fontWeight||k['font-weight']||'')+' '+n+'px '+(k.fontFamily||k['font-family']||'Arial');}else k=this._font;var o=j&&j.split(/\r?\n/);this._font=k;this._fontSize=n;this._text=o;this._alignment=i[l]||l||'left';var p=h._genericContext;p.font=this._font;p.textAlign=this._alignment;p.textBaseline='middle';o=this._text;var q=o.length,r=0;for(var s=0;s<q;s++){var t=p.measureText(o[s]).width;if(t>r)r=t;}this.width=r;this.height=q?q*1.1*n:0;return this.invalidate();},localHitTest:function(j,k){if(!this._fill)return null;if(j>0&&k>0&&j<this.width&&k<this.height)return this;return null;},renderShapeTo:function(j){if(this._invisible||!this._text||(!this._fill&&!this._stroke))return null;j.transform(this.xx,this.yx,this.xy,this.yy,this.x,this.y);var k=this._fill,l=this._stroke,m=this._text,n=this._strokeDash;j.font=this._font;j.textAlign=this._alignment;j.textBaseline='middle';var o=this._fontSize,p=o/2,q=1.1*o,r=m,s=r.length;if(k){j.fillStyle=k;for(var t=0;t<s;t++)j.fillText(r[t],0,p+t*q);}if(l){if(n){if(j.setLineDash){j.setLineDash(n);}else j.mozDash=n;}else if(j.setLineDash){j.setLineDash([]);}else j.mozDash=null;j.strokeStyle=l;j.lineWidth=this._strokeWidth;j.lineCap=this._strokeCap;j.lineJoin=this._strokeJoin;for(t=0;t<s;t++)j.strokeText(r[t],0,p+t*q);}}});},null);
__d("art/modes/canvas",["art/modes/canvas/surface","art/modes/canvas/path","art/modes/canvas/shape","art/modes/canvas/group","art/modes/canvas/clippingrectangle","art/modes/canvas/text"],function(a,b,c,d,e,f){f.Surface=b("art\/modes\/canvas\/surface");f.Path=b("art\/modes\/canvas\/path");f.Shape=b("art\/modes\/canvas\/shape");f.Group=b("art\/modes\/canvas\/group");f.ClippingRectangle=b("art\/modes\/canvas\/clippingrectangle");f.Text=b("art\/modes\/canvas\/text");},null);
__d("art/modes/fast",["art/modes/vml","art/modes/canvas","art/modes/current"],function(a,b,c,d,e,f,g,h){var i=function(){var k=document.createElement('canvas');return k&&!!k.getContext;},j=i()?h:g;f.Surface=j.Surface;f.Path=j.Path;f.Shape=j.Shape;f.Group=j.Group;f.ClippingRectangle=j.ClippingRectangle;f.Text=j.Text;b("art\/modes\/current").setCurrent(f);},null);
__d("ReactARTUtils",["getStyleProperty"],function(a,b,c,d,e,f,g){var h={},i=null,j=/url\(([^)]*)\)/;function k(o){var p=o.match(j);return p?p[1]:null;}function l(o){return parseFloat(o)||null;}function m(o){var p=o?o.split(' '):[];if(p.length!=2)return [null,null];p[0]=l(p[0]);p[1]=l(p[1]);return p;}function n(o){if(o in h)return h[o];if(!i)i=document.createElement('i');i.className=o;document.body.appendChild(i);var p=g(i,'backgroundImage'),q=g(i,'backgroundSize'),r=g(i,'backgroundPosition'),s=g(i,'width'),t=g(i,'height');document.body.removeChild(i);return h[o]={uri:k(p),imageSize:m(q),offset:m(r),boxSize:[l(s),l(t)]};}e.exports={extractImageDataFromClassName:n};},null);
__d("ReactART",["art/core/transform","art/modes/current","React","ReactARTUtils","ReactMultiChild","ReactUpdates","Object.assign","emptyObject","art/modes/fast"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";b('art/modes/fast');var o=new g();function p(ga){if(!ga)return '';if(typeof ga==='string')return ga;if(ga.length)return ga.join('\n');return '';}function q(ga){var ha=function(ka){this.node=null;this.subscriptions=null;this.listeners=null;this._mountImage=null;this._renderedChildren=null;this._mostRecentlyPlacedChild=null;};ha.displayName=ga;for(var ia=1,ja=arguments.length;ia<ja;ia++)m(ha.prototype,arguments[ia]);return ha;}var r=m({},k.Mixin,{moveChild:function(ga,ha){var ia=ga._mountImage,ja=this._mostRecentlyPlacedChild;if(ja==null){if(ia.previousSibling)if(this.node.firstChild){ia.injectBefore(this.node.firstChild);}else ia.inject(this.node);}else if(ja.nextSibling!==ia)if(ja.nextSibling){ia.injectBefore(ja.nextSibling);}else ia.inject(this.node);this._mostRecentlyPlacedChild=ia;},createChild:function(ga,ha){ga._mountImage=ha;var ia=this._mostRecentlyPlacedChild;if(ia==null){if(this.node.firstChild){ha.injectBefore(this.node.firstChild);}else ha.inject(this.node);}else if(ia.nextSibling){ha.injectBefore(ia.nextSibling);}else ha.inject(this.node);this._mostRecentlyPlacedChild=ha;},removeChild:function(ga){ga._mountImage.eject();ga._mountImage=null;},updateChildrenAtRoot:function(ga,ha){this.updateChildren(ga,ha,n);},mountAndInjectChildrenAtRoot:function(ga,ha){this.mountAndInjectChildren(ga,ha,n);},updateChildren:function(ga,ha,ia){this._mostRecentlyPlacedChild=null;this._updateChildren(ga,ha,ia);},mountAndInjectChildren:function(ga,ha,ia){var ja=this.mountChildren(ga,ha,ia),ka=0;for(var la in this._renderedChildren)if(this._renderedChildren.hasOwnProperty(la)){var ma=this._renderedChildren[la];ma._mountImage=ja[ka];ja[ka].inject(this.node);ka++;}}}),s=i.createClass({displayName:'Surface',mixins:[r],componentDidMount:function(){var ga=this.getDOMNode();this.node=h.Surface(+this.props.width,+this.props.height,ga);var ha=l.ReactReconcileTransaction.getPooled();ha.perform(this.mountAndInjectChildrenAtRoot,this,this.props.children,ha);l.ReactReconcileTransaction.release(ha);},componentDidUpdate:function(ga){var ha=this.node;if(this.props.width!=ga.width||this.props.height!=ga.height)ha.resize(+this.props.width,+this.props.height);var ia=l.ReactReconcileTransaction.getPooled();ia.perform(this.updateChildrenAtRoot,this,this.props.children,ia);l.ReactReconcileTransaction.release(ia);if(ha.render)ha.render();},componentWillUnmount:function(){this.unmountChildren();},render:function(){var ga=this.props;return (i.createElement(h.Surface.tagName,{accesskey:ga.accesskey,className:ga.className,draggable:ga.draggable,role:ga.role,style:ga.style,tabindex:ga.tabindex,title:ga.title}));}}),t={onMouseMove:'mousemove',onMouseOver:'mouseover',onMouseOut:'mouseout',onMouseUp:'mouseup',onMouseDown:'mousedown',onClick:'click'},u={construct:function(ga){this._currentElement=ga;},getPublicInstance:function(){return this.node;},putEventListener:function(ga,ha){var ia=this.subscriptions||(this.subscriptions={}),ja=this.listeners||(this.listeners={});ja[ga]=ha;if(ha){if(!ia[ga])ia[ga]=this.node.subscribe(ga,ha,this);}else if(ia[ga]){ia[ga]();delete ia[ga];}},handleEvent:function(event){var ga=this.listeners[event.type];if(!ga)return;if(typeof ga==='function'){ga.call(this,event);}else if(ga.handleEvent)ga.handleEvent(event);},destroyEventListeners:function(){var ga=this.subscriptions;if(ga)for(var ha in ga)ga[ha]();this.subscriptions=null;this.listeners=null;},applyNodeProps:function(ga,ha){var ia=this.node,ja=ha.scaleX!=null?ha.scaleX:ha.scale!=null?ha.scale:1,ka=ha.scaleY!=null?ha.scaleY:ha.scale!=null?ha.scale:1;o.transformTo(1,0,0,1,0,0).move(ha.x||0,ha.y||0).rotate(ha.rotation||0,ha.originX,ha.originY).scale(ja,ka,ha.originX,ha.originY);if(ha.transform!=null)o.transform(ha.transform);if(ia.xx!==o.xx||ia.yx!==o.yx||ia.xy!==o.xy||ia.yy!==o.yy||ia.x!==o.x||ia.y!==o.y)ia.transformTo(o);if(ha.cursor!==ga.cursor||ha.title!==ga.title)ia.indicate(ha.cursor,ha.title);if(ia.blend&&ha.opacity!==ga.opacity)ia.blend(ha.opacity==null?1:ha.opacity);if(ha.visible!==ga.visible)if(ha.visible==null||ha.visible){ia.show();}else ia.hide();for(var la in t)this.putEventListener(t[la],ha[la]);},mountComponentIntoNode:function(ga,ha){throw new Error('You cannot render an ART component standalone. '+'You need to wrap it in a Surface.');}},v=q('Group',u,r,{mountComponent:function(ga,ha,ia){this.node=h.Group();var ja=this._currentElement.props;this.applyGroupProps(n,ja);this.mountAndInjectChildren(ja.children,ha,ia);return this.node;},receiveComponent:function(ga,ha,ia){var ja=ga.props,ka=this._currentElement.props;this.applyGroupProps(ka,ja);this.updateChildren(ja.children,ha,ia);this._currentElement=ga;},applyGroupProps:function(ga,ha){this.node.width=ha.width;this.node.height=ha.height;this.applyNodeProps(ga,ha);},unmountComponent:function(){this.destroyEventListeners();this.unmountChildren();}}),w=q('ClippingRectangle',u,r,{mountComponent:function(ga,ha,ia){this.node=h.ClippingRectangle();var ja=this._currentElement.props;this.applyClippingProps(n,ja);this.mountAndInjectChildren(ja.children,ha,ia);return this.node;},receiveComponent:function(ga,ha,ia){var ja=ga.props,ka=this._currentElement.props;this.applyClippingProps(ka,ja);this.updateChildren(ja.children,ha,ia);this._currentElement=ga;},applyClippingProps:function(ga,ha){this.node.width=ha.width;this.node.height=ha.height;this.node.x=ha.x;this.node.y=ha.y;this.applyNodeProps(ga,ha);},unmountComponent:function(){this.destroyEventListeners();this.unmountChildren();}}),x=m({},u,{applyRenderableProps:function(ga,ha){if(ga.fill!==ha.fill)if(ha.fill&&ha.fill.applyFill){ha.fill.applyFill(this.node);}else this.node.fill(ha.fill);if(ga.stroke!==ha.stroke||ga.strokeWidth!==ha.strokeWidth||ga.strokeCap!==ha.strokeCap||ga.strokeJoin!==ha.strokeJoin||ga.strokeDash!==ha.strokeDash)this.node.stroke(ha.stroke,ha.strokeWidth,ha.strokeCap,ha.strokeJoin,ha.strokeDash);this.applyNodeProps(ga,ha);},unmountComponent:function(){this.destroyEventListeners();}}),y=q('Shape',x,{construct:function(ga){this._currentElement=ga;this._oldDelta=null;this._oldPath=null;},mountComponent:function(ga,ha,ia){this.node=h.Shape();var ja=this._currentElement.props;this.applyShapeProps(n,ja);return this.node;},receiveComponent:function(ga,ha,ia){var ja=ga.props,ka=this._currentElement.props;this.applyShapeProps(ka,ja);this._currentElement=ga;},applyShapeProps:function(ga,ha){var ia=this._oldDelta,ja=this._oldPath,ka=ha.d||p(ha.children);if(ka.delta!==ia||ka!==ja||ga.width!==ha.width||ga.height!==ha.height){this.node.draw(ka,ha.width,ha.height);this._oldPath=ka;this._oldDelta=ka.delta;}this.applyRenderableProps(ga,ha);}}),z=q('Text',x,{construct:function(ga){this._currentElement=ga;this._oldString=null;},mountComponent:function(ga,ha,ia){var ja=this._currentElement.props,ka=p(ja.children);this.node=h.Text(ka,ja.font,ja.alignment,ja.path);this._oldString=ka;this.applyRenderableProps(n,ja);return this.node;},isSameFont:function(ga,ha){if(ga===ha)return true;if(typeof ha==='string'||typeof ga==='string')return false;return (ha.fontSize===ga.fontSize&&ha.fontStyle===ga.fontStyle&&ha.fontVariant===ga.fontVariant&&ha.fontWeight===ga.fontWeight&&ha.fontFamily===ga.fontFamily);},receiveComponent:function(ga,ha,ia){var ja=ga.props,ka=this._currentElement.props,la=this._oldString,ma=p(ja.children);if(la!==ma||!this.isSameFont(ka.font,ja.font)||ka.alignment!==ja.alignment||ka.path!==ja.path){this.node.draw(ma,ja.font,ja.alignment,ja.path);this._oldString=ma;}this.applyRenderableProps(ka,ja);this._currentElement=ga;}}),aa=Array.prototype.slice;function ba(ga,ha,ia,ja,ka){this.args=aa.call(arguments);}ba.prototype.applyFill=function(ga){ga.fillLinear.apply(ga,this.args);};function ca(ga,ha,ia,ja,ka,la,ma){this.args=aa.call(arguments);}ca.prototype.applyFill=function(ga){ga.fillRadial.apply(ga,this.args);};function da(ga,ha,ia,ja,ka){this.args=aa.call(arguments);}da.prototype.applyFill=function(ga){ga.fillImage.apply(ga,this.args);};function ea(ga){this.cssClassName=ga;}ea.prototype.applyFill=function(ga){var ha=j.extractImageDataFromClassName(this.cssClassName),ia=ha.uri,ja=ha.boxSize[0],ka=ha.boxSize[1],la=ha.offset[0],ma=ha.offset[1];if(ja===null||ka===null)ga.fillImage(ia,ja,ka,la,ma);};var fa={LinearGradient:ba,RadialGradient:ca,Pattern:da,Transform:g,Path:h.Path,Surface:s,Group:v,ClippingRectangle:w,Shape:y,Text:z,CSSBackgroundPattern:ea};e.exports=fa;},null);
__d("PointerEventElement.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){var j=document.createElement('x');j.style.cssText='pointer-events:auto';var k=j.style.pointerEvents==='auto',l=g.createClass({displayName:"PointerEventElement",lastEventData:null,getInitialState:function(){return {prepareForEventForwarding:false};},componentDidUpdate:function(m,n){if(this.state.hide)this.forwardClick();},handleClick:function(m){this.lastEventData={detail:m.detail,screenX:m.screenX,screenY:m.screenY,clientX:m.pageX||m.clientX,clientY:m.pageY||m.clientY,ctrlKey:m.ctrlKey,altKey:m.altKey,shiftKey:m.shiftKey,metaKey:m.metaKey,button:m.button,type:m.type};this.setState({prepareForEventForwarding:true});},forwardClick:function(){var m=this.lastEventData.clientX,n=this.lastEventData.clientY,o=document.elementFromPoint(m,n),p=this.lastEventData,q=document.createEvent("MouseEvents");q.initMouseEvent(p.type,true,true,window,p.detail,p.screenX,p.screenY,p.clientX,p.clientY,p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,null);o.dispatchEvent(q);this.setState({prepareForEventForwarding:false});},render:function(){if(this.state.prepareForEventForwarding)return g.createElement("div",null);var m=k?null:this.handleClick,n=this.props.className;return (g.createElement("div",g.__spread({},this.props,{className:i(n,"_4z8f"),onClick:m,onMouseMove:m,onMouseDown:m,onMouseUp:m})));}});e.exports=l;},null);
__d("SpectrumAnimationLayer",["cx","getVendorPrefixedName","PointerEventElement.react","React"],function(a,b,c,d,e,f,g,h,i,j){var k=j.createClass({displayName:"SpectrumAnimationLayer",render:function(){var l=this.props,m=l.scaleX!=null?l.scaleX:l.scale!=null?l.scale:1,n=l.scaleY!=null?l.scaleY:l.scale!=null?l.scale:1,o='translate('+(l.x||0)+'px,'+(l.y||0)+'px)';if(m!=1||n!=1)o+=' scale('+m+','+n+')';if(l.rotation)o+=' rotate('+l.rotation+'deg)';if(l.transform){var p=l.transform;o+=' matrix('+p.xx+','+p.yx+','+p.xy+','+p.yy+','+p.x+','+p.y+')';}var q=(l.originX==null?'50% ':l.originX+'px ')+(l.originY==null?'50% ':l.originY+'px '),r=l.visible==null||l.visible,s=l.duration||'',t=l.timing||'',u={cursor:l.cursor,display:r?'':'none',height:l.height,left:0,opacity:l.opacity,right:'auto',width:l.width},v=h('transform');if(v==null){u.left=l.x;u.top=l.y;}else{u[v]=o;u[h('transform-origin')]=q;u[h('transition-duration')]=s;u[h('transition-timing-function')]=t;}return (j.createElement(i,{className:"_5137",style:u},l.children));}});e.exports=k;},null);
__d("d3/core/uninterpolate",[],function(a,b,c,d,e,f){function g(i,j){j=j-(i=+i)?1/(j-i):0;return function(k){return (k-i)*j;};}function h(i,j){j=j-(i=+i)?1/(j-i):0;return function(k){return Math.max(0,Math.min(1,(k-i)*j));};}f._uninterpolateNumber=g;f._uninterpolateClamp=h;},null);
__d("d3/core/bisect",[],function(a,b,c,d,e,f){var g=function(j){return {left:function(k,l,m,n){if(arguments.length<3)m=0;if(arguments.length<4)n=k.length;while(m<n){var o=m+n>>>1;if(j.call(k,k[o],o)<l){m=o+1;}else n=o;}return m;},right:function(k,l,m,n){if(arguments.length<3)m=0;if(arguments.length<4)n=k.length;while(m<n){var o=m+n>>>1;if(l<j.call(k,k[o],o)){n=o;}else m=o+1;}return m;}};},h=g(function(j){return j;}),i=h.right;i.left=h.left;i.right=i;i.or=g;e.exports=i;},null);
__d("d3/scale/polylinear",["d3/core/bisect"],function(a,b,c,d,e,f,g){function h(i,j,k,l){var m=[],n=[],o=0,p=Math.min(i.length,j.length)-1;if(i[p]<i[0]){i=i.slice().reverse();j=j.slice().reverse();}while(++o<=p){m.push(k(i[o-1],i[o]));n.push(l(j[o-1],j[o]));}return function(q){var r=g(i,q,1,p)-1;return n[r](m[r](q));};}f._polylinear=h;},null);
__d("d3/scale/bilinear",[],function(a,b,c,d,e,f){function g(h,i,j,k){var l=j(h[0],h[1]),m=k(i[0],i[1]);return function(n){return m(l(n));};}f._bilinear=g;},null);
__d("d3/scale/nice",[],function(a,b,c,d,e,f){function g(i,j){var k=0,l=i.length-1,m=i[k],n=i[l],o;if(n<m){o=k,k=l,l=o;o=m,m=n,n=o;}if(j=j(n-m)){i[k]=j.floor(m);i[l]=j.ceil(n);}return i;}function h(){return Math;}f._nice=g;f._niceDefault=h;},null);
__d("d3/scale/scale",[],function(a,b,c,d,e,f){var g={};function h(j){var k=j[0],l=j[j.length-1];return k<l?[k,l]:[l,k];}function i(j){return j.rangeExtent?j.rangeExtent():h(j.range());}g._scaleExtent=h;g._scaleRange=i;e.exports=g;},null);
__d("d3/core/color",[],function(a,b,c,d,e,f){function g(){}g.prototype.toString=function(){return this.rgb()+"";};f._Color=g;},null);
__d("d3/core/xyz",[],function(a,b,c,d,e,f){function g(i){return i>.008856?Math.pow(i,1/3):7.787037*i+4/29;}function h(i){return Math.round(255*(i<=.00304?12.92*i:1.055*Math.pow(i,1/2.4)-.055));}f._lab=g;f._rgb=h;},null);
__d("d3/core/class",[],function(a,b,c,d,e,f){function g(h,i){try{for(var k in i)Object.defineProperty(h.prototype,k,{value:i[k],enumerable:false});}catch(j){h.prototype=i;}}f._class=g;},null);
__d("d3/core/map",["d3/core/class"],function(a,b,c,d,e,f){var g=b("d3\/core\/class")._class,h=function(l){var m=new i();for(var n in l)m.set(n,l[n]);return m;};function i(){}g(i,{has:function(l){return j+l in this;},get:function(l){return this[j+l];},set:function(l,m){return this[j+l]=m;},remove:function(l){l=j+l;return l in this&&delete this[l];},keys:function(){var l=[];this.forEach(function(m){l.push(m);});return l;},values:function(){var l=[];this.forEach(function(m,n){l.push(n);});return l;},entries:function(){var l=[];this.forEach(function(m,n){l.push({key:m,value:n});});return l;},forEach:function(l){for(var m in this)if(m.charCodeAt(0)===k)l.call(this,m.substring(1),this[m]);}});var j="\0",k=j.charCodeAt(0);h._Map=i;e.exports=h;},null);
__d("d3/core/hsl",["d3/core/color","d3/core/rgb"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=function(m,n,o){return arguments.length===1?(m instanceof j?i(m.h,m.s,m.l):b("d3\/core\/rgb")._parse(""+m,b("d3\/core\/rgb")._hsl,i)):i(+m,+n,+o);};function i(m,n,o){return new j(m,n,o);}function j(m,n,o){this.h=m;this.s=n;this.l=o;}var k=j.prototype=new g();k.brighter=function(m){m=Math.pow(.7,arguments.length?m:1);return i(this.h,this.s,this.l/m);};k.darker=function(m){m=Math.pow(.7,arguments.length?m:1);return i(this.h,this.s,m*this.l);};k.rgb=function(){return l(this.h,this.s,this.l);};function l(m,n,o){var p,q;m=m%360;if(m<0)m+=360;n=n<0?0:n>1?1:n;o=o<0?0:o>1?1:o;q=o<=.5?o*(1+n):o+n-o*n;p=2*o-q;function r(t){if(t>360){t-=360;}else if(t<0)t+=360;if(t<60)return p+(q-p)*t/60;if(t<180)return q;if(t<240)return p+(q-p)*(240-t)/60;return p;}function s(t){return Math.round(r(t)*255);}return b("d3\/core\/rgb")._rgb(s(m+120),s(m),s(m-120));}h._hsl=i;h._rgb=l;e.exports=h;},null);
__d("d3/core/core",[],function(a,b,c,d,e,f){var g=Math.PI,h=1e-06,i={version:"3.0.6"},j=g/180,k=180/g,l=typeof document==='undefined'?null:document,m=typeof window==='undefined'?null:window;function n(p){return p.target;}function o(p){return p.source;}i._u03c0=g;i._u03b5=h;i._radians=j;i._degrees=k;i._document=l;i._window=m;i._target=n;i._source=o;e.exports=i;},null);
__d("d3/core/hcl",["d3/core/color","d3/core/core","d3/core/lab","d3/core/rgb"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=b("d3\/core\/core")._radians,i=function(n,o,p){return arguments.length===1?(n instanceof k?j(n.h,n.c,n.l):(n instanceof b("d3\/core\/lab")._Lab?b("d3\/core\/lab")._hcl(n.l,n.a,n.b):b("d3\/core\/lab")._hcl((n=b("d3\/core\/rgb")._lab((n=b("d3\/core\/rgb")(n)).r,n.g,n.b)).l,n.a,n.b))):j(+n,+o,+p);};function j(n,o,p){return new k(n,o,p);}function k(n,o,p){this.h=n;this.c=o;this.l=p;}var l=k.prototype=new g();l.brighter=function(n){return j(this.h,this.c,Math.min(100,this.l+b("d3\/core\/lab")._K*(arguments.length?n:1)));};l.darker=function(n){return j(this.h,this.c,Math.max(0,this.l-b("d3\/core\/lab")._K*(arguments.length?n:1)));};l.rgb=function(){return m(this.h,this.c,this.l).rgb();};function m(n,o,p){return b("d3\/core\/lab")._lab(p,Math.cos(n*=h)*o,Math.sin(n)*o);}i._Hcl=k;i._hcl=j;i._lab=m;e.exports=i;},null);
__d("d3/core/lab",["d3/core/color","d3/core/xyz","d3/core/core","d3/core/hcl","d3/core/rgb"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=b("d3\/core\/xyz")._rgb,i=b("d3\/core\/core")._u03c0,j=function(u,v,w){return arguments.length===1?(u instanceof l?k(u.l,u.a,u.b):(u instanceof b("d3\/core\/hcl")._Hcl?b("d3\/core\/hcl")._lab(u.l,u.c,u.h):b("d3\/core\/rgb")._lab((u=b("d3\/core\/rgb")(u)).r,u.g,u.b))):k(+u,+v,+w);};function k(u,v,w){return new l(u,v,w);}function l(u,v,w){this.l=u;this.a=v;this.b=w;}var m=18,n=.95047,o=1,p=1.08883,q=l.prototype=new g();q.brighter=function(u){return k(Math.min(100,this.l+m*(arguments.length?u:1)),this.a,this.b);};q.darker=function(u){return k(Math.max(0,this.l-m*(arguments.length?u:1)),this.a,this.b);};q.rgb=function(){return r(this.l,this.a,this.b);};function r(u,v,w){var x=(u+16)/116,y=x+v/500,z=x-w/200;y=t(y)*n;x=t(x)*o;z=t(z)*p;return b("d3\/core\/rgb")._rgb(h(3.2404542*y-1.5371385*x-.4985314*z),h(-.969266*y+1.8760108*x+.041556*z),h(.0556434*y-.2040259*x+1.0572252*z));}function s(u,v,w){return b("d3\/core\/hcl")._hcl(Math.atan2(w,v)/i*180,Math.sqrt(v*v+w*w),u);}function t(u){return u>.206893034?u*u*u:(u-4/29)/7.787037;}j._K=m;j._X=n;j._Y=o;j._Z=p;j._Lab=l;j._lab=k;j._rgb=r;j._hcl=s;e.exports=j;},null);
__d("d3/core/rgb",["d3/core/color","d3/core/xyz","d3/core/map","d3/core/hsl","d3/core/lab"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=b("d3\/core\/xyz")._lab,i=b("d3\/core\/map"),j=function(u,v,w){return arguments.length===1?(u instanceof l?k(u.r,u.g,u.b):o(""+u,k,b("d3\/core\/hsl")._rgb)):k(~~u,~~v,~~w);};function k(u,v,w){return new l(u,v,w);}function l(u,v,w){this.r=u;this.g=v;this.b=w;}var m=l.prototype=new g();m.brighter=function(u){u=Math.pow(.7,arguments.length?u:1);var v=this.r,w=this.g,x=this.b,y=30;if(!v&&!w&&!x)return k(y,y,y);if(v&&v<y)v=y;if(w&&w<y)w=y;if(x&&x<y)x=y;return k(Math.min(255,Math.floor(v/u)),Math.min(255,Math.floor(w/u)),Math.min(255,Math.floor(x/u)));};m.darker=function(u){u=Math.pow(.7,arguments.length?u:1);return k(Math.floor(u*this.r),Math.floor(u*this.g),Math.floor(u*this.b));};m.hsl=function(){return p(this.r,this.g,this.b);};m.toString=function(){return "#"+n(this.r)+n(this.g)+n(this.b);};function n(u){return u<16?"0"+Math.max(0,u).toString(16):Math.min(255,u).toString(16);}function o(u,v,w){var x=0,y=0,z=0,aa,ba,ca;aa=/([a-z]+)\((.*)\)/i.exec(u);if(aa){ba=aa[2].split(",");switch(aa[1]){case "hsl":return w(parseFloat(ba[0]),parseFloat(ba[1])/100,parseFloat(ba[2])/100);case "rgb":return v(s(ba[0]),s(ba[1]),s(ba[2]));}}if(ca=t.get(u))return v(ca.r,ca.g,ca.b);if(u!=null&&u.charAt(0)==="#"){if(u.length===4){x=u.charAt(1);x+=x;y=u.charAt(2);y+=y;z=u.charAt(3);z+=z;}else if(u.length===7){x=u.substring(1,3);y=u.substring(3,5);z=u.substring(5,7);}x=parseInt(x,16);y=parseInt(y,16);z=parseInt(z,16);}return v(x,y,z);}function p(u,v,w){var x=Math.min(u/=255,v/=255,w/=255),y=Math.max(u,v,w),z=y-x,aa,ba,ca=(y+x)/2;if(z){ba=ca<.5?z/(y+x):z/(2-y-x);if(u==y){aa=(v-w)/z+(v<w?6:0);}else if(v==y){aa=(w-u)/z+2;}else aa=(u-v)/z+4;aa*=60;}else ba=aa=0;return b("d3\/core\/hsl")._hsl(aa,ba,ca);}function q(u,v,w){u=r(u);v=r(v);w=r(w);var x=h((.4124564*u+.3575761*v+.1804375*w)/b("d3\/core\/lab")._X),y=h((.2126729*u+.7151522*v+.072175*w)/b("d3\/core\/lab")._Y),z=h((.0193339*u+.119192*v+.9503041*w)/b("d3\/core\/lab")._Z);return b("d3\/core\/lab")._lab(116*y-16,500*(x-y),200*(y-z));}function r(u){return (u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4);}function s(u){var v=parseFloat(u);return u.charAt(u.length-1)==="%"?Math.round(v*2.55):v;}var t=i({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});t.forEach(function(u,v){t.set(u,o(v,k,b("d3\/core\/hsl")._rgb));});j._names=t;j._rgb=k;j._parse=o;j._hsl=p;j._hex=n;j._lab=q;e.exports=j;},null);
__d("d3/core/ns",[],function(a,b,c,d,e,f){var g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h={prefix:g,qualify:function(i){var j=i.indexOf(":"),k=i;if(j>=0){k=i.substring(0,j);i=i.substring(j+1);}return g.hasOwnProperty(k)?{space:g[k],local:i}:i;}};e.exports=h;},null);
__d("d3/core/transform",["d3/core/core","d3/core/ns"],function(a,b,c,d,e,f){var g=b("d3\/core\/core"),h=g._document,i=g._degrees,j=b("d3\/core\/ns"),k=function(q){var r=h.createElementNS(j.prefix.svg,"g");return (k=function(s){r.setAttribute("transform",s);var t=r.transform.baseVal.consolidate();return new l(t?t.matrix:p);})(q);};function l(q){var r=[q.a,q.b],s=[q.c,q.d],t=n(r),u=m(r,s),v=n(o(s,r,-u))||0;if(r[0]*s[1]<s[0]*r[1]){r[0]*=-1;r[1]*=-1;t*=-1;u*=-1;}this.rotate=(t?Math.atan2(r[1],r[0]):Math.atan2(-s[0],s[1]))*i;this.translate=[q.e,q.f];this.scale=[t,v];this.skew=v?Math.atan2(u,v)*i:0;}l.prototype.toString=function(){return "translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")";};function m(q,r){return q[0]*r[0]+q[1]*r[1];}function n(q){var r=Math.sqrt(m(q,q));if(r){q[0]/=r;q[1]/=r;}return r;}function o(q,r,s){q[0]+=s*r[0];q[1]+=s*r[1];return q;}var p={a:1,b:0,c:0,d:1,e:0,f:0};e.exports=k;},null);
__d("d3/core/interpolate",["d3/core/rgb","d3/core/hsl","d3/core/lab","d3/core/hcl","d3/core/color","d3/core/transform"],function(a,b,c,d,e,f){var g=b("d3\/core\/rgb"),h=b("d3\/core\/hsl"),i=b("d3\/core\/lab"),j=b("d3\/core\/hcl"),k=g._hex,l=h._rgb,m=i._rgb,n=j._lab,o=g._names,p=b("d3\/core\/color")._Color,q=b("d3\/core\/transform"),r=function(u,v){var w=r.interpolators.length,x;while(--w>=0&&!(x=r.interpolators[w](u,v)));return x;};r.number=function(u,v){v-=u;return function(w){return u+v*w;};};r.round=function(u,v){v-=u;return function(w){return Math.round(u+v*w);};};r.string=function(u,v){var w,x,y,z=0,aa=0,ba=[],ca=[],da,ea;s.lastIndex=0;for(x=0;w=s.exec(v);++x){if(w.index)ba.push(v.substring(z,aa=w.index));ca.push({i:ba.length,x:w[0]});ba.push(null);z=s.lastIndex;}if(z<v.length)ba.push(v.substring(z));for(x=0,da=ca.length;(w=s.exec(u))&&x<da;++x){ea=ca[x];if(ea.x==w[0]){if(ea.i){if(ba[ea.i+1]==null){ba[ea.i-1]+=ea.x;ba.splice(ea.i,1);for(y=x+1;y<da;++y)ca[y].i--;}else{ba[ea.i-1]+=ea.x+ba[ea.i+1];ba.splice(ea.i,2);for(y=x+1;y<da;++y)ca[y].i-=2;}}else if(ba[ea.i+1]==null){ba[ea.i]=ea.x;}else{ba[ea.i]=ea.x+ba[ea.i+1];ba.splice(ea.i+1,1);for(y=x+1;y<da;++y)ca[y].i--;}ca.splice(x,1);da--;x--;}else ea.x=r.number(parseFloat(w[0]),parseFloat(ea.x));}while(x<da){ea=ca.pop();if(ba[ea.i+1]==null){ba[ea.i]=ea.x;}else{ba[ea.i]=ea.x+ba[ea.i+1];ba.splice(ea.i+1,1);}da--;}if(ba.length===1)return ba[0]==null?ca[0].x:function(){return v;};return function(fa){for(x=0;x<da;++x)ba[(ea=ca[x]).i]=ea.x(fa);return ba.join("");};};r.transform=function(u,v){var w=[],x=[],y,z=q(u),aa=q(v),ba=z.translate,ca=aa.translate,da=z.rotate,ea=aa.rotate,fa=z.skew,ga=aa.skew,ha=z.scale,ia=aa.scale;if(ba[0]!=ca[0]||ba[1]!=ca[1]){w.push("translate(",null,",",null,")");x.push({i:1,x:r.number(ba[0],ca[0])},{i:3,x:r.number(ba[1],ca[1])});}else if(ca[0]||ca[1]){w.push("translate("+ca+")");}else w.push("");if(da!=ea){if(da-ea>180){ea+=360;}else if(ea-da>180)da+=360;x.push({i:w.push(w.pop()+"rotate(",null,")")-2,x:r.number(da,ea)});}else if(ea)w.push(w.pop()+"rotate("+ea+")");if(fa!=ga){x.push({i:w.push(w.pop()+"skewX(",null,")")-2,x:r.number(fa,ga)});}else if(ga)w.push(w.pop()+"skewX("+ga+")");if(ha[0]!=ia[0]||ha[1]!=ia[1]){y=w.push(w.pop()+"scale(",null,",",null,")");x.push({i:y-4,x:r.number(ha[0],ia[0])},{i:y-2,x:r.number(ha[1],ia[1])});}else if(ia[0]!=1||ia[1]!=1)w.push(w.pop()+"scale("+ia+")");y=x.length;return function(ja){var ka=-1,la;while(++ka<y)w[(la=x[ka]).i]=la.x(ja);return w.join("");};};r.rgb=function(u,v){u=g(u);v=g(v);var w=u.r,x=u.g,y=u.b,z=v.r-w,aa=v.g-x,ba=v.b-y;return function(ca){return "#"+k(Math.round(w+z*ca))+k(Math.round(x+aa*ca))+k(Math.round(y+ba*ca));};};r.hsl=function(u,v){u=h(u);v=h(v);var w=u.h,x=u.s,y=u.l,z=v.h-w,aa=v.s-x,ba=v.l-y;if(z>180){z-=360;}else if(z<-180)z+=360;return function(ca){return l(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.lab=function(u,v){u=i(u);v=i(v);var w=u.l,x=u.a,y=u.b,z=v.l-w,aa=v.a-x,ba=v.b-y;return function(ca){return m(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.hcl=function(u,v){u=j(u);v=j(v);var w=u.h,x=u.c,y=u.l,z=v.h-w,aa=v.c-x,ba=v.l-y;if(z>180){z-=360;}else if(z<-180)z+=360;return function(ca){return n(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.array=function(u,v){var w=[],x=[],y=u.length,z=v.length,aa=Math.min(u.length,v.length),ba;for(ba=0;ba<aa;++ba)w.push(r(u[ba],v[ba]));for(;ba<y;++ba)x[ba]=u[ba];for(;ba<z;++ba)x[ba]=v[ba];return function(ca){for(ba=0;ba<aa;++ba)x[ba]=w[ba](ca);return x;};};r.object=function(u,v){var w={},x={},y;for(y in u)if(y in v){w[y]=t(y)(u[y],v[y]);}else x[y]=u[y];for(y in v)if(!(y in u))x[y]=v[y];return function(z){for(y in w)x[y]=w[y](z);return x;};};var s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function t(u){return u=="transform"?r.transform:r;}r.interpolators=[r.object,function(u,v){return v instanceof Array&&r.array(u,v);},function(u,v){return (typeof u==="string"||typeof v==="string")&&r.string(u+"",v+"");},function(u,v){return (typeof v==="string"?o.has(v)||/^(#|rgb\(|hsl\()/.test(v):v instanceof p)&&r.rgb(u,v);},function(u,v){return !isNaN(u=+u)&&!isNaN(v=+v)&&r.number(u,v);}];r._interpolateByName=t;e.exports=r;},null);
__d("d3/core/rebind",[],function(a,b,c,d,e,f){var g=function(i,j){var k=1,l=arguments.length,m;while(++k<l)i[m=arguments[k]]=h(i,j,j[m]);return i;};function h(i,j,k){return function(){var l=k.apply(j,arguments);return arguments.length?i:l;};}e.exports=g;},null);
__d("d3/core/range",[],function(a,b,c,d,e,f){var g=function(i,j,k){if(arguments.length<3){k=1;if(arguments.length<2){j=i;i=0;}}if((j-i)/k===Infinity)throw new Error("infinite range");var l=[],m=h(Math.abs(k)),n=-1,o;i*=m,j*=m,k*=m;if(k<0){while((o=i+k*++n)>j)l.push(o/m);}else while((o=i+k*++n)<j)l.push(o/m);return l;};function h(i){var j=1;while(i*j%1)j*=10;return j;}e.exports=g;},null);
__d("d3/core/format-en_US",[],function(a,b,c,d,e,f){var g=".",h=",",i=[3,3];f._decimalPoint=g;f._thousandsSeparator=h;f._grouping=i;},null);
__d("d3/core/identity",[],function(a,b,c,d,e,f){function g(h){return h;}f._identity=g;},null);
__d("d3/core/round",[],function(a,b,c,d,e,f){var g=function(h,i){return i?Math.round(h*(i=Math.pow(10,i)))/i:Math.round(h);};e.exports=g;},null);
__d("d3/core/formatPrefix",["d3/core/round","d3/core/format"],function(a,b,c,d,e,f,g){var h=["y","z","a","f","p","n","\u00b5","m","","k","M","G","T","P","E","Z","Y"].map(j),i=function(k,l){var m=0;if(k){if(k<0)k*=-1;if(l)k=g(k,b("d3\/core\/format")._precision(k,l));m=1+Math.floor(1e-12+Math.log(k)/Math.LN10);m=Math.max(-24,Math.min(24,Math.floor((m<=0?m+1:m-1)/3)*3));}return h[8+m/3];};function j(k,l){var m=Math.pow(10,Math.abs(8-l)*3);return {scale:l>8?function(n){return n/m;}:function(n){return n*m;},symbol:k};}e.exports=i;},null);
__d("d3/core/format",["d3/core/format-en_US","d3/core/identity","d3/core/map","d3/core/round","d3/core/formatPrefix"],function(a,b,c,d,e,f){var g=b("d3\/core\/format-en_US"),h=g._decimalPoint,i=b("d3\/core\/identity")._identity,j=g._grouping,k=g._thousandsSeparator,l=b("d3\/core\/map"),m=b("d3\/core\/round"),n=function(u){var v=o.exec(u),w=v[1]||" ",x=v[2]||">",y=v[3]||"",z=v[4]||"",aa=v[5],ba=+v[6],ca=v[7],da=v[8],ea=v[9],fa=1,ga="",ha=false;if(da)da=+da.substring(1);if(aa||w==="0"&&x==="="){aa=w="0";x="=";if(ca)ba-=Math.floor((ba-1)/4);}switch(ea){case "n":ca=true;ea="g";break;case "%":fa=100;ga="%";ea="f";break;case "p":fa=100;ga="%";ea="r";break;case "b":case "o":case "x":case "X":if(z)z="0"+ea.toLowerCase();case "c":case "d":ha=true;da=0;break;case "s":fa=-1;ea="r";break;}if(z==="#")z="";if(ea=="r"&&!da)ea="g";ea=p.get(ea)||r;var ia=aa&&ca;return function(ja){if(ha&&(ja%1))return "";var ka=ja<0||ja===0&&1/ja<0?(ja=-ja,"-"):y;if(fa<0){var la=b("d3\/core\/formatPrefix")(ja,da);ja=la.scale(ja);ga=la.symbol;}else ja*=fa;ja=ea(ja,da);if(!aa&&ca)ja=s(ja);var ma=z.length+ja.length+(ia?0:ka.length),na=ma<ba?new Array(ma=ba-ma+1).join(w):"";if(ia)ja=s(na+ja);if(h)ja.replace(".",h);ka+=z;return (x==="<"?ka+ja+na:x===">"?na+ka+ja:x==="^"?na.substring(0,ma>>=1)+ka+ja+na.substring(ma):ka+(ia?ja:na+ja))+ga;};},o=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,p=l({b:function(u){return u.toString(2);},c:function(u){return String.fromCharCode(u);},o:function(u){return u.toString(8);},x:function(u){return u.toString(16);},X:function(u){return u.toString(16).toUpperCase();},g:function(u,v){return u.toPrecision(v);},e:function(u,v){return u.toExponential(v);},f:function(u,v){return u.toFixed(v);},r:function(u,v){return (u=m(u,q(u,v))).toFixed(Math.max(0,Math.min(20,q(u*(1+1e-15),v))));}});function q(u,v){return v-(u?Math.ceil(Math.log(u)/Math.LN10):1);}function r(u){return u+"";}var s=i;if(j){var t=j.length;s=function(u){var v=u.lastIndexOf("."),w=v>=0?"."+u.substring(v+1):(v=u.length,""),x=[],y=0,z=j[0];while(v>0&&z>0){x.push(u.substring(v-=z,v+z));z=j[y=(y+1)%t];}return x.reverse().join(k||"")+w;};}n._precision=q;e.exports=n;},null);
__d("d3/scale/linear",["d3/core/uninterpolate","d3/scale/polylinear","d3/scale/bilinear","d3/scale/nice","d3/scale/scale","d3/core/interpolate","d3/core/rebind","d3/core/range","d3/core/core","d3/core/format"],function(a,b,c,d,e,f){var g=b("d3\/core\/uninterpolate"),h=b("d3\/scale\/polylinear")._polylinear,i=b("d3\/scale\/bilinear")._bilinear,j=g._uninterpolateClamp,k=g._uninterpolateNumber,l=b("d3\/scale\/nice")._nice,m=b("d3\/scale\/scale")._scaleExtent,n=b("d3\/core\/interpolate"),o=b("d3\/core\/rebind"),p=b("d3\/core\/range"),q=b("d3\/core\/core"),r=b("d3\/core\/format"),s=function(){return t([0,1],[0,1],n,false);};function t(z,aa,ba,ca){var da,ea;function fa(){var ha=Math.min(z.length,aa.length)>2?h:i,ia=ca?j:k;da=ha(z,aa,ia,ba);ea=ha(aa,z,ia,n);return ga;}function ga(ha){return da(ha);}ga.invert=function(ha){return ea(ha);};ga.domain=function(ha){if(!arguments.length)return z;z=ha.map(Number);return fa();};ga.range=function(ha){if(!arguments.length)return aa;aa=ha;return fa();};ga.rangeRound=function(ha){return ga.range(ha).interpolate(n.round);};ga.clamp=function(ha){if(!arguments.length)return ca;ca=ha;return fa();};ga.interpolate=function(ha){if(!arguments.length)return ba;ba=ha;return fa();};ga.ticks=function(ha){return x(z,ha);};ga.tickFormat=function(ha){return y(z,ha);};ga.nice=function(){l(z,v);return fa();};ga.copy=function(){return t(z,aa,ba,ca);};return fa();}function u(z,aa){return o(z,aa,"range","rangeRound","interpolate","clamp");}function v(z){z=Math.pow(10,Math.round(Math.log(z)/Math.LN10)-1);return z&&{floor:function(aa){return Math.floor(aa/z)*z;},ceil:function(aa){return Math.ceil(aa/z)*z;}};}function w(z,aa){var ba=m(z),ca=ba[1]-ba[0],da=Math.pow(10,Math.floor(Math.log(ca/aa)/Math.LN10)),ea=aa/ca*da;if(ea<=.15){da*=10;}else if(ea<=.35){da*=5;}else if(ea<=.75)da*=2;ba[0]=Math.ceil(ba[0]/da)*da;ba[1]=Math.floor(ba[1]/da)*da+da*.5;ba[2]=da;return ba;}function x(z,aa){return p.apply(q,w(z,aa));}function y(z,aa){return r(",."+Math.max(0,-Math.floor(Math.log(w(z,aa)[2])/Math.LN10+.01))+"f");}s._linearTicks=x;s._linearTickFormat=y;s._linearNice=v;s._linearRebind=u;e.exports=s;},null);
__d("Circle.art",["React","ReactART"],function(a,b,c,d,e,f,g,h){var i=g,j=i.PropTypes,k=h.Shape,l=h.Path,m=g.createClass({displayName:"Circle",propTypes:{radius:j.number.isRequired},render:function(){var n=this.props.radius,o=l().moveTo(0,-n).arc(0,n*2,n).arc(0,n*-2,n).close();return g.createElement(k,g.__spread({},this.props,{d:o}));}});e.exports=m;},null);
__d("SpectrumUtilities",["cloneWithProps","merge"],function(a,b,c,d,e,f,g,h){function i(q){return q;}function j(q,r){return function(){return q(r.apply(this,arguments));};}function k(q,r,s){for(var t=1,u=q.length;t<u;t++)r.call(s,q[t-1],t-1,q[t],t);}function l(q,r,s){if(q<Math.min(r,s))return false;if(q>Math.max(r,s))return false;return true;}function m(q,r,s){var t=-Infinity,u=Infinity,v=-Infinity,w=Infinity,x=Infinity;function y(z,aa,ba,ca){var da=ba-z,ea=ca-aa,fa=da/ea,ga=ea/da,ha=(q-z),ia=(r-aa),ja=z+fa*ia,ka=aa+ga*ha;if(l(ja,z,ba)){if(ja>t&&ja<q)t=ja;if(ja<u&&ja>q)u=ja;}if(l(ka,aa,ca)){if(ka>v&&ka<r)v=ka;if(ka<w&&ka>r)w=ka;}if(!l(q,z,ba))return 0;var la=Math.abs(ka-r);if(la>x)return 0;x=la;var ma=Math.abs(q-z),na=Math.abs(q-ba);if(ma<na){return (r<ka)?1:3;}else return (r<ka)?2:4;}s(y);return {left:t,right:u,top:v,bottom:w,distance:x};}function n(q){if(!q)return null;var r=q.range(),s=r[0],t=r[r.length-1];if(q.rangeBand)t+=q.rangeBand();return [s,t];}function o(q,r,s,t){var u=h(r,s,t);return g(q,u);}var p={compose:j,findEdges:m,forEachVector:k,getOuterRange:n,identity:i,mergeProps:o};e.exports=p;},null);
__d("SpectrumDataVisualization",["d3/core/interpolate","React","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i){var j=h,k=j.PropTypes,l=0,m={Mixin:{componentWillMount:function(){if(this.props.eventChannel)this.props.eventChannel[this.props.eventIndex]=this;this.uid=(l++)+':';},componentWillUnmount:function(){if(this.props.eventChannel)delete this.props.eventChannel[this.props.eventIndex];},hasDimensionsChanged:function(n){if(this.props.width!=n.width||this.props.height!=n.height)return true;return false;},hasDataChanged:function(n){if(this.props.data!==n.data)return true;return false;},hasFocusChanged:function(n){var o=this.props.focus,p=n.focus;if(o===p)return false;if(!o||!p)return true;var q=o.target===this,r=p.target===this;if(q!==r)return true;if(r)return this.hasHighlightDetailsChanged(o,p);return false;},contextTypes:{insightsEnvironmentConfig:k.object}},getDefaultValueXAccessor:function(n){if(!n.scaleX)return function(s,t){return t;};var o=n.data[0].length,p=n.scaleX.domain();if(!(n.scaleX.interpolate)&&p.length==o)return function(s,t){return p[t];};var q=p[1];if(n.scaleX.interval&&n.scaleX.interval())q=n.scaleX.interval().offset(q,-1);var r=g(p[0],q);if(p[0] instanceof Date)return function(s,t){return new Date(r(t/(o-1)));};return function(s,t){return r(t/(o-1));};},getDefaultValueYAccessor:function(){return i.identity;},getValueXAccessor:function(n){return n.valueX||m.getDefaultValueXAccessor(n);},getValueYAccessor:function(n){return n.valueY||m.getDefaultValueYAccessor(n);},getDefaultExtentX:function(n){return m.getExtentHelper(n,m.getValueXAccessor(n));},getDefaultExtentY:function(n){return m.getExtentHelper(n,m.getValueYAccessor(n));},getExtentHelper:function(n,o){var p=function(r){if(!Array.isArray(r)){return o(r);}else if(o)return Math.min.apply(null,r.map(o));return Math.min.apply(null,r);},q=function(r){if(!Array.isArray(r)){return o(r);}else if(o)return Math.max.apply(null,r.map(o));return Math.max.apply(null,r);};return [Math.min.apply(null,n.data.map(p)),Math.max.apply(null,n.data.map(q))];},getScaleX:function(n){var o=n.scaleX.copy();o.clamp&&o.clamp(false);return o;},getX:function(n,o){var p=n.rangeBand?n.rangeBand():0;return n(o)+(p/2);},getClippingRectangleDimensions:function(n){var o=i.getOuterRange(n.scaleX),p=i.getOuterRange(n.scaleY);return {x:Math.min(o[0],o[1]),y:Math.min(p[0],p[1]),width:Math.abs(o[0]-o[1]),height:Math.abs(p[0]-p[1])};}};e.exports=m;},null);
__d("SpectrumGuide.react",["React","ReactART","SpectrumDataVisualization","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j){var k=h.Path,l=h.Shape,m=g.createClass({displayName:"SpectrumGuide",mixins:[i.Mixin],propTypes:{x:g.PropTypes.number.isRequired,color:g.PropTypes.string},getX:function(){return i.getX(this.props.scaleX,this.props.x);},render:function(){var n=this.props.theme.guide,o=j.getOuterRange(this.props.scaleY),p=o[0],q=o[1],r=this.getX(),s=k().moveTo(r,p).lineTo(r,q);return (g.createElement(l,{d:s,stroke:this.props.color||n.color,strokeWidth:n.width}));}});e.exports=m;},null);
__d("d3/scale/ordinal",["d3/core/map","d3/scale/scale","d3/core/range"],function(a,b,c,d,e,f){var g=b("d3\/core\/map")._Map,h=b("d3\/scale\/scale")._scaleExtent,i=b("d3\/core\/range"),j=function(){return k([],{t:"range",a:[[]]});};function k(l,m){var n,o,p;function q(s){return o[((n.get(s)||n.set(s,l.push(s)))-1)%o.length];}function r(s,t){return i(l.length).map(function(u){return s+t*u;});}q.domain=function(s){if(!arguments.length)return l;l=[];n=new g();var t=-1,u=s.length,v;while(++t<u)if(!n.has(v=s[t]))n.set(v,l.push(v));return q[m.t].apply(q,m.a);};q.range=function(s){if(!arguments.length)return o;o=s;p=0;m={t:"range",a:arguments};return q;};q.rangePoints=function(s,t){if(arguments.length<2)t=0;var u=s[0],v=s[1],w=(v-u)/(Math.max(1,l.length-1)+t);o=r(l.length<2?(u+v)/2:u+w*t/2,w);p=0;m={t:"rangePoints",a:arguments};return q;};q.rangeBands=function(s,t,u){if(arguments.length<2)t=0;if(arguments.length<3)u=t;var v=s[1]<s[0],w=s[v-0],x=s[1-v],y=(x-w)/(l.length-t+2*u);o=r(w+y*u,y);if(v)o.reverse();p=y*(1-t);m={t:"rangeBands",a:arguments};return q;};q.rangeRoundBands=function(s,t,u){if(arguments.length<2)t=0;if(arguments.length<3)u=t;var v=s[1]<s[0],w=s[v-0],x=s[1-v],y=Math.floor((x-w)/(l.length-t+2*u)),z=x-w-(l.length-t)*y;o=r(w+Math.round(z/2),y);if(v)o.reverse();p=Math.round(y*(1-t));m={t:"rangeRoundBands",a:arguments};return q;};q.rangeBand=function(){return p;};q.rangeExtent=function(){return h(m.a[0]);};q.copy=function(){return k(l,m);};return q.domain(l);}e.exports=j;},null);
__d("SpectrumLines",["Circle.art","React","ReactART","SpectrumGuide.react","d3/scale/ordinal","SpectrumDataVisualization","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.Path,o=i.Group,p=i.ClippingRectangle,q=i.Shape,r=m.forEachVector,s=m.compose,t=m.findEdges,u=2,v=h.createClass({displayName:"SpectrumLines",mixins:[l.Mixin],statics:{getExtentY:function(w){var x=l.getDefaultExtentY(w);x[0]=Math.min(x[0],0);return x;},getExtentX:function(w){return l.getDefaultExtentX(w);},getMarkerRadius:function(w){return w.highlightWidths[0]+u;},getGutter:function(w,x){var y=v.getMarkerRadius(x.lines);return {bottom:y,left:y,right:y,top:y};}},handleEvent:function(w){var x=null;if(w.type==='mousemove'){x=this.props.onRequestFocus;}else if(w.type==='click'){x=this.props.onClick;}else return;if(!!this.props.ignoreMouseEvents)return;var y=this.findEdges(w.x,w.y);if(y.right<w.hitRegionRight)w.hitRegionRight=y.right;if(y.left>w.hitRegionLeft)w.hitRegionLeft=y.left;if(y.bottom<w.hitRegionBottom)w.hitRegionBottom=y.bottom;if(y.top>w.hitRegionTop)w.hitRegionTop=y.top;if(y.bestDatum.valueX!=null&&y.bestDistanceToPoint<20){var z=this.props.titles,aa=l.getScaleX(this.props),ba=aa.rangeBand?aa.rangeBand():0,ca={rect:{left:aa(y.bestDatum.valueX),right:aa(y.bestDatum.valueX)+ba,top:this.props.scaleY(y.bestDatum.valueY),bottom:this.props.scaleY(y.bestDatum.valueY)},target:this,title:z&&z[y.lineIndex]||'',lineIndex:y.lineIndex};ca=Object.assign({},ca,y.bestDatum);if(x)x(ca);w.stopPropagation();}else if(x)x(null);},findEdges:function(w,x){var y=l.getValueXAccessor(this.props),z=l.getValueYAccessor(this.props),aa=l.getScaleX(this.props),ba=this.props.scaleY,ca=this.props.partialValue||function(){},da=function(ma,na){return l.getX(aa,y(ma,na));},ea=s(ba,z),fa=this.props.data,ga=null,ha={},ia=null;function ja(ma,na){return {dataPoint:ma,index:na,isPartial:ca(ma,na),valueX:y(ma,na),valueY:z(ma,na)};}function ka(ma){function na(oa,pa){function qa(ra,sa,ta,ua){var va=da(ra,sa),wa=ea(ra,sa),xa=da(ta,ua),ya=ea(ta,ua),za=ma(va,wa,xa,ya);if(za){ga=pa;if(za==1||za==3){ha=ja(ra,sa);va-=w;wa-=x;ia=Math.sqrt(va*va+wa*wa);}else{ha=ja(ta,ua);xa-=w;ya-=x;ia=Math.sqrt(xa*xa+ya*ya);}}}r(oa,qa);}fa.forEach(na);}var la=t(w,x,ka);la.lineIndex=ga;la.bestDatum=ha;la.bestDistanceToPoint=ia;return la;},shouldComponentUpdate:function(w){return this.hasDataChanged(w)||this.hasFocusChanged(w)||this.hasDimensionsChanged(w);},hasHighlightDetailsChanged:function(w,x){return (w.valueX!==x.valueX||w.valueY!==x.valueY||w.lineIndex!==x.lineIndex);},render:function(){if(!this.props.data.length)return h.createElement(o,null);var w=l.getValueXAccessor(this.props),x=l.getValueYAccessor(this.props),y=this.props.partialValue||function(){},z=l.getScaleX(this.props),aa=this.props.scaleY,ba=function(pa,qa){return l.getX(z,w(pa,qa));},ca=s(aa,x),da=this.props.data;if(!Array.isArray(da)||!Array.isArray(da[0]))throw new Error('Invalid data shape provided to SpectrumLines. '+'A two dimensional array was expected.');var ea=this.uid,fa=this.props.theme.lines,ga=da.some(function(pa){return pa.some(function(qa,ra){return ra>0&&Math.abs(ba(qa,ra)-ba(pa[ra-1],ra-1))<v.getMarkerRadius(fa);});});if(ga)fa.markers=false;var ha=fa.colors.copy?fa.colors:k().range(fa.colors),ia=fa.widths.copy?fa.widths:k().range(fa.widths),ja=this.props.focus;if(ja&&ja.target!=null&&ja.target!==this)ja=null;var ka=fa.highlightWidths.copy?fa.highlightWidths:k().range(fa.highlightWidths),la;if(fa.markerWidths){la=fa.markerWidths.copy?fa.markerWidths:k().range(fa.markerWidths);}else la=ia;function ma(pa,qa){var ra=pa.map(function(gb,hb){var ib=null;if(x(gb,hb)!=null)ib=ca(gb,hb);return [ba(gb,hb),ib];}),sa=false;if(ja)if(ja.lineIndex===qa){sa=true;}else if(ja.target==null)sa=pa.some(function(gb,hb){return (ja.valueX==w(gb,hb)&&ja.valueY==x(gb,hb));});var ta=ha(ea+qa);if(ja&&!sa)ta=fa.fadeOutColor;function ua(gb,hb){if(hb<=0)return null;return wa(gb[hb],gb[hb-1]);}function va(gb,hb){if(hb>=gb.length-1)return null;return wa(gb[hb],gb[hb+1]);}function wa(gb,hb){if(gb[1]==null||hb[1]==null)return null;var ib=(gb[0]+hb[0])*.5,jb=(gb[1]+hb[1])*.5;return [ib,jb];}var xa=n(),ya=n();for(var za=0;za<ra.length;za++){var ab=ua(ra,za),bb=va(ra,za),cb=y(pa[za],za)?xa:ya,db=[];if(ab)db.push(ab);db.push(ra[za]);if(bb)db.push(bb);for(var eb=0;eb<db.length;eb++){var fb=db[eb];if(eb===0){cb.moveTo(fb[0],fb[1]);}else cb.lineTo(fb[0],fb[1]);}}return (h.createElement(o,{key:qa},h.createElement(q,{d:ya,stroke:ta,strokeWidth:ia(ea+qa)}),h.createElement(q,{d:xa,stroke:ta,strokeWidth:ia(ea+qa),strokeDash:fa.partialStrokeDashes})));}function na(pa,qa){function ra(sa,ta){var ua=m.getOuterRange(z);if(ba(sa,ta)<ua[0]||ba(sa,ta)>ua[1])return;var va=w(sa,ta),wa=x(sa,ta);if(va==null||wa==null)return null;var xa=ja&&ja.valueX+''==va+''&&ja.valueY+''==wa+'';if(!xa&&!fa.markers)return null;var ya=xa?ka(ea+ta):la(ea+ta);if(!ya)return null;var za=ha(ea+qa),ab=fa.markerColor;if(ja&&ja.lineIndex!=qa)za=fa.fadeOutColor;if(this.props.focus&&this.props.focus.target!==this)za=ab=fa.fadeOutColor;var bb=(xa&&this.props.showGuide)?h.createElement(j,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,theme:this.props.theme,x:va}):null;return (h.createElement(o,{key:ta},bb,h.createElement(g,{radius:u,stroke:za,strokeWidth:ya*2,x:ba(sa,ta),y:ca(sa,ta)}),h.createElement(g,{radius:u,fill:ab,x:ba(sa,ta),y:ca(sa,ta)})));}return pa.map(ra,this);}var oa=l.getClippingRectangleDimensions(this.props);return (h.createElement(o,null,h.createElement(p,{x:oa.x,y:0,width:oa.width,height:this.props.height},da.map(ma)),da.map(na,this)));}});e.exports=v;},null);
__d("SpectrumStyle",[],function(a,b,c,d,e,f){var g={BLUE_HOVER:'rgba(113, 137, 174, 0.3)',BLUE:'#B1BDD6',BLUE2:'#899BC1',BLUE3:'#95A5D0',BLUE4:'#3C6399',BLUE_BRUSH:'rgba(58, 96, 149, 0.08)',BRIGHT_BLUE:'#5890FF',BOLD_BLUE:'#627AAD',DARK_BLUE:'#23355B',FB_BLUE:'#3B5998',LIGHT_BLUE:'#C5CEE0',LIGHT_BLUE2:'#9DACCB',LIGHT_BLUE3:'#D7DAE7',LAVENDER:'#9C7AB3',TROUT:'#4E5665',CASPER:'#ABB7CF',COBALT:'#9DACCB',COBALT2:'#758AB7',COBALT3:'#7F96C7',GRAY:'#ADB3BC',LIGHT_GRAY:'#E5E5E5',MAUVE:'#D094AB',MAUVE2:'#DEB5C5',ORANGE:'#F79600',ORANGE_BRUSH:'rgba(242, 100, 52, 0.14)',LIGHT_ORANGE:'#FFCA87',PINK:'#DE8585',DEEP_PURPLE:'#705781',PURPLE:'#BC7F96',PURPLE2:'#B7758F',PURPLE3:'#925E73',PURPLE4:'#98677D',PURPLE5:'#B36D88',PURPLE6:'#B194C2',LIGHT_GREEN:'#F0EEC4',DARK_RED:'#D44040',SALMON:'#DA7878',BROWN:'#892A2A',BEIGE:'#C9B4A0',DUCKEGG:'#BFDBC6',TAN:'#E8C595',VIOLET:'#865EA1',FONT_FAMILY:['\'helvetica neue\'','helvetica','arial','\'lucida grande\'','tahoma','verdana','sans-serif'].join(','),FONT_SIZE_TINY:10,FONT_SIZE_SMALL:12};g.BREAKDOWN_COLORS=[g.COBALT3,g.LIGHT_BLUE3,g.PURPLE6,g.LIGHT_GREEN,g.CASPER,g.TAN,g.DUCKEGG,g.GRAY,g.MAUVE,g.BEIGE];g.BUTTERFLY_COLORS=[g.LIGHT_GRAY,g.BLUE2,g.LIGHT_GRAY,g.BLUE4];g.BUTTERFLY_LABEL=g.TROUT;e.exports=g;},null);
__d("SpectrumFlag",["cx","SpectrumAnimationLayer","React"],function(a,b,c,d,e,f,g,h,i){var j=20,k=100,l=i.createClass({displayName:"SpectrumFlag",render:function(){var m,n=this.props.height?this.props.height:k,o={height:n};if(this.props.placement=="bottom"){m=i.createElement(h,{opacity:.9,x:Math.round(this.props.x-j),y:Math.round(this.props.y)},i.createElement("div",{className:"_57qv _57qw"},i.createElement("div",{style:o,className:"_57qx"},i.createElement("div",{className:"_57qy"},i.createElement("div",{className:"_57qz"},i.createElement("i",{className:"_57q-"})),i.createElement("div",{className:"_57q_"},this.props.children)))));}else m=i.createElement(h,{opacity:.9,x:Math.round(this.props.x-j),y:Math.round(this.props.y-n)},i.createElement("div",{className:"_57qv _57r0"},i.createElement("div",{style:o,className:"_57qx"},i.createElement("div",{className:"_57qy"},i.createElement("div",{className:"_57q_"},this.props.children),i.createElement("div",{className:"_57qz"},i.createElement("i",{className:"_57r1"}))))));return m;}});e.exports=l;},null);
__d("SpectrumFlagData",["cx","React"],function(a,b,c,d,e,f,g,h){var i=h.createClass({displayName:"SpectrumFlagData",render:function(){return (h.createElement("span",{className:"_57qt"},this.props.children));}});e.exports=i;},null);
__d("SpectrumFlagDescription",["cx","React"],function(a,b,c,d,e,f,g,h){var i=h.createClass({displayName:"SpectrumFlagDescription",render:function(){var j=h.createElement("span",{className:"_57qu"},this.props.children);return j;}});e.exports=i;},null);
__d("InsightsBenchmarkLayer.react",["fbt","React","ReactART","SpectrumAnimationLayer","d3/scale/linear","SpectrumLines","SpectrumStyle","SpectrumUtilities","SpectrumFlag","SpectrumFlagData","SpectrumFlagDescription","mergeDeep","mergeHelpers"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=h,t=s.PropTypes,u=b('mergeHelpers').ArrayStrategies,v=i.Path,w=i.Shape,x=i.Surface,y=v().move(0,0).line(1,0).line(0,1).line(-1,0).close(),z=100,aa={lines:{colors:[m.BLUE,m.DARK_BLUE],markers:false}},ba=h.createClass({displayName:"InsightsBenchmarkLayer",propTypes:{benchmarks:t.object,visible:t.bool},statics:{isChartLayer:true},componentWillMount:function(){if(this.props.eventChannel)this.props.eventChannel[this.props.eventIndex]=this;},componentWillUnmount:function(){if(this.props.eventChannel)delete this.props.eventChannel[this.props.eventIndex];},handleEvent:function(event){if(this.props.visible){event.cursor='';event.stopPropagation();}},getExtentY:function(){if(!this.props.visible)return null;var ca=this.props.benchmarks;return [Math.min(ca.average,ca.referenceAverage),Math.max(ca.average,ca.referenceAverage)];},render:function(){if(!this.props.visible)return h.createElement("div",null);var ca=r(this.props.theme,aa,u.Clobber),da=k().range(n.getOuterRange(this.props.scaleX)),ea=k().range(n.getOuterRange(this.props.scaleY)),fa=[],ga=[],ha=this.props.benchmarks;if(ha&&ha.referenceAverage!=null){fa.push([ha.referenceAverage,ha.referenceAverage]);ga.push("Your Average Last Period");}if(ha&&ha.average!=null){fa.push([ha.average,ha.average]);ga.push("Your Average This Period");}var ia=this.props.scaleY,ja=ia.tooltipFormat?ia.tooltipFormat():ia.tickFormat(),ka=[];function la(oa,pa){var qa,ra=0,sa=0;for(qa=0;qa<oa.length;qa++){var ta=ia(oa[qa][0]);ka.push("top");if(ta-z>0){ra+=1;}else ka[qa]="bottom";if(ta+z<pa)sa+=1;}if(ra!==oa.length&&sa===oa.length)for(qa=0;qa<ka.length;qa++)ka[qa]="bottom";}function ma(oa,pa){var qa=oa[0],ra=.7/oa.length;return (h.createElement(o,{height:z,placement:ka[pa],x:da(.3+ra*pa),y:ia(qa)},h.createElement(q,null,ga[pa]),h.createElement(p,null,ja(qa))));}la(fa,this.props.height);var na=l.type.getMarkerRadius(ca.lines);return (h.createElement(j,{height:this.props.height,width:this.props.width},h.createElement(x,{height:this.props.height,width:this.props.width},h.createElement(w,{d:y,fill:'rgba(255,255,255,0.65)',scaleX:da(1)-da(0)+na*2,scaleY:ea(0)-ea(1)+na*2,x:da(0)-na,y:ea(1)-na}),h.createElement(l,{data:fa,height:this.props.height,scaleX:da,scaleY:this.props.scaleY,theme:ca,width:this.props.width})),fa.map(ma)));}});e.exports=ba;},null);
__d("InsightsEnvironmentConfig",[],function(a,b,c,d,e,f){var g={DEFAULT:'',KEPLER:'KEPLER'},h=[];for(var i in g)h.push(g[i]);var j=function(l,m,n){if(m.indexOf(l)!==-1)return true;return n||false;},k={Names:g,NameList:h,getConfig:function(l){return {};}};e.exports=k;},null);
__d("InsightsContextMixin",["InsightsEnvironmentConfig","React"],function(a,b,c,d,e,f,g,h){var i=h,j=i.PropTypes,k={contextTypes:{insightsContext:j.oneOf(g.NameList)},childContextTypes:{insightsEnvironmentConfig:j.object},getChildContext:function(){var l=this.context.insightsContext||'';return {insightsEnvironmentConfig:g.getConfig(l)};}};e.exports=k;},null);
__d("InsightsInfoTip.react",["Image.react","React","Tooltip","cx","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=h,n=m.PropTypes,o=h.createClass({displayName:"InsightsInfoTip",propTypes:{alignH:n.oneOf(['center','left','right']),position:n.oneOf(['above','below','left','right'])},getDefaultProps:function(){return {alignH:'right',position:'above'};},_setTooltip:function(){i.set(this.refs.root.getDOMNode(),this.refs.tooltip.getDOMNode().cloneNode(true),this.props.position,this.props.alignH);},componentDidMount:function(){this._setTooltip();},componentDidUpdate:function(p){this._setTooltip();},componentWillUnmount:function(){if(this.refs.icon)i.remove(this.refs.icon.getDOMNode());},render:function(){var p=k('/images/hubble/info/info-flat_s.png'),q=null;if(!this.props.noImage)q=(h.createElement(g,{className:"_5j1g",src:p,ref:"icon"}));var r=l("_5j1f",this.props.className);return (h.createElement("span",{className:r,ref:"root"},this.props.children,q,h.createElement("div",{className:"_5j1h"},h.createElement("div",{className:"_5j1i",ref:"tooltip"},this.props.tip))));}});e.exports=o;},null);
__d("InsightsTabbedSection.react",["React"],function(a,b,c,d,e,f,g){var h=g.createClass({displayName:"InsightsTabbedSection",propTypes:{className:g.PropTypes.string,tabHref:g.PropTypes.string,sectionKey:g.PropTypes.string.isRequired,title:g.PropTypes.string.isRequired,subtitle:g.PropTypes.string},statics:{getTabHref:function(i){return i.tabHref;},getKey:function(i){return i.sectionKey;},getTitle:function(i){return i.title;},getSubtitle:function(i){return i.subtitle;}},render:function(){return (g.createElement("div",{className:this.props.className},this.props.children));}});e.exports=h;},null);
__d("InsightsSectionUtils",[],function(a,b,c,d,e,f){var g={areSectionsEqual:function(h,i){return (h.type.getKey(h.props)===i.type.getKey(i.props));},getSectionByKey:function(h,i){for(var j=i.length-1;j>=0;--j){var k=i[j];if(k.type.getKey(k.props)===h)return k;}}};e.exports=g;},null);
__d("InsightsTabbedSectionsMixin",["Image.react","InsightsSectionUtils","React","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k={getActiveSection:function(){var l=null;if(this.props.activeKey){l=h.getSectionByKey(this.props.activeKey,this.props.children);if(!l)l=this.props.children[0];}else l=this.props.children[0];return l;},onTabClick:function(l){var m=this.getActiveSection();if(!h.areSectionsEqual(l,m)){this.props.onTabClick&&this.props.onTabClick(l);var n=l.props.nuxProp;if(n&&this.state.nuxShownStates[n.name])this._closeSectionNUX(n);}},render:function(){var l=this.getActiveSection(),m=this.props.children.map(function(n,o){var p=h.areSectionsEqual(n,l),q=this.theme.navLinkClass;if(p)q=j(q,this.theme.activeNavLinkClass);var r=null;if(p){var s=null;if(n.props.nubSource){s=n.props.nubSource;}else s=this.theme.nubSrc;r=i.createElement(g,{className:this.theme.nubClass,src:s});}var t,u=n.type.getSubtitle(n.props);if(u){t=i.createElement("div",{className:this.theme.subtitledBlockClass},i.createElement("div",null,n.type.getTitle(n.props)),i.createElement("div",{className:this.theme.subtitleClass},u));}else t=i.createElement("span",null,n.type.getTitle(n.props));return (i.createElement("a",{className:q,href:n.type.getTabHref(n.props),key:'section'+n.type.getKey(n.props),title:n.type.getTitle(n.props),onClick:this.onTabClick.bind(this,n)},r,t));},this);return (i.createElement("div",{className:this.props.className},i.createElement("div",{className:this.props.longNav?this.theme.longNavClass:this.theme.navClass},m),l));},_closeSectionNUX:function(l){this.state.nuxShownStates[l.name]=false;this.forceUpdate();l.onCloseButtonClick();}};e.exports=k;},null);
__d("InsightsTabbedSections.react",["InsightsTabbedSectionsMixin","React","cx","ix"],function(a,b,c,d,e,f,g,h,i,j){var k=h.createClass({displayName:"InsightsTabbedSections",mixins:[g],theme:{activeNavLinkClass:"_5cmg",navClass:"_5cmi",longNavClass:"_3bxh",navLinkClass:"_5cmf",nubClass:"_5cmh",nubSrc:j('/images/components/Insights/InsightsTabbedSections/nub.png'),subtitledBlockClass:"_1fkz",subtitleClass:"_1fk-"}});e.exports=k;},null);
__d("sumOfArray",[],function(a,b,c,d,e,f){function g(h){var i=0,j=h.length;for(var k=0;k<j;++k)i+=h[k];return i;}e.exports=g;},null);
__d("XUIBackgroundBar.react",["React","cx","sumOfArray"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"XUIBackgroundBar",getColorAtIndex:function(k){if(Array.isArray(this.props.colors)){return this.props.colors[k];}else return this.props.colors(k);},render:function(){var k=this.props.values,l=i(k),m=this.props.scale;m.rangeRound([0,100]);var n={width:m(l)+'%'};function o(p,q){if(q>0&&p===0)return null;var r=m(l)!==0?(100*m(p)/m(l))+'%':'0',s={backgroundColor:this.getColorAtIndex(q),width:r};return (g.createElement("div",{className:"_5abn",key:q,style:s}));}return (g.createElement("div",{className:"_5abm",style:n},k.map(o,this),g.createElement("div",{className:"_352g"})));}});e.exports=j;},null);
__d("InsightsBackgroundBar.react",["React","Tooltip","XUIBackgroundBar.react","cx","sumOfArray"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g,m=l.PropTypes,n=g.createClass({displayName:"InsightsBackgroundBar",propTypes:{colors:m.oneOfType([m.array,m.func]),forceTooltip:m.bool,label:m.oneOfType([m.bool,m.object,m.string]),labelWidth:m.string,scale:m.func,single:m.bool,tall:m.bool,short:m.bool,titles:m.array,values:m.array},_setTooltip:function(){var o=k(this.props.values||[]),p=this.props.forceTooltip||this.props.values.length>=2;if(!p||o===0){h.remove(this.refs.bar.getDOMNode());}else h.set(this.refs.bar.getDOMNode(),this.refs.tooltip.getDOMNode().cloneNode(true),'above','center');},componentDidMount:function(){this._setTooltip();},componentDidUpdate:function(o){if(o.values!=this.props.values)this._setTooltip();},componentWillUnmount:function(){h.remove(this.refs.bar.getDOMNode());},render:function(){var o=(("_5kmz")+(this.props.tall?' '+"_5km-":'')+(this.props.single?' '+"_5km_":'')+(this.props.short?' '+"_5vip":'')),p=Array.isArray(this.props.values)?this.props.values:[this.props.values],q=this.props.scale&&this.props.scale.tickFormat(),r=k(p||[]),s=p.map(function(w,x){var y=this.props.titles?this.props.titles[x]:null,z=this.props.scale.tooltipFormat&&this.props.scale.tooltipFormat(),aa=z(w),ba=y||x;return (g.createElement("div",{key:ba,className:"_5kn0"},g.createElement("div",{className:"_5kn1"},y),g.createElement("div",{className:"_5kn2"},aa)));},this),t=null,u=null;if(this.props.labelWidth){t={marginLeft:this.props.labelWidth};u={width:this.props.labelWidth};}if(this.props.label||typeof this.props.label==='undefined')var v=g.createElement("div",{className:"_5kn3 ellipsis",style:u},this.props.label||q(r));return (g.createElement("div",{className:o},v,g.createElement("div",{className:"_5kn4",style:t},g.createElement(i,{colors:this.props.colors,ref:"bar",scale:this.props.scale,values:p,inlineLabels:this.props.inlineLabels}),g.createElement("div",{className:"_5kn5",ref:"tooltip"},s))));}});e.exports=n;},null);
__d("InsightsLegend.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"InsightsLegend",render:function(){var k=this.props.layout||j.layout.FLOATED,l=i((("_5g0o")+(k==j.layout.FLOATED?' '+"_5g05":'')),this.props.className);return (g.createElement("div",{className:l},this.props.children));}});j.layout={FLOATED:'floated',STACKED:'stacked'};e.exports=j;},null);
__d("InsightsLegendKey.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"InsightsLegendKey",render:function(){if(this.props.children.length!==2)return;var k=i("_5g06",this.props.className);return (g.createElement("div",{className:k},this.props.children[0],g.createElement("span",{className:"_5g00"},this.props.children[1])));}});e.exports=j;},null);
__d("InsightsLegendAreaKey.react",["InsightsLegendKey.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:"InsightsLegendAreaKey",render:function(){return (h.createElement(g,{className:this.props.className},h.createElement("div",{className:"_5f_- _2tv9",style:{background:this.props.color}}),this.props.children));}});e.exports=j;},null);
__d("InsightsLoadingIndicator.react",["React","XUISpinner.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=g,l=k.PropTypes,m=g.createClass({displayName:"InsightsLoadingIndicator",propTypes:{size:l.string},getDefaultProps:function(){return {size:'large'};},render:function(){var n=j("_5g39",this.props.className);return (g.createElement("div",{className:n},g.createElement(h,{background:"light",size:this.props.size})));}});e.exports=m;},null);
__d("InsightsTableLegend.react",["InsightsInfoTip.react","InsightsLegend.react","InsightsLegendAreaKey.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.createClass({displayName:"InsightsTableLegend",render:function(){var n=this.props.legendData.map(function(o){var p=o.description?j.createElement(g,{tip:o.description},o.label):o.label;return (j.createElement(i,{color:o.colors[0],key:p},p));});return (j.createElement("div",j.__spread({},this.props,{className:l(this.props.className,"_5k3z")}),j.createElement(h,null,n)));}});e.exports=m;},null);
__d("InsightsDateRange.react",["React","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:"InsightsDateRange",getDefaultProps:function(){return {includeTime:false};},render:function(){var k=this.props.includeTime?'g:ia F jS, Y':'F d, Y',l=this.props.from,m=new Date(this.props.to.getTime()-1),n=i(l,k,{utc:this.props.utc}),o=i(m,k,{utc:this.props.utc});if(n!=o){var p=h._("{from} to {to}",[h.param("from",n),h.param("to",o)]);return g.createElement("span",null,p);}return g.createElement("span",null,n);}});e.exports=j;},null);
__d("LayerPage",["Arbiter","CSS","DOM","Layer","LayerButtons","LayerFormHooks","LayerHideOnTransition","LayerMouseHooks","LayerTabIsolation","ModalLayer","Style","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){for(var s in j)if(j.hasOwnProperty(s))u[s]=j[s];var t=j===null?null:j.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=j;function u(){"use strict";if(j!==null)j.apply(this,arguments);}u.prototype._configure=function(y,z){"use strict";this._fitWidth=!!y.fitWidth;if(y.width)this._width=Math.floor(y.width);if(y.bottomMargin!==(void 0))this._bottomMargin=y.bottomMargin;t._configure.call(this,y,z);};u.prototype._getDefaultBehaviors=function(){"use strict";return t._getDefaultBehaviors.call(this).concat([x,k,l,m,n,o,p]);};u.prototype.updatePosition=function(){"use strict";var y=i.find(this.getRoot(),'div.uiLayerPage');if(this._fitWidth){q.set(y,'width',w+'%');}else if(this._width){var z=i.find(y,'div.uiLayerPageContentWrap'),aa=this._width;if(h.hasClass(z,'uiLayerPageDefaultPadding'))aa+=2*v;q.set(y,'width',aa+'px');}return true;};u.prototype.getContentRoot=function(){"use strict";if(!this._contentRoot)this._contentRoot=i.find(this.getRoot(),'.uiOverlayContent');return this._contentRoot;};u.prototype.getBottomMargin=function(){"use strict";return this._bottomMargin;};var v=15,w=95;r(u.prototype,{_width:null,_bottomMargin:null});function x(y){"use strict";this._layer=y;}x.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(['show','hide'],function(y,z){if(y==='show'){g.inform('layer_shown',{type:'LayerPage'});}else g.inform('layer_hidden',{type:'LayerPage'});});};x.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};r(x.prototype,{_subscription:null});e.exports=u;},null);
__d("LayerPage.react",["CSS","LayerPage","ReactLayer","LayerFadeOnHide","LayerHideOnBlur","LayerHideOnEscape","LayerHideOnTransition"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({immutableProps:{modal:null},getDefaultEnabledBehaviors:function(){return {fadeOnHide:j,hideOnBlur:k,hideOnEscape:l,hideOnTransition:m};},createLayer:function(o){var p=this.enumerateBehaviors(this.props.behaviors),q={width:this.props.width,modal:this.props.modal,addedBehaviors:p},r=new h(q,o);r.conditionShow(this.props.shown);if(this.props.layerRootClass)g.addClass(r.getRoot(),this.props.layerRootClass);return r;},receiveProps:function(o){this.updateBehaviors(o.behaviors);this.layer.conditionShow(o.shown);}});e.exports=n;},null);
__d("LayerPageContent.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:"ReactLayerPageContent",render:function(){var j=(("uiLayerPageContentWrap")+(!this.props.useCustomPadding?' '+"uiLayerPageDefaultPadding":''));return (g.createElement("div",{className:"uiLayerPageInner"},g.createElement("div",{className:"uiLayerPage uiOverlay"},g.createElement("div",{className:"uiOverlayContent"},g.createElement("div",{className:j},g.createElement("div",{className:"uiLayerPageContent"},this.props.children))))));}});e.exports=i;},null);
__d("HubblePostView.react",["AsyncRequest","DOM","InsightsLoadingIndicator.react","React"],function(a,b,c,d,e,f,g,h,i,j){var k=0,l=j.createClass({displayName:"HubblePostView",propTypes:{identifier:j.PropTypes.string,onLoadComplete:j.PropTypes.func,onLoadError:j.PropTypes.func},componentDidMount:function(){var m='HubblePostView-'+(++k),n=h.create('div',{id:m});h.setContent(this.refs.preview.getDOMNode(),n);this.request=new g().setData({destination_dom_id:m,identifier:this.props.identifier}).setHandler(this.previewDidLoad).setErrorHandler(this.previewError).setMethod('GET').setReadOnly(true).setURI('/ajax/pages/insights/view_story/');this.request.send();},componentWillUnmount:function(){this.request&&this.request.abandon();},getInitialState:function(){return {loading:true};},previewDidLoad:function(){this.setState({loading:false});this.props.onLoadComplete&&this.props.onLoadComplete();},previewError:function(){this.setState({loading:false});this.props.onLoadError&&this.props.onLoadError();},render:function(){var m=null;if(this.state.loading)m=j.createElement(i,null);return (j.createElement("div",null,j.createElement("div",{ref:"preview"}),m));}});e.exports=l;},null);
__d("InsightsNumUtils",["NumberFormatConfig","intlNumUtils","sprintf"],function(a,b,c,d,e,f,g,h,i){var j={GBP:'£%s',EUR:'%s€',JPY:'¥%s',USD:'$%s'},k={prettyCurrency:function(l,m){var n=j[l]||'%s %s',o=m.toFixed(2).split('.'),p=g.decimalSeparator;return i(n,this.prettyInt(parseInt(o[0],10))+p+o[1],l);},prettyShortCurrency:function(l,m){var n=k.prettyShortInt(m),o=j[l]||'%s %s';return i(o,k.prettyShortInt(m),l);},prettyFloat:function(l){return h.getFloatString(l,g.numberDelimiter,g.decimalSeparator);},prettyShortInt:function(l){function m(n,o){return Math.round((n/o)*10)/10;}if(Math.abs(l)>=1e+09)return this.prettyFloat(m(l,1e+09))+'B';if(Math.abs(l)>=1e+06)return this.prettyFloat(m(l,1e+06))+'M';if(Math.abs(l)>=1000)return this.prettyFloat(m(l,1000))+'K';return this.prettyInt(l);},prettyInt:function(l){return h.getIntegerString(Math.round(l),g.numberDelimiter);},prettyPercent:function(l,m){if(!m)m=0;return (l*100).toFixed(m)+'%';}};e.exports=k;},null);
__d("HubbleVideoBackgroundBar.react",["InsightsNumUtils","LeftRight.react","React","XUIBackgroundBar.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=i,n=m.PropTypes,o={organic:"Organic",paid:"Paid"},p=i.createClass({displayName:"HubbleVideoBackgroundBar",propTypes:{className:n.string,colors:n.array,label:n.string.isRequired,metric:n.object.isRequired,scale:n.func},render:function(){var q=this.props.metric.organic+this.props.metric.paid,r=i.createElement("div",null,i.createElement("div",{className:"_5uti"},g.prettyInt(q)),i.createElement("div",{className:"_5utj"},this.props.label)),s=i.createElement("div",{className:"_5utk"},i.createElement(j,{colors:this.props.colors,scale:this.props.scale,values:[this.props.metric.organic,this.props.metric.paid]})),t=Object.keys(this.props.metric).filter(function(v){return !!this.props.metric[v];}.bind(this)),u=null;if(Object.keys(t).length===1){u=i.createElement("div",{className:"_5utl"},i.createElement("span",{className:"_5utm"},g.prettyInt(this.props.metric[t[0]])),i.createElement("span",{className:"_5utn"},o[t[0]]));}else u=i.createElement(h,{className:"_5utl"},i.createElement("div",null,i.createElement("span",{className:"_5utm"},g.prettyInt(this.props.metric.organic)),i.createElement("span",{className:"_5utn"},o.organic)),i.createElement("div",null,i.createElement("span",{className:"_5utm"},g.prettyInt(this.props.metric.paid)),i.createElement("span",{className:"_5utn"},o.paid)));return (i.createElement("div",{className:"_5uth"},r,s,u));}});e.exports=p;},null);
__d("HubbleStyle",["SpectrumStyle"],function(a,b,c,d,e,f,g){var h={LIKE_SOURCES_COLORS:g.BREAKDOWN_COLORS,PAGE_AND_TAB_VISITS_COLORS:g.BREAKDOWN_COLORS,TOTAL_PAGE_LIKES:g.LIGHT_BLUE,NET_COLORS:[g.PINK,g.LIGHT_BLUE,g.LIGHT_BLUE2,g.DARK_BLUE],OVERVIEW_PAGE_LIKES:[g.GRAY,g.DARK_BLUE],OVERVIEW_POST_REACH:[g.GRAY,g.ORANGE],OVERVIEW_LCS:{click:[g.GRAY,g.COBALT],comment:[g.GRAY,g.MAUVE2],like:[g.GRAY,g.LAVENDER],link:[g.GRAY,g.PURPLE2]},DESSUMARIZATION:[g.SALMON],POST_REACH_COLORS:[g.LIGHT_ORANGE,g.ORANGE],REACH_POSITIVE_ACTION_COLORS:[g.LAVENDER,g.MAUVE2,g.PURPLE2],REACH_NEGATIVE_ACTION_COLORS:[g.FB_BLUE,g.COBALT,g.DARK_RED,g.BROWN,g.PINK],REACH_BRUSH:g.ORANGE_BRUSH,OTHER_PAGE_ACTIVITY_COLORS:[g.FB_BLUE,g.VIOLET,g.BLUE3,g.PURPLE],LIKES_SPLIT_2:[g.LAVENDER,g.DEEP_PURPLE],REACH_SPLIT_2:[g.LIGHT_ORANGE,g.ORANGE],SHARES_SPLIT_2:[g.PURPLE2,g.PURPLE3],NEGATIVE_SPLIT_2:[g.SALMON,g.DARK_RED],COMMENTS_SPLIT_2:[g.MAUVE2,g.PURPLE4],LCS_SPLIT_2:[g.MAUVE,g.PURPLE5],POSTCLICKS_SPLIT_2:[g.COBALT,g.COBALT2],PAGE_LIKES_SPLIT_2:[g.LIGHT_BLUE,g.BLUE2],BEST_POST_TIME:[g.GRAY,g.DARK_BLUE],FANS_ONLINE:g.BLUE,FANS_ONLINE_HOVER:g.BLUE_HOVER,BUTTERFLY_HEIGHT:234,BUTTERFLY_WIDTH:710,WIFI_BUTTERFLY_WIDTH:690,FULL_CHART_HEIGHT:300,FULL_CHART_WIDTH:885,LEFT_COL_CHART_HEIGHT:300,LEFT_COL_SHORT_CHART_HEIGHT:200,LEFT_COL_CHART_WIDTH:735,MINICHART_HEIGHT:120,MINICHART_WIDTH:292,SPARKCHART_HEIGHT:46,SPARKCHART_WIDTH:150,TIMESLIDER_HEIGHT:80,TIMESLIDER_WIDTH:760};e.exports=h;},null);
__d("HubblePostMetricConfig",["HubbleStyle","fbt"],function(a,b,c,d,e,f,g,h){var i={types:{clicks:{colors:g.POSTCLICKS_SPLIT_2,label:"Post Clicks"},lcs:{colors:g.LCS_SPLIT_2,label:"Likes, Comments & Shares"},reach:{colors:g.REACH_SPLIT_2,label:"Reach"},like:{colors:g.LIKES_SPLIT_2,label:"Likes"},comment:{colors:g.COMMENTS_SPLIT_2,label:"Comments"},share:{colors:g.SHARES_SPLIT_2,label:"Shares"},page_likes:{colors:g.PAGE_LIKES_SPLIT_2,label:"Page Likes"},negative:{colors:g.NEGATIVE_SPLIT_2,label:"Post Hides, Hides of All Posts, Reports of Spam, Unlikes of Page"},engagementRate:{colors:g.LCS_SPLIT_2,label:"Engagement Rate",description:"The percentage of people who liked, commented, shared or clicked on your post after having seen it."}},splits:{none:{keys:[],label:"Reach",titles:["Reach"]},acquisition:{colors:g.REACH_SPLIT_2,keys:['organic','paid'],label:"Reach: Organic \/ Paid",titles:["Organic","Paid"]},audience:{keys:['fans','nonfans'],label:"Reach: Fans \/ Non-Fans",titles:["Fans","Non-Fans"]}},filters:{postclcs:{metrics:['clicks','lcs'],label:"Post Clicks \/ Likes, Comments & Shares"},lcsbytype:{metrics:['like','comment','share'],label:"Likes \/ Comments \/ Shares"},negative:{metrics:['negative'],label:"Post Hides, Hides of All Posts, Reports of Spam, Unlikes of Page"},engagement_rate:{metrics:['engagementRate'],label:"Engagement Rate"}},sort:{clicks:{label:"Post Clicks"},lcs:{label:"Likes, Comments & Shares"}},default_filter:'postclcs',default_split:'acquisition'};e.exports=i;},null);
__d("SpectrumNumberUtilities",["NumberFormatConfig","fbt","intlNumUtils"],function(a,b,c,d,e,f,g,h,i){function j(p){return i.getIntegerString(Math.round(p),g.numberDelimiter);}function k(p){p=Math.round(p*10)/10;return i.getFloatString(p,g.numberDelimiter,g.decimalSeparator);}function l(p){if(Math.abs(p)>=1e+09)return k(p/1e+09)+'b';if(Math.abs(p)>=1e+06)return k(p/1e+06)+'m';if(Math.abs(p)>=1000)return k(p/1000)+'K';return j(p);}var m={GBP:163,EUR:128,JPY:165,USD:36};function n(p,q){var r=m[p];if(r)p=String.fromCharCode(r);var s,t='';if(q==Math.round(q)){s=l(q);}else{var u=q.toFixed(2).split('.'),v=g.decimalSeparator;s=j(parseInt(u[0],10))+v+u[1];if(q<0){s=s.replace(/-/,'');t='-';}}return (h._("{negative sign(-) or blank}{currency symbol}{number}",[h.param("negative sign(-) or blank",t),h.param("currency symbol",p),h.param("number",s)]));}var o={CURRENCY_FORMATS:m,currencyFormatter:n,integerFormatter:j,floatFormatter:k,shortIntegerFormatter:l};e.exports=o;},null);
__d("SpectrumBaseNumberScale",["d3/scale/linear","SpectrumNumberUtilities","d3/core/range"],function(a,b,c,d,e,f,g,h,i){function j(n){if(n===0)return 0;return Math.pow(10,Math.round(Math.log(Math.abs(n))/Math.LN10)-1);}function k(n,o){var p=n.domain(),q=p[0],r=p[p.length-1],s=r-q;if(r<q){q=r;r=p[0];}var t=n.ceilToFixed(Math.pow(10,n.floorToFixed(Math.log(s/o)/Math.LN10))),u=(o*t)/s;if(u<=.15){t*=10;}else if(u<=.35){t*=5;}else if(u<=.75)t*=2;return {start:q,stop:r,span:s,step:t};}function l(n,o){n.shift=function(){return Math.pow(10,o);};n.tickFormat=function(){return h.shortIntegerFormatter;};n.tooltipFormat=function(){return h.integerFormatter;};n.nice=function(q){var r=n.domain(),s=r[0],t=r[r.length-1],u=Math.max(j(s),j(t),1/n.shift());if(u===0){s=0;t=1;}else if(s==t){t=Math.ceil(t/u)*u;s=t-u;if(t>=0){s=Math.max(s,0);t=Math.max(t,u);}}else if(s<t){s=Math.floor(s/u)*u;t=Math.ceil(t/u)*u;}else{s=Math.ceil(s/u)*u;t=Math.floor(t/u)*u;}return n.domain([s,t]);};n.ceilToFixed=function(q){return Math.ceil(q*n.shift())/n.shift();};n.floorToFixed=function(q){return Math.floor(q*n.shift())/n.shift();};n.getTickStep=function(q){var r=k(n,q);return r.step;};n.ticks=function(q){var r=k(n,q),s=r.start,t=r.stop,u=r.span,v=r.step,w=s>0?1:-1,x=t>0?1:-1,y=i(w*Math.ceil(Math.abs(s/v))*v,x*Math.floor(Math.abs(t/v))*v+v*.5,v);if(y[0]<s)y.shift();var z=y.map(n.tickFormat()).some(function(aa,ba,ca){return ba>0&&aa==ca[ba-1];});if(z)y=n.ticks(q-1);if(y.length<=2)if(q>2&&t>1){return [s,s+u/2,t];}else return [s,t];return y;};var p=n.copy;n.copy=function(){return l(p(),o);};return n;}var m=function(n){n=n===(void 0)?0:n;return l(g(),n);};e.exports=m;},null);
__d("SpectrumIntegerScale",["SpectrumBaseNumberScale"],function(a,b,c,d,e,f,g){var h=function(){return g(0);};e.exports=h;},null);
__d("HubbleVideoMetric.react",["HubblePostMetricConfig","HubbleVideoBackgroundBar.react","SpectrumIntegerScale","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j,n=m.PropTypes,o={total:"Total",unique:"Unique"},p=j.createClass({displayName:"HubbleVideoMetric",propTypes:{metrics:n.object.isRequired,subtitle:n.string,title:n.string.isRequired},render:function(){var q=this.props.metrics.total.organic+this.props.metrics.total.paid,r=this.props.metrics.unique.organic+this.props.metrics.unique.paid,s=new i().domain([0,Math.max(q,r)]);return (j.createElement("div",null,j.createElement("div",null,j.createElement("div",{className:"_5utf"},this.props.title),j.createElement("div",{className:"_5utg"},this.props.subtitle)),j.createElement("div",null,j.createElement(h,{colors:g.types.clicks.colors,label:o.total,metric:this.props.metrics.total,scale:s}),j.createElement(h,{colors:g.types.reach.colors,label:o.unique,metric:this.props.metrics.unique,scale:s}))));}});e.exports=p;},null);
__d("HubbleVideoMetricConfig",["SpectrumStyle","fbt"],function(a,b,c,d,e,f,g,h){e.exports={breakdowns:['unique_repeat','autoplayed_clickedtoplay','paid_organic'],breakdownToTypes:{unique_repeat:['unique','repeat'],paid_organic:['paid','organic'],autoplayed_clickedtoplay:['autoplayed','clickedToPlay']},metricTypes:['unique','repeat','paid','organic','autoplayed','clickedToPlay'],viewTypes:['views','starts','completedViews'],viewTypeDescriptions:{starts:"Number of times your video started to play. This includes videos clicked-to-play and auto-played.",views:"Number of times your video was viewed for 3 seconds or more.",completedViews:"Number of times your video was viewed to 30 seconds. If the video is less than 30 seconds, then this number refers to the times people viewed 97 percent of your video."},typeColors:{unique:g.FB_BLUE,repeat:g.LIGHT_BLUE2,paid:g.ORANGE,organic:g.LIGHT_ORANGE,autoplayed:g.TROUT,clickedToPlay:'#B2B2B2'},defaultBreakdown:'unique_repeat'};},null);
__d("HubbleVideoMetricV1.react",["HubbleVideoMetricConfig","HubbleVideoMetricLabels","Image.react","InsightsNumUtils","LeftRight.react","React","cx","fbt","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=l.createClass({displayName:"HubbleVideoMetricBar",propTypes:{scale:l.PropTypes.func.isRequired,total:l.PropTypes.number.isRequired,type:l.PropTypes.oneOf(g.metricTypes).isRequired,value:l.PropTypes.number.isRequired},render:function(){var r=this.props.scale,s=this.props.value,t=this.props.type,u=g.typeColors[t],v=0;if(s!==0&&this.props.total!==0)v=Math.round(s*100/this.props.total);var w={width:100*r(s)+'%',backgroundColor:u};return (l.createElement(k,null,l.createElement("div",{className:"_5nbn"},l.createElement("div",{className:"_5nbo",style:w})),l.createElement("div",{className:"_1kay"},l.createElement("span",{className:"_5nbp"},j.prettyInt(s)),l.createElement("span",{className:"_5nbq"},"(",n._("{number}\u0025",[n.param("number",v)]),")"))));}}),q=l.createClass({displayName:"HubbleVideoMetricV1",propTypes:{breakdown:l.PropTypes.oneOf(g.breakdowns).isRequired,metrics:l.PropTypes.object.isRequired,scale:l.PropTypes.func.isRequired,viewType:l.PropTypes.oneOf(g.viewTypes).isRequired},render:function(){var r=g.breakdownToTypes[this.props.breakdown],s=r[0],t=r[1],u=this.props.metrics[this.props.viewType][s];if(!u)u=0;var v=this.props.metrics[this.props.viewType][t];if(!v)v=0;var w=u+v,x=h[this.props.viewType],y=g.viewTypeDescriptions[this.props.viewType];return (l.createElement("div",{className:"_5nbr"},l.createElement(k,null,l.createElement("div",{className:"_5nbs"},x,l.createElement(i,{"aria-label":y,className:"_4lis","data-hover":"tooltip",src:o({name:'info-solid',shade:'dark',size:'small'})})),l.createElement("div",{className:"_5nbt"},j.prettyInt(w))),l.createElement(p,{scale:this.props.scale,total:w,type:s,value:u}),l.createElement(p,{scale:this.props.scale,total:w,type:t,value:v})));}});e.exports=q;},null);
__d("HubbleVideoMetricSelector.react",["HubbleVideoMetricV1.react","HubbleVideoMetricConfig","HubbleVideoMetricLabels","InsightsLegend.react","SpectrumIntegerScale","React","XUIGrayText.react","XUISelector.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=n.Option,r=l.createClass({displayName:"HubbleVideoMetricSelectorLegend",render:function(){return (l.createElement(j,{className:"_159i"},l.createElement("div",{className:"_5f_- _1u1r",style:{background:this.props.color}}),l.createElement("div",{className:"_159j"},this.props.label)));}}),s=l.createClass({displayName:"HubbleVideoMetricSelector",propTypes:{metrics:l.PropTypes.object.isRequired,activeBreakdown:l.PropTypes.oneOf(h.breakdowns),onBreakdownChange:l.PropTypes.func},getInitialState:function(){return {activeBreakdown:h.defaultBreakdown};},_shouldShowBreakdown:function(t){if(t=='autoplayed_clickedtoplay')return this.props.metrics.views.autoplayed>0;return true;},render:function(){var t=[],u=0;h.breakdowns.forEach(function(x){if(!this._shouldShowBreakdown(x))return;var y=h.breakdownToTypes[x],z=this.props.metrics;y.forEach(function(aa){h.viewTypes.forEach(function(ba){if(!z[ba])return;var ca=z[ba][aa];u=Math.max(u,ca);});});t.push(l.createElement(q,{value:x,key:x},p._("{first_metric}{preposition_between_metric}{second_metric}",[p.param("first_metric",l.createElement(r,{color:h.typeColors[y[0]],label:i[y[0]]})),p.param("preposition_between_metric",l.createElement(m,{className:"_yri",weight:"normal"},"vs.")),p.param("second_metric",l.createElement(r,{color:h.typeColors[y[1]],label:i[y[1]]}))])));}.bind(this));var v=new k().domain([0,u]),w=this.props.playsEnabled?(l.createElement(g,{metrics:this.props.metrics,breakdown:this.state.activeBreakdown,viewType:"starts",scale:v})):null;return (l.createElement("div",{className:"_1u1s"},l.createElement(n,{size:"xlarge",maxwidth:270,defaultValue:h.defaultBreakdown,onChange:this._onBreakdownChange},t),w,l.createElement(g,{metrics:this.props.metrics,breakdown:this.state.activeBreakdown,viewType:"views",scale:v}),l.createElement(g,{metrics:this.props.metrics,breakdown:this.state.activeBreakdown,viewType:"completedViews",scale:v})));},_onBreakdownChange:function(t){this.setState({activeBreakdown:t.value});if(this.props.onBreakdownChange)this.props.onBreakdownChange(t.value);}});e.exports=s;},null);
__d("HubblePrimaryMetric.react",["InsightsNumUtils","React","cx","joinClasses","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h,m=l.PropTypes,n=k({flat:null,stacked:null}),o=h.createClass({displayName:"HubblePrimaryMetric",getDefaultProps:function(){return {layout:n.flat};},propTypes:{label:m.string.isRequired,layout:m.oneOf(Object.keys(n)),number:m.number.isRequired},render:function(){var p=this.props.className;if(this.props.layout==n.flat)p=j("_5j8e",this.props.className);return (h.createElement("div",{className:p},h.createElement("div",{className:"_55k2"},g.prettyInt(this.props.number)),h.createElement("div",{className:"_55k3"},this.props.label)));}});o.LAYOUT=n;e.exports=o;},null);
__d("HubbleSecondaryMetric.react",["InsightsNumUtils","React","cx","joinClasses","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){var l=k({flat:null,stacked:null}),m=k({none:null,ruled:null}),n=h,o=n.PropTypes,p=h.createClass({displayName:"HubbleSecondaryMetric",getLayoutClass:function(){switch(this.props.layout){case 'flat':return "_5fbt";default:return '';}},getDecorationClass:function(){switch(this.props.decoration){case 'ruled':return "_5fbu";default:return '';}},propTypes:{decoration:o.oneOf(Object.keys(m)),layout:o.oneOf(Object.keys(l)),label:o.oneOfType([o.string,o.element]).isRequired,number:o.number.isRequired,style:o.object},render:function(){var q=j("_55vy",this.getDecorationClass(),this.getLayoutClass(),this.props.className),r=j("_55j-","_50f7"),s=j("_55j_","_50f8");return (h.createElement("div",{className:q,style:this.props.style},h.createElement("div",{className:r},g.prettyInt(this.props.number)),' ',h.createElement("div",{className:s},this.props.label)));}});p.LAYOUT=l;p.DECORATION=m;e.exports=p;},null);
__d("HubbleSecondaryMetricGroup.react",["React","ReactChildren","cloneWithProps","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:"HubbleSecondaryMetricGroup",render:function(){var m=this.props,n=m.children,o=(1/h.count(n)*100).toFixed(1)+'%';n=h.map(n,function(q){if(q)return i(q,{className:"_5fbx",style:{width:o}});return q;});var p=k("_5fby",this.props.className);return (g.createElement("div",{className:p},g.createElement("div",{className:"_5fbz"},n)));}});e.exports=l;},null);
__d("XPageInsightsVideoViewController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/x\/pages\/insights\/view_video\/",{identifier:{type:"String",required:true},video_container_name:{type:"String",required:true},height:{type:"Int",defaultValue:300},width:{type:"Int",defaultValue:612}});},null);
__d("HubbleVideoView.react",["Arbiter","AsyncRequest","React","SubscriptionsHandler","VideoPlayerApiFactory","XPageInsightsVideoViewController"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=i,n=m.PropTypes,o=0,p=i.createClass({displayName:"HubbleVideoView",propTypes:{identifier:n.string.isRequired,onVideoLoaded:n.func,height:n.number,width:n.number},getInitialState:function(){return {videoLoaded:false};},componentWillMount:function(){this._id='videoContainer_'+(++o);},componentDidMount:function(){var q=l.getURIBuilder().setString('identifier',this.props.identifier).setString('identifier',this.props.identifier).setString('video_container_name',this._id);if(this.props.height)q.setInt('height',this.props.height);if(this.props.width)q.setInt('width',this.props.width);var r=q.getURI();this.request=new h().setRelativeTo(this).setHandler(function(s){var t=(s.payload||{}).flashID;if(!t)return;var u=new j();u.addSubscriptions(g.subscribe('flash/ready',function(v,w){if(t===w.divID){u.release();this.props.onVideoLoaded(k.create(this.getDOMNode()));}}.bind(this)));}.bind(this)).setMethod('GET').setReadOnly(true).setURI(r).send();},render:function(){return (i.createElement("div",{id:this._id}));}});p.invokeVideoLoaded=function(q,r){q.props.onVideoLoaded(r);};e.exports=p;},null);
__d("getOwnObjectValues",[],function(a,b,c,d,e,f){function g(h){return Object.keys(h).map(function(i){return h[i];});}e.exports=g;},null);
__d("d3/core/requote",[],function(a,b,c,d,e,f){var g=function(i){return i.replace(h,"\\$&");},h=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;e.exports=g;},null);
__d("d3/time/time",[],function(a,b,c,d,e,f){var g={},h=Date,i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function j(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0]);}j.prototype={getDate:function(){return this._.getUTCDate();},getDay:function(){return this._.getUTCDay();},getFullYear:function(){return this._.getUTCFullYear();},getHours:function(){return this._.getUTCHours();},getMilliseconds:function(){return this._.getUTCMilliseconds();},getMinutes:function(){return this._.getUTCMinutes();},getMonth:function(){return this._.getUTCMonth();},getSeconds:function(){return this._.getUTCSeconds();},getTime:function(){return this._.getTime();},getTimezoneOffset:function(){return 0;},valueOf:function(){return this._.valueOf();},setDate:function(){k.setUTCDate.apply(this._,arguments);},setDay:function(){k.setUTCDay.apply(this._,arguments);},setFullYear:function(){k.setUTCFullYear.apply(this._,arguments);},setHours:function(){k.setUTCHours.apply(this._,arguments);},setMilliseconds:function(){k.setUTCMilliseconds.apply(this._,arguments);},setMinutes:function(){k.setUTCMinutes.apply(this._,arguments);},setMonth:function(){k.setUTCMonth.apply(this._,arguments);},setSeconds:function(){k.setUTCSeconds.apply(this._,arguments);},setTime:function(){k.setTime.apply(this._,arguments);}};var k=Date.prototype;g._time=h;g._daySymbols=i;g._utc=j;e.exports=g;},null);
__d("d3/time/interval",["d3/time/time"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=g._utc;function i(k,l,m){function n(t){var u=k(t),v=p(u,1);return t-u<v-t?u:v;}function o(t){l(t=k(new g._time(t-1)),1);return t;}function p(t,u){l(t=new g._time(+t),u);return t;}function q(t,u,v){var w=o(t),x=[];if(v>1){while(w<u){if(!(m(w)%v))x.push(new Date(+w));l(w,1);}}else while(w<u)x.push(new Date(+w)),l(w,1);return x;}function r(t,u,v){try{g._time=h;var w=new h();w._=t;return q(w,u,v);}finally{g._time=Date;}}k.floor=k;k.round=n;k.ceil=o;k.offset=p;k.range=q;var s=k.utc=j(k);s.floor=s;s.round=j(n);s.ceil=j(o);s.offset=j(p);s.range=r;return k;}function j(k){return function(l,m){try{g._time=h;var n=new h();n._=l;return k(n,m)._;}finally{g._time=Date;}};}f._interval=i;},null);
__d("d3/time/year",["d3/time/interval","d3/time/day"],function(a,b,c,d,e,f){var g=b("d3\/time\/interval")._interval,h=g(function(i){i=b("d3\/time\/day")(i);i.setMonth(0,1);return i;},function(i,j){i.setFullYear(i.getFullYear()+j);},function(i){return i.getFullYear();});h.s=h.range;h.s.utc=h.utc.range;e.exports=h;},null);
__d("d3/time/day",["d3/time/time","d3/time/interval","d3/time/year"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){var k=new g._time(1970,0);k.setFullYear(j.getFullYear(),j.getMonth(),j.getDate());return k;},function(j,k){j.setDate(j.getDate()+k);},function(j){return j.getDate()-1;});i.s=i.range;i.s.utc=i.utc.range;i.ofYear=function(j){var k=b("d3\/time\/year")(j);return Math.floor((j-k-(j.getTimezoneOffset()-k.getTimezoneOffset())*60000)/86400000);};e.exports=i;},null);
__d("d3/time/format-en_US",[],function(a,b,c,d,e,f){var g="%a %b %e %X %Y",h="%m/%d/%Y",i="%H:%M:%S",j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];f._formatDateTime=g;f._formatDate=h;f._formatTime=i;f._days=j;f._dayAbbreviations=k;f._months=l;f._monthAbbreviations=m;},null);
__d("d3/time/format",["d3/time/time","d3/core/map","d3/time/format-en_US","d3/core/requote","d3/time/day"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=b("d3\/core\/map"),i=b("d3\/time\/format-en_US"),j=h._Map,k=i._days,l=i._dayAbbreviations,m=i._months,n=i._monthAbbreviations,o=i._formatDateTime,p=i._formatDate,q=i._formatTime,r=b("d3\/core\/requote"),s=b("d3\/time\/day"),t=function(bb){var cb=bb.length;function db(eb){var fb=[],gb=-1,hb=0,ib,jb,kb;while(++gb<cb)if(bb.charCodeAt(gb)===37){fb.push(bb.substring(hb,gb));if((jb=ea[ib=bb.charAt(++gb)])!=null)ib=bb.charAt(++gb);if(kb=fa[ib])ib=kb(eb,jb==null?(ib==="e"?" ":"0"):jb);fb.push(ib);hb=gb+1;}fb.push(bb.substring(hb,gb));return fb.join("");}db.parse=function(eb){var fb={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},gb=u(fb,bb,eb,0);if(gb!=eb.length)return null;if("p" in fb)fb.H=fb.H%12+fb.p*12;var hb=new g._time();hb.setFullYear(fb.y,fb.m,fb.d);hb.setHours(fb.H,fb.M,fb.S,fb.L);return hb;};db.toString=function(){return bb;};return db;};function u(bb,cb,db,eb){var fb,gb,hb=0,ib=cb.length,jb=db.length;while(hb<ib){if(eb>=jb)return -1;fb=cb.charCodeAt(hb++);if(fb===37){gb=ga[cb.charAt(hb++)];if(!gb||((eb=gb(bb,db,eb))<0))return -1;}else if(fb!=db.charCodeAt(eb++))return -1;}return eb;}function v(bb){return new RegExp("^(?:"+bb.map(r).join("|")+")","i");}function w(bb){var cb=new j(),db=-1,eb=bb.length;while(++db<eb)cb.set(bb[db].toLowerCase(),db);return cb;}function x(bb,cb,db){bb+="";var eb=bb.length;return eb<db?new Array(db-eb+1).join(cb)+bb:bb;}var y=v(k),z=v(l),aa=v(m),ba=w(m),ca=v(n),da=w(n),ea={"-":"",_:" ","0":"0"},fa={a:function(bb){return l[bb.getDay()];},A:function(bb){return k[bb.getDay()];},b:function(bb){return n[bb.getMonth()];},B:function(bb){return m[bb.getMonth()];},c:t(o),d:function(bb,cb){return x(bb.getDate(),cb,2);},e:function(bb,cb){return x(bb.getDate(),cb,2);},H:function(bb,cb){return x(bb.getHours(),cb,2);},I:function(bb,cb){return x(bb.getHours()%12||12,cb,2);},j:function(bb,cb){return x(1+s.ofYear(bb),cb,3);},L:function(bb,cb){return x(bb.getMilliseconds(),cb,3);},m:function(bb,cb){return x(bb.getMonth()+1,cb,2);},M:function(bb,cb){return x(bb.getMinutes(),cb,2);},p:function(bb){return bb.getHours()>=12?"PM":"AM";},S:function(bb,cb){return x(bb.getSeconds(),cb,2);},U:function(bb,cb){return x(g.sundayOfYear(bb),cb,2);},w:function(bb){return bb.getDay();},W:function(bb,cb){return x(g.mondayOfYear(bb),cb,2);},x:t(p),X:t(q),y:function(bb,cb){return x(bb.getFullYear()%100,cb,2);},Y:function(bb,cb){return x(bb.getFullYear()%10000,cb,4);},Z:ab,"%":function(){return "%";}},ga={a:ha,A:ia,b:ja,B:ka,c:la,d:sa,e:sa,H:ta,I:ta,L:wa,m:ra,M:ua,p:ya,S:va,x:ma,X:na,y:pa,Y:oa};function ha(bb,cb,db){z.lastIndex=0;var eb=z.exec(cb.substring(db));return eb?db+=eb[0].length:-1;}function ia(bb,cb,db){y.lastIndex=0;var eb=y.exec(cb.substring(db));return eb?db+=eb[0].length:-1;}function ja(bb,cb,db){ca.lastIndex=0;var eb=ca.exec(cb.substring(db));return eb?(bb.m=da.get(eb[0].toLowerCase()),db+=eb[0].length):-1;}function ka(bb,cb,db){aa.lastIndex=0;var eb=aa.exec(cb.substring(db));return eb?(bb.m=ba.get(eb[0].toLowerCase()),db+=eb[0].length):-1;}function la(bb,cb,db){return u(bb,fa.c.toString(),cb,db);}function ma(bb,cb,db){return u(bb,fa.x.toString(),cb,db);}function na(bb,cb,db){return u(bb,fa.X.toString(),cb,db);}function oa(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+4));return eb?(bb.y=+eb[0],db+=eb[0].length):-1;}function pa(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+2));return eb?(bb.y=qa(+eb[0]),db+=eb[0].length):-1;}function qa(bb){return bb+(bb>68?1900:2000);}function ra(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+2));return eb?(bb.m=eb[0]-1,db+=eb[0].length):-1;}function sa(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+2));return eb?(bb.d=+eb[0],db+=eb[0].length):-1;}function ta(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+2));return eb?(bb.H=+eb[0],db+=eb[0].length):-1;}function ua(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+2));return eb?(bb.M=+eb[0],db+=eb[0].length):-1;}function va(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+2));return eb?(bb.S=+eb[0],db+=eb[0].length):-1;}function wa(bb,cb,db){xa.lastIndex=0;var eb=xa.exec(cb.substring(db,db+3));return eb?(bb.L=+eb[0],db+=eb[0].length):-1;}var xa=/^\s*\d+/;function ya(bb,cb,db){var eb=za.get(cb.substring(db,db+=2).toLowerCase());return eb==null?-1:(bb.p=eb,db);}var za=h({am:0,pm:1});function ab(bb){var cb=bb.getTimezoneOffset(),db=cb>0?"-":"+",eb=~~(Math.abs(cb)/60),fb=Math.abs(cb)%60;return db+x(eb,"0",2)+x(fb,"0",2);}e.exports=t;},null);
__d("d3/time/hour",["d3/time/time","d3/time/interval"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){var k=j.getTimezoneOffset()/60;return new g._time((Math.floor(j/3600000-k)+k)*3600000);},function(j,k){j.setTime(j.getTime()+Math.floor(k)*3600000);},function(j){return j.getHours();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("d3/time/minute",["d3/time/time","d3/time/interval"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){return new g._time(Math.floor(j/60000)*60000);},function(j,k){j.setTime(j.getTime()+Math.floor(k)*60000);},function(j){return j.getMinutes();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("d3/time/month",["d3/time/interval","d3/time/day"],function(a,b,c,d,e,f){var g=b("d3\/time\/interval")._interval,h=b("d3\/time\/day"),i=g(function(j){j=h(j);j.setDate(1);return j;},function(j,k){j.setMonth(j.getMonth()+k);},function(j){return j.getMonth();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("d3/time/second",["d3/time/time","d3/time/interval"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){return new g._time(Math.floor(j/1000)*1000);},function(j,k){j.setTime(j.getTime()+Math.floor(k)*1000);},function(j){return j.getSeconds();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("HubblePostUtils",["getOwnObjectValues","mapObject","sumOfArray"],function(a,b,c,d,e,f,g,h,i){var j={_metrics:['post_engaged_users','post_consumptions_by_type','post_impressions_unique','post_stories_by_action_type','post_negative_feedback_by_type','post_impressions_paid_unique','post_impressions_fan_unique','post_video_views_organic','post_video_views_paid'],parseInsights:function(k,l){var m=l.post_consumptions_by_type||{},n=l.post_stories_by_action_type||{},o=l.post_negative_feedback_by_type||{},p=l.post_impressions_unique||0,q={like:n.like||0,comment:n.comment||0,share:n.share||0},r=i(g(q)),s={};s.link=m['link clicks']||0;if(k==='video'||k==='premiumVideo'){s.video_play=m['video play']||0;}else s.photo_view=m['photo view']||0;s.other=(m['other clicks']||0)-r;if(s.other<0)s.other=0;var t=i(g(s)),u={hide_clicks:o.hide_clicks||0,hide_all_clicks:o.hide_all_clicks||0,report_spam_clicks:o.report_spam_clicks||0,unlike_page_clicks:o.unlike_page_clicks||0},v=i(g(u)),w=l.post_impressions_paid_unique||0,x=l.post_impressions_fan_unique||0,y={paid:w,organic:p-w,fans:x,nonfans:p-x},z=l.post_engaged_users||0,aa=p>0?z/p:0,ba=l.post_video_views_organic+l.post_video_views_paid;return {clicks:t,clicksByType:s,engagedUsers:z,lcs:r,lcsByType:q,negative:v,negativeFeedbackByType:u,reach:p,reachByType:y,engagementRate:aa,videoViews:ba};},_formatPostInsightsResponse:function(k,l){return h(l,function(m){var n={};m.data.forEach(function(o){n[o.name]=o.values[0].value;});k.forEach(function(o){if(!n.hasOwnProperty(o))n[o]=null;});return n;});}};e.exports=j;},null);
__d("SanityCheck",["ErrorUtils","SanityCheckNames","SanityCheckStatuses","ex"],function(a,b,c,d,e,f,g,h,i,j){var k=Object.keys(h).map(function(m){return h[m];});function l(m,n){"use strict";this.$SanityCheck0=i.VALID;this.$SanityCheck1=m;this.$SanityCheck2=n;if(k.indexOf(this.$SanityCheck2)===-1){g.reportError(new Error(j('Invalid SanityCheck name: %s.',this.$SanityCheck2)));this.$SanityCheck0=i.INVALID_CONFIG;}}l.prototype.check=function(m){"use strict";if(this.$SanityCheck0!==i.VALID)return {name:this.$SanityCheck2,status:this.$SanityCheck0};var n;try{n=this.$SanityCheck1.apply(null,m);}catch(o){g.reportError(o);return {args:m,status:i.CHECKTIME_FAILURE};}return {args:m,name:this.getName(),passed:n,status:this.$SanityCheck0};};l.prototype.getName=function(){"use strict";return this.$SanityCheck2;};e.exports=l;},null);
__d("SanityCheckChecker",[],function(a,b,c,d,e,f){var g={check:function(h,i){return h.check(i);},checkMulti:function(h){return h.map(function(i){return g.check(i.sanityCheck,i.args);});}};e.exports=g;},null);
__d("SanityCheckAdapter",["BanzaiLogger","BanzaiODS","SanityCheckChecker","SanityCheckStatuses"],function(a,b,c,d,e,f,g,h,i,j){var k={};function l(n,o,p,q){p=p||{};var r=[n.getName(),JSON.stringify(o),JSON.stringify(p)].join(':');if(k.hasOwnProperty(r))return;k[r]=true;if(!q.passed)g.log('SanityCheckLoggerConfig',Object.assign(p,{name:n.getName()}));h.bumpFraction('sanity_check.pass_ratio','sanity_check.'+n.getName(),q.passed?1:0,1);}var m={check:function(n,o,p){var q=i.check(n,o);if(q.status===j.VALID)l(n,o,p,q);return q.passed;}};e.exports=m;},null);
__d("PIAPIResponseSanityCheck",["SanityCheck","SanityCheckNames"],function(a,b,c,d,e,f,g,h){e.exports=new g(function(i,j){return i.metric&&j.data.length>0;},h.PI_API_RESPONSE);},null);
__d("PIReachGtEngmtSanityCheck",["PISanityCheckConfig","SanityCheck","SanityCheckNames"],function(a,b,c,d,e,f,g,h,i){e.exports=new h(function(j,k,l){if(l>g.postCreatedTimeMaxValueInSeconds)return true;return j>=k;},i.PI_REACH_GT_ENGMT);},null);
__d("SpectrumBaseStyleSheet-upstream",["SpectrumStyle","cx"],function(a,b,c,d,e,f,g,h){var i={areas:{colors:[g.BLUE],hover:g.BRIGHT_BLUE,hoverFill:"#FFF",hoveBarStrokeWidth:2,hoverBubbleStrokeWidth:3,partialOverlayClass:"_190w",solidOpacity:.6,dashOpacity:.3},brush:{color:g.BLUE_BRUSH,handleBars:false,fadeColor:null},ring:{backgroundColor:'#F6F7FA',highlightColor:'#467AB0',labelFont:{fontFamily:'Helvetica',fontSize:12},metricFont:{fontFamily:'Helvetica',fontSize:22,fontWeight:'bold'},textColor:'#677C9F',radius:56,width:12},columns:{borderRadius:3,colors:[g.DARK_BLUE],fadeOutOpacity:1,fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_SMALL,fontWeight:'bold',invalidColor:'#F6F7F8',innerMargin:.1,innerLabelColor:'#ffffff',labelColors:[g.DARK_BLUE],labelMargin:6,labelInnerMargin:12,labelOuterMargin:15,outerLabelColor:g.BOLD_BLUE,sideBySideMargin:1},confidenceInterval:{bottomColor:'#AFBDD8',opacity:.2,topColor:'#5CC074'},guide:{color:g.BRIGHT_BLUE,width:1},gutter:{bottom:0,left:0,middle:0,right:0,top:0},lines:{colors:[g.DARK_BLUE],fadeOutColor:'rgba(0,0,0,0.1)',highlightWidths:[4],markerColor:'#ffffff',markers:true,partialStrokeDashes:[4],widths:[2],dotRadius:2,dotStrokeWidth:2,width:2,solidOpacity:.8,dashOpacity:.8},markers:{lineColor:'rgba(0,0,0,0.15)',lineWidth:1,labelColor:g.GRAY,highlightColor:g.BRIGHT_BLUE,highlightWidth:3,dotColor:'#ffffff',fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_SMALL},plotBands:{color:g.LIGHT_ORANGE,label:{fontColor:g.GRAY,fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_SMALL,padding:10},opacity:.2},rangeBands:{outerPadding:0,padding:0},xAxis:{axisLineColor:'#cccccc',fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_TINY,labelColor:g.GRAY,lineColor:'#cccccc'},yAxis:{baseLineColor:null,distanceBetweenTicks:45,fontFamily:g.FONT_FAMILY,fontSize:g.FONT_SIZE_TINY,labelColor:g.GRAY,lineColor:'rgba(0,0,0,0.05)',showRightTicks:false}};e.exports=i;},null);
__d("SpectrumBrush",["keyMirror","fbt","SpectrumDataVisualization","SpectrumUtilities","React","ReactART","EventListener","d3/time/day"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=l.Path,p=l.Group,q=l.Shape,r=o().move(0,0).line(1,0).line(0,1).line(-1,0).close(),s=o().moveTo(-3.5,-7.5).arc(2,-2).line(4,0).arc(2,2).line(0,16).arc(-2,2).line(-4,0).arc(-2,-2).close(),t=o().moveTo(-.5,-5.5).line(0,13).moveTo(1.5,-5.5).line(0,13),u=g({NORMAL:null,HOVER:null,PRESSED:null,DRAGGING:null,MOVING:null}),v=10,w=k.createClass({displayName:"SpectrumBrush",propTypes:{onBrush:k.PropTypes.func,onSelection:k.PropTypes.func},timeoutID:null,boundaries:[],distance:0,componentWillMount:function(){this.props.eventChannel[this.props.eventIndex]=this;var x=window.addEventListener?window:document.body;this.releaseHandler=m.listen(x,'mouseup',this.release);this.boundaries=j.getOuterRange(this.props.scaleX);},componentWillUnmount:function(){delete this.props.eventChannel[this.props.eventIndex];},getInitialState:function(){return {anchor:0,focus:0,mode:u.NORMAL,move:0};},getHitType:function(x){var y=this.getLeftPosition(),z=this.getRightPosition();if(Math.abs(x-y)<v)return 'dragLeft';if(Math.abs(x-z)<v)return 'dragRight';if(x>y&&x<z)return 'move';return 'outside';},getSelection:function(){if(this.props.selection!==(void 0)){var x=this.props.selection[1];if(this.props.scaleX.interval&&this.props.scaleX.interval())x=this.props.scaleX.interval().offset(x,-1);return [this.props.selection[0],x];}if(this.props.focus)return this.props.focus.rangeX;return null;},hasSelection:function(){return this.isDraggingOrMoving()||!!this.getSelection();},isDraggingOrMoving:function(){return this.state.mode==u.DRAGGING||this.state.mode==u.MOVING;},shouldUseSelectionFromProps:function(){return !this.isDraggingOrMoving()&&this.getSelection();},getLeftPosition:function(){if(this.shouldUseSelectionFromProps())return this.props.scaleX(this.getSelection()[0]);return Math.min(this.state.focus,this.state.anchor);},getRightPosition:function(){if(this.shouldUseSelectionFromProps())return this.props.scaleX(this.getSelection()[1]);return Math.max(this.state.focus,this.state.anchor);},dragLeave:function(){if(this.distance!==0)this.invokeChangeEvent();if(!this.timeoutID){this.timeoutID=setTimeout(this.dragLeave,1000/Math.abs(this.distance));}else{this.cancelDragLeave();this.timeoutID=setTimeout(this.dragLeave,1000/Math.abs(this.distance));}},cancelDragLeave:function(){if(this.timeoutID!==null){clearTimeout(this.timeoutID);this.timeoutID=null;}},hover:function(x){var y=this.state.mode,z=this.props.scaleX;if(y==u.NORMAL||y==u.HOVER){var aa=z(z.invert(x));this.setState({anchor:aa,focus:aa,mode:u.HOVER});return;}if(x<this.boundaries[0]){this.distance=x-this.boundaries[0];}else if(x>this.boundaries[1]){this.distance=x-this.boundaries[1];}else this.distance=0;if(this.distance!==0){var ba=~~(3000/Math.abs(this.distance));if(this.timeoutID===null){this.timeoutID=setTimeout(this.dragLeave,ba);}else{this.cancelDragLeave();this.timeoutID=setTimeout(this.dragLeave,ba);}}else this.cancelDragLeave();if(y==u.MOVING){var ca=this.state.move,da=this.state.focus,ea=this.state.anchor,fa=ea-da;da=z(z.invert(x-ca));ea=z(z.invert(da+fa));da=ea-fa;this.setState({anchor:ea,focus:da},this.invokeChangeEvent);}else{var ga=z(z.invert(x));if(this.props.minDays){var ha=Math.min(ga,this.state.anchor),ia=Math.max(ga,this.state.anchor);ha=z.invert(ha);ia=z.invert(ia);if(n.range(ha,ia).length+1<this.props.minDays)return;}this.setState({focus:ga,mode:u.DRAGGING},this.invokeChangeEvent);}},unhover:function(){if(this.state.mode==u.HOVER)this.setState({mode:u.NORMAL});},press:function(x,y){if(this.hasSelection()){if(y=='move'){this.setState({anchor:this.getLeftPosition(),focus:this.getRightPosition(),mode:u.MOVING,move:x-this.getRightPosition()});return;}if(y=='dragLeft'){this.setState({anchor:this.getRightPosition(),focus:this.getLeftPosition(),mode:u.DRAGGING});return;}if(y=='dragRight'){this.setState({anchor:this.getLeftPosition(),focus:this.getRightPosition(),mode:u.DRAGGING});return;}}var z=this.props.scaleX,aa=z(z.invert(x));this.setState({anchor:aa,focus:aa,mode:u.PRESSED});},release:function(){this.cancelDragLeave();if(this.state.mode==u.PRESSED){var x=this.state.focus,y=this.getLeftPosition(),z=this.getRightPosition(),aa=z-y,ba=this.props.scaleX;y=ba(ba.invert(x-aa/2));z=ba(ba.invert(y+aa));y=z-aa;this.setState({anchor:z,focus:y,mode:u.NORMAL});this.invokeChangeEvent();return;}if(!this.isDraggingOrMoving())return;this.setState({mode:u.NORMAL});this.invokeChangeEvent();this.distance=0;},getHighlightRect:function(x,y){var z=this.props.scaleX,aa=z.rangeBand?z.rangeBand():0,ba=j.getOuterRange(this.props.scaleY);return {left:x,top:ba[1],right:y+aa,bottom:ba[0]};},invokeChangeEvent:function(){var x=!this.isDraggingOrMoving()&&this.props.onSelection?this.props.onSelection:this.props.onBrush,y=Math.min(this.state.focus,this.state.anchor),z=Math.max(this.state.focus,this.state.anchor);if(this.distance>0){z+=this.distance;}else if(this.distance<0)y+=this.distance;var aa=this.props.scaleX.invert(y),ba=this.props.scaleX.invert(z);if(this.props.onRequestFocus)this.props.onRequestFocus({fixed:!this.isDraggingOrMoving(),title:"Selecting",rangeX:[aa,ba],rect:this.getHighlightRect(y,z)});var ca=this.props.scaleX.interval;if(x)x([aa,ca&&ca()?ca().offset(ba,1):ba]);},getCursor:function(x){if(!this.isDraggingOrMoving()&&this.hasSelection()){return (x=='dragLeft'||x=='dragRight')?'col-resize':x=='move'?'move':'pointer';}else{var y=this.state.mode==u.DRAGGING,z=this.state.mode==u.MOVING;return y?'col-resize':z?'move':'pointer';}},handleEvent:function(x){var y=this.getHitType(x.x);x.cursor=this.getCursor(y);var z=this.props.onSelection||this.props.onBrush;switch(x.type){case 'mousemove':this.hover(x.x);break;case 'mouseleave':this.unhover();break;case 'mousedown':if(z){this.press(x.x,y);x.stopPropagation();}break;case 'mouseup':if(z){x.stopPropagation();this.release();}break;}if(this.hasSelection())x.stopPropagation();},render:function(){var x=this.state.mode;if(x==u.NORMAL&&!this.hasSelection())return k.createElement(p,null);var y=i.getScaleX(this.props),z=y.rangeBand?y.rangeBand():0,aa=j.getOuterRange(y);if(this.getLeftPosition()<aa[0]||this.getRightPosition()+z>aa[1])return k.createElement(p,null);var ba=this.props.theme.brush,ca=this.getHighlightRect(this.getLeftPosition(),this.getRightPosition());function da(ga){var ha=(ca.top+ca.bottom)*.5,ia=o().move(.5,0).line(0,ca.bottom-ca.top);return (k.createElement(p,{x:Math.round(ga)},k.createElement(q,{d:ia,stroke:"#ccc",y:ca.top}),k.createElement(q,{d:s,fill:"#fff",stroke:"#ccc",y:Math.round(ha)}),k.createElement(q,{d:t,stroke:"#6382ad",y:Math.round(ha)})));}function ea(ga,ha){return (k.createElement(q,{d:r,fill:ba.fadeColor,scaleX:ha-ga,scaleY:ca.bottom-ca.top,x:ga,y:ca.top}));}var fa=k.createElement(q,{d:r,fill:ba.color,scaleX:ca.right-ca.left,scaleY:ca.bottom-ca.top,x:ca.left,y:ca.top});return (k.createElement(p,null,fa,ea(this.boundaries[0],ca.left),ea(ca.right,this.boundaries[1]),ba.handleBars&&da(ca.left),ba.handleBars&&da(ca.right)));}});e.exports=w;},null);
__d("SpectrumContextMixin",["InsightsContextMixin"],function(a,b,c,d,e,f,g){e.exports=g;},null);
__d("SpectrumBaseStyleSheet",["SpectrumBaseStyleSheet-upstream","cx"],function(a,b,c,d,e,f,g,h){g.areas.partialOverlayClass="_4v0s";e.exports=g;},null);
__d("SpectrumEnvironment",[],function(a,b,c,d,e,f){var g={ignoreUserEvents:false};e.exports=g;},null);
__d("SpectrumSurface",["React","ReactART","SpectrumEnvironment","SpectrumUtilities","emptyFunction","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=h.Surface,n='mouseup';if(window.navigator.msPointerEnabled)n='MSPointerUp';var o=500,p=25,q={type:'',shouldStop:false,stopPropagation:function(){q.shouldStop=true;},x:0,y:0,hitRegionTop:0,hitRegionLeft:0,hitRegionBottom:0,hitRegionRight:0},r={left:0,right:'auto',top:0,position:'absolute'},s=g.createClass({displayName:"SpectrumSurface",componentWillMount:function(){this.eventChannel=[];this.throttledHandleEvent=l(this.actuallyHandleEvent,p,this);},getInitialState:function(){return {cursor:'',focus:null,timer:null};},getDefaultProps:function(){return {onMouseMove:k,onMouseOut:k};},clearTimer:function(){if(this.state.timer)clearTimeout(this.state.timer);},blurIfNothingHappens:function(){this.state.timer=setTimeout(this.setState.bind(this,{focus:null},null),o);},requestFocus:function(t){this.clearTimer();if(t==null)return this.blurIfNothingHappens();this.setState({focus:t});if(this.props.onRequestFocus)this.props.onRequestFocus(t);},componentWillUnmount:function(){this.clearTimer();},attachDragEvent:function(){var t;if(window.addEventListener){t=window;t.addEventListener('mousemove',this.handleWindowEvent,true);t.addEventListener(n,this.handleWindowEvent,true);}else{t=document.body;t.attachEvent('onmousemove',this.handleWindowEvent);t.attachEvent('mouseup',this.handleWindowEvent);}},detachDragEvent:function(){var t;if(window.addEventListener){t=window;t.removeEventListener('mousemove',this.handleWindowEvent,true);t.removeEventListener(n,this.handleWindowEvent,true);}else{t=document.body;t.detachEvent('onmousemove',this.handleWindowEvent);t.detachEvent('mouseup',this.handleWindowEvent);}},handleWindowEvent:function(event){var t=event.type;if(t=='MSPointerUp')t='mouseup';this.handleEvent(t,event);},handleEvent:function(t,event){event.preventDefault&&event.preventDefault();var u=event.nativeEvent||event;if(u.targetTouches){u=u.targetTouches[0];if(!u)return;}var v=this.getDOMNode(),w=v.getBoundingClientRect();q.x=u.clientX-w.left-v.clientLeft;q.y=u.clientY-w.top-v.clientTop;if(t==='mousemove'){this.throttledHandleEvent(t);}else this.actuallyHandleEvent(t);},actuallyHandleEvent:function(t){this.clearTimer();if(t=='mouseleave')this.blurIfNothingHappens();if(t=='mousedown')this.attachDragEvent();this.type='mousedown';if(t=='mouseup')this.detachDragEvent();if(t=='mouseup'&&this.type=='mousedown')t='click';if(t=='mousemove')this.props.onMouseMove(q);if(t=='mouseout')this.props.onMouseOut(q);q.type=t;q.cursor=this.state.cursor;q.shouldStop=false;q.hitRegionTop=-Infinity;q.hitRegionLeft=-Infinity;q.hitRegionBottom=+Infinity;q.hitRegionRight=+Infinity;var u=this.eventChannel;for(var v=u.length;v--;){var w=u[v];if(!w||!w.handleEvent)continue;w.handleEvent(q);if(q.shouldStop)break;}if(q.cursor!==this.state.cursor)this.setState({cursor:q.cursor});},render:function(){var t=this.props.width,u=this.props.height,v={width:t,height:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY,theme:this.props.theme,focus:this.state.focus,eventChannel:this.eventChannel,onRequestFocus:this.requestFocus};g.Children.forEach(this.props.children,function(z){if(!z)return;var aa=Object.assign({},z.props,v);if(z.type.getAdjustedScaleY)v.scaleY=z.type.getAdjustedScaleY(aa);if(z.type.getAdjustedScaleX)v.scaleX=z.type.getAdjustedScaleX(aa);});var w=g.Children.map(this.props.children,function(z,aa){if(!z||z.type.isChartLayer)return null;return j.mergeProps(z,v,{eventIndex:aa});}),x=g.Children.map(this.props.children,function(z,aa){if(!z||!z.type.isChartLayer)return null;return j.mergeProps(z,v,{eventIndex:aa});}),y={style:{cursor:this.state.cursor,height:u,position:'relative',textAlign:'left',width:t}};if(!i.ignoreUserEvents){y.onMouseMove=this.handleEvent.bind(this,'mousemove');y.onMouseOut=this.handleEvent.bind(this,'mouseout');y.onMouseLeave=this.handleEvent.bind(this,'mouseleave');y.onMouseDown=this.handleEvent.bind(this,'mousedown');y.onTouchMove=this.handleEvent.bind(this,'mousemove');y.onTouchStart=this.handleEvent.bind(this,'mousedown');y.onTouchCancel=this.handleEvent.bind(this,'mouseup');y.onTouchEnd=this.handleEvent.bind(this,'mouseup');}return (g.createElement("div",g.__spread({},y),g.createElement("div",{style:{left:0,height:u,overflow:'hidden',position:'absolute',top:0,width:t}},g.createElement(m,{height:u,width:t,style:r},w)),x));}});e.exports=s;},null);
__d("SpectrumTimeScale",["BinarySearch","d3/core/range","d3/scale/linear","formatDate","d3/time/year","d3/time/month","d3/time/day","d3/time/hour","d3/time/minute","d3/time/second"],function(a,b,c,d,e,f,g,h,i,j){function k(da,ea){return function(fa){return j(new Date(fa),da,{utc:true,skipPatternLocalization:ea});};}var l={Year:b('d3/time/year').utc,Month:b('d3/time/month').utc,Day:b('d3/time/day').utc,Hour:b('d3/time/hour').utc,Minute:b('d3/time/minute').utc,Second:b('d3/time/second').utc},m=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2.592e+09,7.776e+09,3.1536e+10],n={format:k('Y'),interval:l.Year,next:null},o={format:k('M',true),interval:l.Month,next:n},p={format:k('d',true),interval:l.Day,next:o},q={format:k('H',true),interval:l.Hour,next:p},r={format:k('i',true),interval:l.Minute,next:q},s={format:k('s',true),interval:l.Second,next:r},t=[s,s,s,s,r,r,r,r,q,q,q,q,p,p,p,o,o,n];function u(da){var ea=da[0],fa=da[da.length-1];return ea<fa?[ea,fa]:[fa,ea];}function v(da){while(da>0){if(t[da]!=t[da-1])return da;da--;}return da;}function w(da,ea){var fa=u(da),ga=fa[1]-fa[0],ha=ga/ea,ia=g.findBoundInArray(m,ha,function(ja,ka){return ja-ka;},g.LEAST_UPPER_BOUND);if(ia==m.length)ia=m.length-1;if(!ia)return -1;if((ha/m[ia-1])<(m[ia]/ha))ia--;return ia;}function x(da,ea,fa){var ga=w(da,ea);if(fa){var ha=fa.offset(0,1);while(m[ga]<ha&&ga<m.length-1)ga++;}return {step:m[ga]||1,config:t[ga]||s,index:ga};}function y(da,ea){var fa=da.format;fa.primary=fa;if(da.next)fa.secondary=da.next.format;fa.bucketTicks=ea;return fa;}function z(da,ea,fa){var ga=1;if(fa){var ha=v(fa);ga=Math.floor(m[fa]/m[ha]);}var ia=[],ja=new Date(da[0]),ka=ea.interval.ceil(ja);while(ka<=new Date(da[1])){ia.push(ka);ka=ea.interval.offset(ka,ga);}return ia;}function aa(da){function ea(ja){return Math.floor(+ja/da)*da;}function fa(ja){return Math.round(+ja/da)*da;}function ga(ja){return Math.ceil(+ja/da)*da;}function ha(ja,ka){return +ja+ka*da;}function ia(ja,ka,la){return h(ga(ja),ka,(la||1)*da);}ea.floor=ea;ea.round=fa;ea.ceil=ga;ea.offset=ha;ea.range=ia;return ea;}function ba(da,ea,fa){function ga(ia){return ea(ia);}ga.tickFormatMaxLength=10;ga.interval=function(ia){if(!arguments.length)return da;var ja=ga.domain();da=typeof ia==='number'?aa(ia):ia;ga.domain(ja);return ga;};ga.invert=function(ia){if(da)return da.floor(new Date(ea.invert(ia)));return new Date(ea.invert(ia));};ga.domain=function(ia){if(!arguments.length)if(da){return [ea.domain()[0],da.offset(ea.domain()[1],1)];}else return ea.domain();if(da){ea.domain([da.floor(new Date(ia[0])),da.offset(da.ceil(new Date(ia[1])),-1)]);}else ea.domain(ia);return ga;};ga.nice=function(ia){if(!ia)return ga;var ja=x(ea.domain(),ia,da).step,ka=ga.domain(),la=ka[0],ma=ka[ka.length-1];if(la<ma){la=Math.floor(la/ja)*ja;ma=Math.ceil(ma/ja)*ja;}else{la=Math.ceil(la/ja)*ja;ma=Math.floor(ma/ja)*ja;}return ga.domain([la,ma]);};ga.ticks=function(ia){var ja=x(ea.domain(),ia,da);return z(ea.domain(),ja.config,ja.index);};ga.secondaryTicks=function(ia){var ja=x(ea.domain(),ia,da).config,ka=ja.next;if(!ka)return [];return z(ea.domain(),ka);};ga.tickFormat=function(ia){var ja=x(ea.domain(),ia,da),ka=ja.config,la=v(ja.index)==ja.index;return y(ka,la);};var ha=k('M j, Y');ga.tooltipFormat=function(){return ha;};ga.setTooltipFormat=function(ia,ja){ha=k(ia,ja);};ga.range=function(ia){if(!arguments.length)return ea.range();ea.range(ia);return ga;};ga.rangeBands=function(ia,ja,ka){if(arguments.length<2)ja=0;if(arguments.length<3)ka=ja;if(!da){fa=0;return ga.range(ia);}var la=da.range(ea.domain()[0],ea.domain()[1]).length,ma=ia[1]<ia[0],na=ia[ma-0],oa=ia[1-ma],pa=(oa-na)/((la+1)-ja+2*ka),qa=[na+pa*ka,na+pa*la];if(ma)qa.reverse();fa=pa*(1-ja);ea.range(qa);return ga;};ga.rangeBand=function(){return fa;};ga.baseScale=function(){return ea;};ga.copy=function(){return ba(da,ea.copy(),fa);};ga.interpolate=function(ia){if(arguments.length===1){ea.interpolate(ia);return ga;}else return ea.interpolate();};ga.clamp=function(ia){if(arguments.length===1){ea.clamp(ia);return ga;}else return ea.clamp();};return ga;}var ca=function(){return ba(null,i(),0);};ca.Intervals=l;e.exports=ca;},null);
__d("SpectrumChart",["emptyFunction","mergeDeep","SpectrumContextMixin","React","SpectrumBaseStyleSheet","SpectrumSurface","d3/scale/linear","d3/scale/ordinal","SpectrumTimeScale","mergeHelpers"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=b('mergeHelpers').ArrayStrategies,q=j.createClass({displayName:"SpectrumChart",mixins:[i],getDefaultProps:function(){return {onMouseMove:g,onMouseOut:g};},getExtentY:function(){var r=+Infinity,s=-Infinity;j.Children.forEach(this.props.children,function(t){if(t&&t.type.getExtentY){var u=t.type.getExtentY(t.props);if(u){if(u[0]<r)r=u[0];if(u[1]>s)s=u[1];}}});if(r==+Infinity&&s==-Infinity)return [0,0];return [r,s];},getExtentX:function(){var r=-Infinity,s=Infinity;j.Children.forEach(this.props.children,function(t){if(t&&t.type.getExtentX){var u=t.type.getExtentX(t.props);if(u){if(u[1]>r)r=u[1];if(u[0]<s)s=u[0];}}});return [s,r];},getDefaultScaleX:function(){var r=this.props.domain||this.getExtentX();if(r.copy){r=r.copy();}else if(r[0] instanceof Date){r=o().domain(r).interval(o.Intervals.Day).clamp(true);}else if(typeof r[0]==='number'){r=m().domain(r).clamp(true);}else r=n().domain(r);return r;},getDefaultScaleY:function(){var r=this.getExtentY();return m().domain(r).clamp(true);},getGutter:function(r,s,t){var u=r.gutter;j.Children.forEach(this.props.children,function(v){if(v&&v.type.getGutter){var w=v.type.getGutter(v.props,r,s,t);for(var x in u)if(w[x])u[x]=Math.max(u[x],w[x]);}});return u;},getChildWidthHeight:function(r,s){j.Children.forEach(this.props.children,function(t){if(t&&t.type.getWidthHeight){var u=t.type.getWidthHeight(t.props,s);for(var v in r)if(u[v])if(r[v]){r[v]=Math.max(r[v],u[v]);}else r[v]=u[v];}});return r;},render:function(){var r=k,s=h(r,this.props.theme,p.Clobber),t=this.props.scaleX||this.getDefaultScaleX(),u=this.props.scaleY||this.getDefaultScaleY();s.gutter=this.getGutter(s,t,u);var v=this.getChildWidthHeight({width:this.props.width,height:this.props.height},s),w=v.width,x=v.height,y=s.gutter,z=y.top,aa=w-y.right,ba=x-y.bottom,ca=y.left;if(!this.props.scaleYHasDomain)u.domain(this.getExtentY()).clamp(true);if(t.rangeBands){t.rangeBands([ca,aa],s.rangeBands.padding,s.rangeBands.outerPadding);}else if(t.rangePoints){t.rangePoints([ca,aa]);}else t.range([ca,aa]);if(u.rangePoints){u.rangePoints([ba,z]);}else u.range([ba,z]);return (j.createElement(l,{height:x,scaleX:t,scaleY:u,theme:s,width:w,onRequestFocus:this.props.onRequestFocus,onMouseMove:this.props.onMouseMove.bind(null,{scaleX:t}),onMouseOut:this.props.onMouseOut},this.props.children));}});e.exports=q;},null);
__d("SpectrumConstants",[],function(a,b,c,d,e,f){'use strict';var g={plotBands:{LabelPosition:{BOTTOM_LEFT:'bottom left',BOTTOM_RIGHT:'bottom right',TOP_LEFT:'top left',TOP_RIGHT:'top right'}},xAxis:{defaultTickCount:10,defaultTickSize:4,defaultTickPadding:3},vlines:{defaultLineCount:10}};e.exports=g;},null);
__d("SpectrumMarker",["Circle.art","React","ReactART","SpectrumDataVisualization","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j,k){var l=i.Group,m=i.Path,n=i.Shape,o=i.Text,p=2,q=h.createClass({displayName:"SpectrumMarker",mixins:[j.Mixin],props:{content:null,x:null,activeOffset:null},getDefaultProps:function(){return {activeOffset:10};},getInitialState:function(){return {tooltip:null};},getTop:function(){var r=k.getOuterRange(this.props.scaleY);return r[1]-5;},getX:function(){return j.getX(this.props.scaleX,this.props.x);},getY:function(){return this.props.scaleY(this.props.y);},handleEvent:function(r){if(r.type!='mousemove')return;if(this.props.y==null)return;var s=this.getX(),t=this.getY();if(r.x>s-this.props.activeOffset&&r.x<s+this.props.activeOffset){var u={rect:{left:s,right:s,top:t,bottom:t},valueX:this.props.x,valueY:this.props.y};if(this.props.onRequestFocus)this.props.onRequestFocus(u);r.stopPropagation();}else if(this.props.onRequestFocus)this.props.onRequestFocus(null);},render:function(){var r=this.props.theme.markers,s=this.props.scaleX,t=k.getOuterRange(this.props.scaleY),u=Math.floor(s(this.props.x))+.5,v=this.getTop(),w=t[0],x=m().moveTo(u,w),y=(w-v)/4;for(var z=0;z<y;z++)x.line(0,-2).move(0,-2);var aa=r.lineColor,ba=r.labelColor,ca=r.lineWidth,da=this.props.focus,ea=null;if(da&&da.valueX===this.props.x&&da.valueY===this.props.y&&this.props.y!=null){x=m().moveTo(u,w).lineTo(u,v);aa=ba=r.highlightColor;ca=r.highlightWidth;ea=(h.createElement(l,null,h.createElement(g,{radius:p,stroke:aa,strokeWidth:ca*2,x:u,y:this.getY()}),h.createElement(g,{radius:p,fill:r.dotColor,x:u,y:this.getY()})));}var fa=this.props.children;if(typeof fa==='string'){var ga={fontFamily:r.fontFamily,fontSize:r.fontSize};fa=(h.createElement(o,{x:.5,y:-ga.fontSize-2,alignment:"center",font:ga,fill:ba},fa));}return (h.createElement(l,null,h.createElement(n,{d:x,stroke:aa,strokeWidth:ca}),ea,h.createElement(l,{x:u,y:v},fa)));}});e.exports=q;},null);
__d("SpectrumPercentageScale",["intlNumUtils","SpectrumBaseNumberScale","NumberFormatConfig"],function(a,b,c,d,e,f,g,h,i){var j=3,k=3;function l(s){if(s<.01)return m(s);var t=n(s);return g.getFloatString(t,i.numberDelimiter,i.decimalSeparator)+'%';}function m(s){var t=o(s,k);return g.getFloatString(t,i.numberDelimiter,i.decimalSeparator)+'%';}function n(s){return Math.round(s*100);}function o(s,t){var u=s*100,v=u.toPrecision(t);return parseFloat(v);}function p(s){var t=(s<.01)?o(s,k):n(s);return t/100;}function q(s){s.tickFormat=function(){return l;};s.tooltipFormat=function(){return m;};s.roundedDecimalFormat=function(){return p;};var t=s.copy;s.copy=function(){return q(t());};return s;}var r=function(){return q(h(j));};e.exports=r;},null);
__d("SpectrumStackedAreas",["SpectrumDataVisualization","d3/scale/ordinal","React","ReactART","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j.Path,m=j.Group,n=j.ClippingRectangle,o=j.Shape,p=j.CSSBackgroundPattern,q=k.forEachVector,r=k.findEdges,s=4,t=s*2;function u(x){return x.y0;}function v(x){if(x.y==null)return null;return x.y+x.y0;}var w=i.createClass({displayName:"SpectrumStackedAreas",mixins:[g.Mixin],statics:{getExtentY:function(x){var y=w.getStackedData(x),z=x.base,aa=z==null?Math.min.apply(null,y[0].map(u)):z=='bottom'?Math.min.apply(null,y[0].map(v)):z,ba=Math.max.apply(null,y[y.length-1].map(v));return [aa,ba];},getStackedData:function(x){var y=g.getValueXAccessor(x),z=g.getValueYAccessor(x),aa=x.partialValue||function(){return false;},ba=x.data.map(function(ia){return ia.map(function(ja,ka){return {x:y(ja,ka),y:z(ja,ka),y0:0,isPartial:aa(ja,ka)};});}),ca=x.offset||ba[0].map(function(ia){return 0;}),da=ba.map(function(){return [];});for(var ea=0;ea<ba[0].length;++ea){var fa=ca[ea];for(var ga=0;ga<ba.length;++ga){var ha=ba[ga][ea];da[ga][ea]=Object.assign({},ha,{y0:fa});fa+=ha.y;}}return da;},getGutter:function(x,y){var z=y.areas.hoverBubbleStrokeWidth+s;return {bottom:z,left:z,right:z,top:z};}},getTotalYGivenX:function(x){var y=w.getStackedData(this.props),z=y[y.length-1];for(var aa=0;aa<z.length;++aa)if(z[aa].x===x)return v(z[aa]);},getOffsetX:function(){var x=g.getScaleX(this.props);return x.rangeBand?x.rangeBand()/2:0;},formatDatum:function(x,y){var z=this.props.titles,aa=g.getScaleX(this.props),ba=aa.rangeBand?aa.rangeBand():0,ca={areaIndex:y,rect:{left:aa(x.valueX),right:aa(x.valueX)+ba,top:x.top,bottom:x.bottom},target:this,title:z&&z[y]||'',total:this.getTotalYGivenX(x.valueX),valueX:x.valueX,valueY:x.valueY,isPartial:x.isPartial};return ca;},handleEvent:function(x){if(x.type!='mousemove')return;if(this.props.ignoreMouseEvents)return;var y=g.getScaleX(this.props),z=k.getOuterRange(y);if(x.x<z[0]||x.x>z[1])return;var aa=this.findEdges(x.x,x.y);if(aa.right<x.hitRegionRight)x.hitRegionRight=aa.right;if(aa.left>x.hitRegionLeft)x.hitRegionLeft=aa.left;if(aa.bottom<x.hitRegionBottom)x.hitRegionBottom=aa.bottom;if(aa.top>x.hitRegionTop)x.hitRegionTop=aa.top;if(aa.bestDatum.valueX!=null&&aa.bestDatum.valueY!=null){aa.bestDatum.isPartial=aa.isPartial;var ba=this.formatDatum(aa.bestDatum,aa.areaIndex);ba.allData=aa.allData.map(this.formatDatum,this);if(this.props.onRequestFocus)this.props.onRequestFocus(ba);x.stopPropagation();}},findEdges:function(x,y){var z=g.getScaleX(this.props),aa=this.props.scaleY,ba=w.getStackedData(this.props),ca=null,da={},ea=[];function fa(ia){return {bottom:aa(ia.y0),isPartial:ia.isPartial,top:aa(ia.y0+ia.y),valueX:ia.x,valueY:ia.y};}function ga(ia){function ja(ka,la){function ma(na,oa,pa,qa){var ra=g.getX(z,na.x),sa=g.getX(z,pa.x),ta=aa(na.y0),ua=aa(pa.y0),va=ia(ra,ta,sa,ua);if(va==1||va==2||(va&&la===0)){ca=la;if(va==1||va==3){da=fa(na);ea[la]=da;}else{da=fa(pa);ea[la]=da;}}ta=aa(na.y0+na.y);ua=aa(pa.y0+pa.y);va=ia(ra,ta,sa,ua);if((va==3||va==4)&&(na.y||pa.y)){ca=la;if(va==3){da=fa(na);ea[la]=da;}else{da=fa(pa);ea[la]=da;}}}q(ka,ma);}ba.forEach(ja);}var ha=r(x,y,ga);ha.areaIndex=ca;ha.bestDatum=da;ha.top=da.top;ha.bottom=da.bottom;ha.allData=ea;return ha;},shouldComponentUpdate:function(x){return this.hasDataChanged(x)||this.hasFocusChanged(x)||this.hasDimensionsChanged(x);},hasHighlightDetailsChanged:function(x,y){var z=x.rect,aa=y.rect;return (z.left!==aa.left||z.right!==aa.right||z.top!==aa.top||z.bottom!==aa.bottom);},getPartialBoxPath:function(x){var y=g.getScaleX(this.props),z=this.props.scaleY,aa=x.map(function(la,ma){var na=null,oa=null;if(la.y!=null){na=z(la.y+la.y0);oa=z(la.y0);}return [g.getX(y,la.x),oa,na];});function ba(la,ma){if(ma<=0)return null;return da(la[ma],la[ma-1]);}function ca(la,ma){if(ma>=la.length-1)return null;return da(la[ma],la[ma+1]);}function da(la,ma){if(la[1]==null||ma[1]==null)return null;var na=(la[0]+ma[0])*.5,oa=(la[1]+ma[1])*.5,pa=(la[2]+ma[2])*.5;return [na,oa,pa];}var ea=l();for(var fa=0;fa<aa.length;fa++)if(x[fa].isPartial){var ga=ba(aa,fa),ha=ca(aa,fa),ia=ga?ga:aa[fa];ea.moveTo(ia[0],ia[1]);var ja,ka;if(ga){ja=aa[fa][0]-ga[0];ea.line(ja,aa[fa][1]-ga[1]);}if(ha){ka=ha[0]-aa[fa][0];ea.line(ka,ha[1]-aa[fa][1]);ea.line(0,ha[2]-ha[1]);ea.line(-ka,aa[fa][2]-ha[2]);}else ea.line(0,aa[fa][2]-aa[fa][1]);if(ga){ea.line(-ja,ga[2]-aa[fa][2]);}else ea.line(0,aa[fa][1]-aa[fa][2]);ea.close();}return ea;},render:function(){var x=w.getStackedData(this.props),y=g.getScaleX(this.props),z=this.props.scaleY,aa=this.props.offset||'zero',ba=this.props.height,ca=this.props.width,da=this.props.focus;if(da&&da.target!==this)da=null;var ea=this.props.theme.areas,fa=h().range(ea.colors),ga=this.getPartialBoxPath;function ha(ka,la){var ma=la<x.length-1?.5:0,na=ga(ka),oa=(i.createElement(o,{d:na,fill:new p(ea.partialOverlayClass),x:0,y:0,width:ca,height:ba})),pa=function(wa){return z(ka[wa].y0);},qa=function(wa){return z(ka[wa].y0+ka[wa].y)-ma;},ra=function(wa){return g.getX(y,ka[wa].x);},sa=l(),ta=function(wa,xa){var ya;sa.moveTo(ra(wa),qa(wa));for(ya=wa+1;ya<xa;ya++)sa.lineTo(ra(ya),qa(ya));for(ya=xa-1;ya>=wa;ya--)sa.lineTo(ra(ya),pa(ya));sa.close();},ua;for(var va=0;va<ka.length;va=ua+1){for(ua=va;ua<ka.length&&ka[ua].y!=null;ua++);if(va+1<ua)ta(va,ua);}return (i.createElement(m,{key:la},i.createElement(o,{d:sa,fill:fa(la)}),oa));}function ia(){if(!da)return null;if(!ea.hover)return null;var ka=Math.round(da.rect.left),la=Math.round(da.rect.right),ma=Math.round(da.rect.top),na=Math.round(da.rect.bottom),oa=z.range(),pa=Math.round(Math.max(oa[0],oa[1])),qa=z.domain(),ra=Math.round(Math.min(qa[0],qa[1]))>0&&aa=='zero',sa=Math.round((ka+la)/2),ta=l().moveTo((ka+la)/2,ma).lineTo((ka+la)/2,na),ua=l();if(na!=pa||ra)ua=l().moveTo(ka,pa).lineTo(la,pa);var va,wa;if(na-ma>8||ra){va=l().moveTo(sa,ma-s).arc(0,t,s).arc(0,-t,s).close();wa=l().moveTo(sa,na-s).arc(0,t,s).arc(0,-t,s).close();}else{va=l().moveTo(sa-s,ma).arc(t,0,s).lineTo(sa+s,na).arc(-t,0,s).close();wa=l();}if(ra)wa=l();return (i.createElement(m,null,i.createElement(o,{d:ua,stroke:ea.hover,strokeWidth:ea.hoverBubbleStrokeWidth}),i.createElement(o,{d:ta,stroke:ea.hover,strokeWidth:ea.hoveBarStrokeWidth}),i.createElement(o,{d:va,stroke:ea.hover,fill:ea.hoverFill,strokeWidth:ea.hoverBubbleStrokeWidth}),i.createElement(o,{d:wa,stroke:ea.hover,fill:ea.hoverFill,strokeWidth:ea.hoverBubbleStrokeWidth})));}var ja=g.getClippingRectangleDimensions(this.props);return (i.createElement(m,null,i.createElement(n,{x:ja.x,y:ja.y,width:ja.width,height:ja.height},x.map(ha)),ia()));}});e.exports=w;},null);
__d("SpectrumTimeSpanScale",["BinarySearch","d3/core/range","d3/scale/linear","fbt"],function(a,b,c,d,e,f,g,h,i,j){var k={unit:'year',label:'years',ms:3.1104e+10,next:null},l={unit:'month',label:'months',ms:2.592e+09,next:k},m={unit:'day',label:'days',ms:86400000,next:l},n={unit:'hour',label:'hours',ms:3600000,next:m},o={unit:'minute',label:'minutes',ms:60000,next:n},p={unit:'second',label:'seconds',ms:1000,next:o},q={unit:'ms',label:'milliseconds',ms:1,next:p},r=[1000,5000,15000,60000,300000,900000,3600000,10800000,21600000,86400000,172800000,2.592e+09,7.776e+09,3.1104e+10],s=[p,p,p,o,o,o,n,n,n,m,m,l,l,k];function t(ga){var ha=ga[0],ia=ga[ga.length-1];return ha<ia?[ha,ia]:[ia,ha];}function u(ga,ha){var ia=t(ga),ja=ia[1]-ia[0],ka=ja/ha,la=g.findBoundInArray(r,ka,function(ma,na){return ma-na;},g.LEAST_UPPER_BOUND);if(la==r.length)la=r.length-1;if(!la){if(ka>666)return 0;return -1;}if((ka/r[la-1])<(r[la]/ka))la--;return la;}function v(ga,ha,ia){var ja=u(ga,ha);if(ia){var ka=ia.offset(0,1);while(r[ja]<ka&&ja<r.length-1)ja++;}return {step:r[ja]||1,unit:s[ja]||q};}function w(ga,ha){var ia=t(ga),ja=Math.ceil(ia[0]/ha)*ha,ka=Math.floor(ia[1]/ha)*ha+ha*.5;return h(ja,ka,ha);}function x(ga){return j._({"milliseconds":"milliseconds","seconds":"seconds","minutes":"minutes","hours":"hours","days":"days","months":"months","years":"years"},[j['enum'](ga.label,{milliseconds:"milliseconds",seconds:"seconds",minutes:"minutes",hours:"hours",days:"days",months:"months",years:"years"})]);}function y(ga,ha){if(ga==1)return j._({"ms":"ms 1","second":"second 1","minute":"minute 1","hour":"hour 1","day":"day 1","month":"month 1","year":"year 1"},[j['enum'](ha.unit,{ms:"ms",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",year:"year"})]);return j._({"ms":"ms {timeSpanInteger}","second":"second {timeSpanInteger}","minute":"minute {timeSpanInteger}","hour":"hour {timeSpanInteger}","day":"day {timeSpanInteger}","month":"month {timeSpanInteger}","year":"year {timeSpanInteger}"},[j['enum'](ha.unit,{ms:"ms",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",year:"year"}),j.param("timeSpanInteger",ga)]);}function z(ga,ha){if(ga==1)return j._({"ms":"1 ms","second":"1 second","minute":"1 minute","hour":"1 hour","day":"1 day","month":"1 month","year":"1 year"},[j['enum'](ha.unit,{ms:"ms",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",year:"year"})]);return j._({"milliseconds":"{timeSpanInteger} milliseconds","seconds":"{timeSpanInteger} seconds","minutes":"{timeSpanInteger} minutes","hours":"{timeSpanInteger} hours","days":"{timeSpanInteger} days","months":"{timeSpanInteger} months","years":"{timeSpanInteger} years"},[j.param("timeSpanInteger",ga),j['enum'](ha.label,{milliseconds:"milliseconds",seconds:"seconds",minutes:"minutes",hours:"hours",days:"days",months:"months",years:"years"})]);}function aa(ga,ha){var ia=q,ja='';while(ia){var ka=ia.next?ia.next.ms:Infinity,la=Math.floor((ga%ka)/ia.ms);if(la||ia.ms===ha){if(ja)ja=' '+ja;ja=y(la+1,ia)+ja;}ia=ia.next;}return ja;}function ba(ga){var ha=p,ia='';while(ha){var ja=ha.next?ha.next.ms:Infinity,ka=null;if(ha===p){ka=Math.round((ga%ja)/ha.ms*100)/100;}else ka=Math.floor((ga%ja)/ha.ms);if(ka){if(ia)ia=' '+ia;ia=z(ka,ha)+ia;}ha=ha.next;}return ia;}function ca(ga,ha,ia){var ja=ga.ms,ka=ga.next?ga.next.ms:Infinity,la=function(ma){var na=Math.floor(ma/ja);if(ha)na++;return na+'';};la.primary=function(ma){var na=Math.floor((ma%ka)/ja);if(ha)na++;return na+'';};la.secondary=function(ma){if(ia||!ga.next)return x(ga);var na=Math.floor(ma/ka)+1;return y(na,ga.next);};la.bucketTicks=ha;return la;}function da(ga){function ha(ma){return Math.floor(+ma/ga)*ga;}function ia(ma){return Math.round(+ma/ga)*ga;}function ja(ma){return Math.ceil(+ma/ga)*ga;}function ka(ma,na){return +ma+na*ga;}function la(ma,na,oa){return h(ja(ma),na,(oa||1)*ga);}ha.floor=ha;ha.round=ia;ha.ceil=ja;ha.offset=ka;ha.range=la;return ha;}function ea(ga,ha,ia){function ja(ka){return ha(ka);}ja.tickFormatMaxLength=30;ja.interval=function(ka){if(!arguments.length)return ga;var la=ja.domain();ga=typeof ka==='number'?da(ka):ka;ia=0;ja.domain(la);return ja;};ja.invert=function(ka){if(ga)return ga.floor(ha.invert(ka));return ha.invert(ka);};ja.domain=function(ka){if(!arguments.length)if(ga){return [ha.domain()[0],ga.offset(ha.domain()[1],1)];}else return ha.domain();if(ga){ha.domain([ga.floor(ka[0]),ga.offset(ga.ceil(ka[1]),-1)]);}else ha.domain(ka);return ja;};ja.nice=function(ka){if(!ka)return ja;var la=v(ha.domain(),ka,ga).step,ma=ja.domain(),na=ma[0],oa=ma[ma.length-1];if(na<oa){na=Math.floor(na/la)*la;oa=Math.ceil(oa/la)*la;}else{na=Math.ceil(na/la)*la;oa=Math.floor(oa/la)*la;}return ja.domain([na,oa]);};ja.ticks=function(ka){var la=v(ha.domain(),ka,ga).step;if(la===1)return ha.ticks(ka);return w(ha.domain(),la);};ja.secondaryTicks=function(ka){var la=v(ha.domain(),ka,ga).unit;if(!la.next)return [];return w(ha.domain(),la.next.ms);};ja.tickFormat=function(ka){var la=v(ha.domain(),ka,ga),ma=la.step,na=la.unit,oa=t(ha.domain()),pa=oa[0]===0&&ja.secondaryTicks(ka).length<2,qa=!!ga&&na.ms===ma&&ma!==1;return ca(na,qa,pa);};ja.tooltipFormat=function(){return ga?function(ka){return aa(ka,ga.offset(0,1));}:ba;};ja.range=function(ka){if(!arguments.length)return ha.range();ia=0;ha.range(ka);return ja;};ja.rangeBands=function(ka,la,ma){if(arguments.length<2)la=0;if(arguments.length<3)ma=la;if(!ga){ia=0;return ja.range(ka);}var na=ga.range(ha.domain()[0],ha.domain()[1]).length,oa=ka[1]<ka[0],pa=ka[oa-0],qa=ka[1-oa],ra=(qa-pa)/((na+1)-la+2*ma),sa=[pa+ra*ma,pa+ra*na];if(oa)sa.reverse();ia=ra*(1-la);ha.range(sa);return ja;};ja.rangeBand=function(){return ia;};ja.copy=function(){return ea(ga,ha.copy(),ia);};ja.interpolate=function(ka){if(arguments.length===1){ha.interpolate(ka);return ja;}else return ha.interpolate();};ja.clamp=function(ka){if(arguments.length===1){ha.clamp(ka);return ja;}else return ha.clamp();};return ja;}var fa=function(){return ea(null,i(),0);};fa.Intervals={Year:da(k.ms),Month:da(l.ms),Day:da(m.ms),Hour:da(n.ms),Minute:da(o.ms),Second:da(p.ms)};e.exports=fa;},null);
__d("SpectrumTooltip",["cx","SpectrumAnimationLayer","PointerEventElement.react","React"],function(a,b,c,d,e,f,g,h,i,j){var k=j,l=k.PropTypes,m=200,n=10,o=15,p=j.createClass({displayName:"SpectrumTooltip",propTypes:{flip:l.bool,onCalculateWidth:l.func},getInitialState:function(){return {width:0};},componentDidUpdate:function(q){var r=this.props.x!==this.props.x,s=this.props.y!==this.props.y,t=this.props.x!=q.x||this.props.y!=q.y;if(t&&!r&&!s)this.calculateCardWidth();},componentDidMount:function(){this.calculateCardWidth();},calculateCardWidth:function(){var q=this.refs.card.getDOMNode().offsetWidth;this.setState({width:q});this.props.onCalculateWidth&&this.props.onCalculateWidth(q);},render:function(){var q=(("_51i4")+(this.props.flip?' '+"_5k2_":'')),r=this.props.x-n;if(this.props.flip)r=r-this.state.width-o;return (j.createElement(h,{opacity:.9,x:Math.round(r),y:Math.round(this.props.y-m/2),height:m},j.createElement(i,{className:q},j.createElement("div",{className:"_5c7e _51i5",ref:"card"},j.createElement("div",{className:"_5l1x"},this.props.children),j.createElement("i",{className:"_5sx3"})))));}});e.exports=p;},null);
__d("SpectrumTooltipAction",["cx","React"],function(a,b,c,d,e,f,g,h){var i=h.createClass({displayName:"SpectrumTooltipAction",render:function(){return (h.createElement("span",{className:"_5y0j"},this.props.children));}});e.exports=i;},null);
__d("SpectrumTooltipData",["cx","React"],function(a,b,c,d,e,f,g,h){var i=h.createClass({displayName:"SpectrumTooltipData",render:function(){return (h.createElement("span",{className:"_51i3"},this.props.children));}});e.exports=i;},null);
__d("SpectrumTooltipDescription",["cx","joinClasses","React"],function(a,b,c,d,e,f,g,h,i){var j=i.createClass({displayName:"SpectrumTooltipDescription",render:function(){return (i.createElement("span",i.__spread({},this.props,{className:h(this.props.className,"_2fp7")})));}});e.exports=j;},null);
__d("SpectrumTooltipFooter",["cx","React"],function(a,b,c,d,e,f,g,h){var i=h.createClass({displayName:"SpectrumTooltipFooter",render:function(){return (h.createElement("span",{className:"_51wj"},this.props.children));}});e.exports=i;},null);
__d("SpectrumTooltipMenu",["React","SpectrumUtilities","SpectrumTooltip","SpectrumTooltipAction","SpectrumTooltipData","SpectrumTooltipDescription","SpectrumTooltipFooter","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(event){event.stopPropagation();}function p(s,t){if(s==t)return s;return n._("{from} to {to}",[n.param("from",s),n.param("to",t)]);}var q=20,r=g.createClass({displayName:"SpectrumTooltipMenu",statics:{isChartLayer:true},getInitialState:function(){return {flip:false};},getTooltipFormat:function(s){if(s.tooltipFormat)return s.tooltipFormat();if(s.tickFormat)return s.tickFormat(q);return function(t){return t;};},onCalculateTooltipWidth:function(s){var t=false,u=this.props.focus.rect.right,v=h.getOuterRange(this.props.scaleX);if(u+s>v[1])t=true;if(this.state.flip!=t)this.setState({flip:t});},render:function(){var s=this.props.focus;if(!s)return g.createElement("div",null);var t=this.props.scaleX,u=this.props.scaleY,v=s.rangeX?s.rangeX[0]:s.valueX,w=s.rangeX?s.rangeX[1]:s.valueX,x=this.getTooltipFormat(t),y=this.getTooltipFormat(u),z=s.title||s.label,aa=s.valueY==null?'':y(s.valueY),ba=function(ma,na){return Number(ma.toFixed(na));},ca=s.total?s.valueY*100/s.total:null,da=ca?n._("{percent}\u0025",[n.param("percent",ba(ca,1))]):null,ea=p(x(v),x(w)),fa,ga=null;if(this.props.actionContent&&v==w)ga=(g.createElement(j,null,this.props.actionContent));if(s.fixed&&this.props.children)fa=g.createElement(m,null,g.createElement("div",{onMouseDown:o},this.props.children));var ha=s.rect.top,ia=s.rect.bottom,ja=s.rect.right;if(this.state.flip)ja=s.rect.left;var ka;if(this.props.customFormat){var la=Object.assign({},this.props.focus,{xValueString:x(v),xRangeString:ea,yValueString:aa});if(la.allData)la.allData=la.allData.map(function(ma,na){ma.xValueString=x(ma.valueX);ma.yValueString=y(ma.valueY);return ma;});if(typeof(s.comparisonValueY)!=='undefined'){la.comparisonTitle=s.comparisonTitle;la.comparisonYValueString=s.comparisonValueY==null?'':y(s.comparisonValueY);}ka=g.createElement(l,null,this.props.customFormat(la));}else ka=[g.createElement(l,{key:"desc"},z),g.createElement(k,{key:"data"},aa),g.createElement(l,{key:"percentTotal"},this.props.showPercentTotal?da:null),g.createElement(l,{key:"foot"},ea)];return (g.createElement(i,{x:ja,y:(ha+ia)*.5,flip:this.state.flip,onCalculateWidth:this.onCalculateTooltipWidth},ka,fa,ga));}});e.exports=r;},null);
__d("SpectrumVerticalLines",["React","ReactART","SpectrumConstants","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=h.Group,l=h.Path,m=h.Shape,n=g.createClass({displayName:"SpectrumVerticalLines",shouldComponentUpdate:function(o){return (this.props.scaleY!==o.scaleY)||(this.props.scaleX!==o.scaleX);},render:function(){var o=this.props.theme,p=[o.xAxis.lineColor,o.xAxis.lineColor],q=this.props.scaleX,r=this.props.ticks||i.vlines.defaultLineCount,s=null,t=j.getOuterRange(this.props.scaleY),u=t[1],v=t[0],w;if(s==null){w=(q.ticks?q.ticks(r):q.domain());}else w=s;var x=new l(),y=new l();function z(aa,ba,ca){((ba%4)?y:x).moveTo(q(aa),u).line(0,v-u);}w.forEach(z);return (g.createElement(k,null,g.createElement(m,{d:x,stroke:p[0],opacity:.5}),g.createElement(m,{d:y,stroke:p[1],opacity:.25})));}});e.exports=n;},null);
__d("SpectrumXAxis",["React","ReactART","SpectrumBaseStyleSheet","SpectrumConstants","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g,m=l.PropTypes,n=h.Group,o=h.Path,p=h.Shape,q=h.Text,r=g.createClass({displayName:"SpectrumXAxis",propTypes:{alignToGutter:m.bool,location:m.oneOf(['top','bottom'])},statics:{getGutter:function(s,t,u,v){var w=u.tickFormatMaxLength||0,x=t.xAxis.fontSize/i.xAxis.fontSize;w=w*x;if(s.secondaryTicks)w=w*2;var y={middle:25,left:w,right:w},z=s.location=='top'?'top':'bottom';y[z]=s.secondaryTicks?45:20;return y;}},shouldComponentUpdate:function(s){return this.props.scaleX!==s.scaleX;},render:function(){var s=this.props.alignToGutter,t=this.props.theme,u=t.xAxis,v=t.xAxis.labelColor,w=t.xAxis.axisLineColor,x=t.xAxis.lineColor,y=this.props.scaleX,z=this.props.ticks||j.xAxis.defaultTickCount,aa=j.xAxis.defaultTickSize,ba=j.xAxis.defaultTickPadding,ca=null,da=null,ea=k.getOuterRange(this.props.scaleY),fa=ea[1],ga=ea[0],ha=this.props.location=='top'?fa:ga;if(this.props.location=='top'||fa>ga){aa=-aa;ba=-ba-u.fontSize;}var ia=k.getOuterRange(y);if(ia){var ja=Math.abs(ia[1]-ia[0]),ka=u.fontSize*3.25;if(typeof z==='number'&&z>ja/ka)z=Math.floor(ja/ka);}if(da==null)da=(y.tickFormat?y.tickFormat(z):String);var la;if(ca==null){la=(y.ticks?y.ticks(z):y.domain());}else la=ca;var ma;if(this.props.secondaryTicks&&y.secondaryTicks){ma=y.secondaryTicks(z);if(!ma.length||y(ma[0])>ia[0]+ka*3)ma.unshift(y.domain()[0]);}else ma=null;var na=this.props.disableLines,oa=!!da.bucketTicks||(da.bucketTicks!==false&&!!y.rangeBand),pa=ma&&da.primary||da,qa=ma&&da.secondary||da,ra=y.rangeBand?y.rangeBand():0,sa=new o();function ta(ab,bb,cb){function db(hb){if(hb<ia[0]||hb>ia[ia.length-1])return false;return true;}if(oa){if(bb===0&&cb.length>1){var eb=y(cb[bb+1]);if(y(ab)+ra==eb){var fb=y(ab)+.5;if(db(fb))sa.moveTo(fb,ha).line(0,aa);}}else if(bb>0){var gb=y(cb[bb-1]);fb=(gb+ra+y(ab))/2-.5;if(db(fb))sa.moveTo(fb,ha).line(0,aa);}}else sa.moveTo(y(ab),ha).line(0,aa);}function ua(){if(!ra)return null;sa.moveTo(ia[ia.length-1]-.5+ra,ha).line(0,aa);}function va(ab,bb){function cb(fb){return +fb==+ab;}var db=y(ab);if(oa)db+=ra*.5;if(ma)if(ma.some(cb))return null;db=Math.max(y.tickFormatMaxLength||0,db);if(db>ia[ia.length-1])return null;var eb=0;if(s){eb=t.gutter.middle;eb=eb-(u.fontSize*2)-aa;eb=eb/2;}return (g.createElement(q,{alignment:"center",fill:v,font:u,key:bb,x:db,y:ha+aa+ba+eb},pa(ab)));}function wa(ab){var bb=y(ab)+.5;if(bb<ia[0])return;sa.moveTo(bb,ha);for(var cb=0;cb<7;cb++)sa.move(0,2).line(0,2);}function xa(ab,bb){var cb=qa(ab).toUpperCase();return (g.createElement(q,{alignment:"left",fill:v,font:u,key:bb,x:y(ab)+ba*2,y:ha+aa+ba*2+u.fontSize},cb));}var ya=null;if(!na){la.forEach(ta);ma&&ma.forEach(wa);ua();ya=g.createElement(p,{d:sa,stroke:x});}var za=o().moveTo(ia[0],ha+.5).lineTo(ia[1],ha+.5);return (g.createElement(n,null,!t.xAxis.baseline?null:g.createElement(p,{d:za,stroke:w}),ya,la.map(va,la),ma&&ma.map(xa)));}});e.exports=r;},null);
__d("SpectrumYAxis",["React","ReactART","SpectrumBaseStyleSheet","SpectrumUtilities"],function(a,b,c,d,e,f,g,h,i,j){var k=h.Group,l=h.Path,m=h.Shape,n=h.Text,o=g.createClass({displayName:"SpectrumYAxis",statics:{getGutter:function(p,q,r,s){var t=s.tickFormatMaxLength!=null?s.tickFormatMaxLength:45,u=q.yAxis.fontSize/i.yAxis.fontSize;t=t*u;var v={bottom:20,left:t,top:20};if(q.yAxis.showRightTicks)v.right=t;return v;},getTickCount:function(p){var q=p.theme,r=j.getOuterRange(p.scaleY);return Math.round(Math.abs(r[0]-r[1])/q.yAxis.distanceBetweenTicks);},getAdjustedScaleY:function(p){var q=p.scaleY;if(!q.nice)return q.copy();return q.copy().nice(o.getTickCount(p));}},shouldComponentUpdate:function(p){return this.props.scaleY!==p.scaleY;},render:function(){var p=this.props.theme,q=p.yAxis,r=p.yAxis.labelColor,s=p.yAxis.lineColor,t=p.yAxis.baseLineColor||s,u=this.props.scaleY,v=o.getTickCount(this.props),w=0,x=5,y=j.getOuterRange(this.props.scaleX),z=y==null?0:y[0],aa=y[y.length-1],ba=y==null?5:y[y.length-1]-z,ca=(u.ticks?u.ticks(v):u.domain()),da=(u.tickFormat?u.tickFormat(ca):String);function ea(ia,ja){ia.moveTo(z-w,Math.round(u(ja))+.5).line(ba+w+w,0);}function fa(ia,ja){if(ia===0&&this.props.hideBaseLine)return null;var ka=[g.createElement(n,{alignment:"right",fill:r,font:q,key:'left'+ja,x:z-w-x,y:u(ia)-q.fontSize/2},da(ia))];if(p.yAxis.showRightTicks)ka.push(g.createElement(n,{alignment:"left",fill:r,font:q,key:'right'+ja,x:aa+x,y:u(ia)-q.fontSize/2},da(ia)));return ka;}var ga=l(),ha=l();ca.forEach(function(ia,ja){if(ia===0){if(!this.props.hideBaseLine)ea(ha,ia);}else ea(ga,ia);},this);return (g.createElement(k,null,g.createElement(m,{d:ga,stroke:s}),g.createElement(m,{d:ha,stroke:t}),ca.map(fa,this)));}});e.exports=o;},null);
__d("InsightsApiClient",["ApiClient","PHPQuerySerializer"],function(a,b,c,d,e,f,g,h){var i={};function j(l,m,n){if(n&&!n.error)i[l]=n;m(n);}var k={getRaw:function(l,m,n,o,p,q){var r=m+h.serialize(n);if(i.hasOwnProperty(r)&&!q){setTimeout(o.bind(null,i[r]),0);}else{if(l.hasOwnProperty('clientID'))g.setClientID(l.clientID);if(l.hasOwnProperty('accessToken'))g.setAccessToken(l.accessToken);g.graph(m,n,j.bind(null,r,o),p);}}};e.exports=k;},null);
__d("HubbleApiClient",["AsyncRequest","HubbleContext","InsightsApiClient","PageInsightsApiAccess"],function(a,b,c,d,e,f,g,h,i,j){var k={get:function(l,m,n){if(!h.getPageID())return;l=h.getPageID()+(l||'');this.getRaw(l,m,n);},getPosts:function(l,m){if(!h.getPageID())return;l.page_id=h.getPageID();var n=new g().setData(l).setMethod('GET').setPreBootloadHandler(function(o){m(o.payload);}).setReadOnly(true).setURI('/ajax/pages/insights/post_fields');n.send();},getRaw:function(l,m,n){i.getRaw(j,l,m,n);}};e.exports=k;},null);
__d("HubbleConstants",["PageInsightsPostFields"],function(a,b,c,d,e,f,g){var h={DEFAULT_SECTION:'navOverview',NAV_SECTIONS:{IN_STORE:'navInStore',LIKES:'navLikes',OVERVIEW:'navOverview',PEOPLE:'navPeople',POSTS:'navPosts',REACH:'navReach',VISITS:'navVisits',WIFI:'navWifi'},SCROLL_TARGETS:{ENGAGEMENT:'engagement'},PIPELINE_DAILY:'pipe_daily',PIPELINE_WEEKLY:'pipe_weekly',PIPELINE_MONTHLY:'pipe_monthly',PIPELINE_LIFETIME:'pipe_lifetime',PIPELINE_DEMO:'pipe_demo',PERIOD_DAY:'day',PERIOD_WEEK:'week',PERIOD_28_DAYS:'days_28',PERIOD_LIFETIME:'lifetime',SERIES_AREA:'area',SERIES_LINE:'line',SEC_IN_MIN:60,DAYS_PER_WEEK:7,SORT_BY_DATE:'date',SORT_BY_REACH:'reach',SORT_BY_CLICKS:'clicks',SORT_BY_LCS:'lcs',REQ_PREMIUM_VIDEO:'premium_video',REQ_PUBLISHED:'published',REQ_SMART_PUBLISHING:'smart_publishing',REQ_UNPUBLISHED:'unpublished',TABLE_PAGE_SIZE:10,FACEBOOK_DEMOGRAPHICS:{F:{ageBuckets:{'13-17':7.2,'18-24':14.4,'25-34':11.8,'35-44':6.2,'45-54':3.6,'55-64':1.9,'65+':1.1},total:46.2},M:{ageBuckets:{'13-17':7.7,'18-24':17.9,'25-34':14.8,'35-44':7,'45-54':3.6,'55-64':1.6,'65+':1.3},total:53.8},total:100},POSTS_TABLE_FIELDS:[g.CAPTION,g.CREATION_TIME,g.DESCRIPTION,g.ID,g.IDENTIFIER,g.MESSAGE,g.NAME,g.PICTURE,g.PRIVACY,g.STATUS_TYPE,g.TYPE]};e.exports=h;},null);
__d("InsightsUtils",["copyProperties","d3/time/day","UTCUtils"],function(a,b,c,d,e,f,g,h,i){var j=24*60*60,k=25*60*60,l={dateToSeconds:function(m){if(m instanceof Date)return parseInt(m.getTime()/1000,10);return m;},formatInsightsResponse:function(m){var n=-Infinity,o=null,p=0,q=null,r=false,s=0,t=null,u=0,v=Infinity,w=m.data.length,x=null,y=null,z={};for(var aa=0;aa<w;++aa){q=m.data[aa];r=typeof q.values[0].value==='object';v=Math.min(v,q.values[0].end_time-j);n=Math.max(n,q.values[m.data[aa].values.length-1].end_time);z[q.name]=z[q.name]||{};if(r){z[q.name][q.period]=t={};for(var ba=0;ba<q.values.length;++ba){y=q.values[ba];Object.keys(y.value).forEach(function(ca){if(!t.hasOwnProperty(ca))z[q.name][q.period][ca]=null;});}}else z[q.name][q.period]=null;}u=Math.round((n-v)/j);for(aa=0;aa<w;++aa){p=v;q=m.data[aa];r=typeof q.values[0].value==='object';s=0;x=q.period+'_timestamps';o=l.fillArray(u,null);z[q.name][x]=o;if(!r)z[q.name][q.period]=l.fillArray(u,null);for(ba=0;ba<q.values.length;++ba){y=q.values[ba];if(y.end_time-p>k)s+=Math.round((y.end_time-p)/j)-1;if(r){t=z[q.name][q.period];Object.keys(t).forEach(function(ca){if(t[ca]===null)t[ca]=l.fillArray(u,null);t[ca][ba+s]=y.value[ca]||0;});}else z[q.name][q.period][ba+s]=y.value;z[q.name][x][ba+s]=y.end_time;p=y.end_time;}}return {endTime:l.pacificSecondsToUTCDate(n),seriesLength:u,startTime:l.pacificSecondsToUTCDate(v+j),values:z};},formatParams:function(m){var n=g({},m);n.date_format='U';if(m.since)n.since=this.utcDateToPacificSeconds(m.since);if(m.until)n.until=this.utcDateToPacificSeconds(m.until);return n;},localTimeToPacificDate:function(m){return new Date(m.getTime()+i.offsetFromPacificTime(m));},pacificSecondsToUTCDate:function(m){var n=m*1000;return new Date(n+i.getPacificOffsetAt(n));},utcDateToPacificSeconds:function(m){return this.dateToSeconds(m)-Math.round(i.getPacificOffsetAt(m)/1000);},pacificTimeToUTCDay:function(m){return h.utc.floor(new Date(m.getTime()+i.getPacificOffsetAt(m)));},utcTimeToPacificDay:function(m){return new Date(h.utc.floor(m).getTime()-i.getPacificOffsetAt(m));},getMostRecentPacificDayBegin:function(m){var n=m.getTime(),o=n+i.getPacificOffsetAt(n),p=h.utc.floor(new Date(o)).getTime(),q=new Date(p-i.getPacificOffsetAt(p));return q;},fillArray:function(m,n){var o=new Array(m);for(var p=0;p<m;)o[p++]=n;return o;},getRangeIndices:function(m,n){return [l.millisecondsToDays(n.since-m)+1,l.millisecondsToDays(n.until-m)];},millisecondsToDays:function(m){var n=1000*60*60*24;return Math.round(m/n);},sliceData:function(m,n,o){var p=l.getRangeIndices(n,o);return m.slice(p[0],p[1]+1);},moveRange:function(m,n){var o=n||-7;return {since:h.utc.offset(m.since,o),until:h.utc.offset(m.until,o)};},chartHasDataToRender:function(m){return m.lines&&m.lines.length||m.areas&&m.areas.length;}};e.exports=l;},null);
__d("HubbleApiWrapper",["HubbleApiClient","HubbleContext","HubbleConstants","HubblePostUtils","InsightsUtils","PIAPIResponseSanityCheck","SanityCheckAdapter","d3/time/day","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(r){return function(s){var t=null;if(s.cursor){var u=s.posts[s.posts.length-1].created_time;t=function(v){g.getPosts({cursor:s.cursor,type:s.type,until:u},p(v));};}else if(s.paging&&s.paging.next)t=function(v){g.getRaw(s.paging.next,{},p(v));};r(s,t);};}var q={_formatPageInsightsPerPostResponse:function(r,s){var t={},u=/^([^\/]+)\//;s.data.forEach(function(v){var w=u.exec(v.id);if(!w||!w[1])return;var x=w[1],y;if(t.hasOwnProperty(x)){y=t[x];}else{t[x]=y={};r.forEach(function(z){y[z]=null;});}y[v.name]=v.values[0].value;});return t;},getPageInfo:function(r,s){var t='';g.get(t,r,s);},getPageInsights:function(r,s){r=k.formatParams(r);g.get('/insights',r,function(t){o(m.check.bind(m,l,[r,t],{metrics:JSON.stringify(r.metric),pageID:h.getPageID()}));s(k.formatInsightsResponse(t));});},getPageInsightsPerPost:function(r,s){r=k.formatParams(r);function t(u){return p(function(v,w){var x=!w?null:function(y){w(t(y));};u(q._formatPageInsightsPerPostResponse(r.metric,v),x);});}g.get('/insights',r,t(s));},getPostInsights:function(r,s){g.getRaw('/insights',r,function(t){s(j._formatPostInsightsResponse(r.metric,t));});},getPostsByIDs:function(r,s){r=k.formatParams(r);g.getPosts(r,s);},getPosts:function(r,s){r=k.formatParams(r);g.getPosts(r,p(s));},getTotalPageLikes:function(r){if(h.get('globalBrandV1ParentID')){var s=i.PERIOD_LIFETIME,t=h.get('mostRecentTimes')[i.PIPELINE_LIFETIME];q.getPageInsights({metric:['page_fans'],period:i.PERIOD_LIFETIME,until:t,since:n.utc.offset(t,-1)},function(u){r(u.values.page_fans[s]);});}else if(h.get('globalBrandV2RootID')){q.getPageInfo({fields:['country_page_likes']},function(u){r(u.country_page_likes);});}else q.getPageInfo({fields:['likes']},function(u){r(u.likes);});}};e.exports=q;},null);
__d("HubblePostsDataLayer",["AsyncRequest","HubbleApiWrapper","HubbleConstants","HubbleContext","HubblePostUtils","fbt","getOwnObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=250,o=['post_video_avg_time_watched','post_video_complete_views_organic','post_video_complete_views_organic_unique','post_video_complete_views_paid','post_video_complete_views_paid_unique','post_video_length','post_video_retention_graph','post_video_views_organic','post_video_views_organic_unique','post_video_views_paid','post_video_views_paid_unique'],p=o.concat(['post_video_avg_time_watched_by_ad_id','post_video_complete_views_paid_by_ad_id','post_video_complete_views_paid_by_ad_id_unique','post_video_retention_graph_by_ad_id','post_video_views_paid_by_ad_id','post_video_views_paid_by_ad_id_unique']),q=['post_video_avg_time_watched','post_video_complete_views_30s','post_video_complete_views_30s_autoplayed','post_video_complete_views_30s_clicked_to_play','post_video_complete_views_30s_organic','post_video_complete_views_30s_paid','post_video_complete_views_30s_unique','post_video_length','post_video_retention_graph','post_video_retention_graph_autoplayed','post_video_retention_graph_clicked_to_play','post_video_sound_on','post_video_starts','post_video_starts_autoplayed','post_video_starts_clicked_to_play','post_video_starts_organic','post_video_starts_paid','post_video_starts_unique','post_video_views','post_video_views_autoplayed','post_video_views_clicked_to_play','post_video_views_organic','post_video_views_paid','post_video_views_unique'],r,s;function t(fa,ga,ha){var ia=false;fa(function(ja,ka){if(!ia)ga(ja,ka);},function(ja,ka){if(!ia)ha(ja,ka);});return function(){ia=true;};}function u(fa){return {aggregate:{averageTimeWatched:fa.post_video_avg_time_watched,completedViews:{repeat:{organic:fa.post_video_complete_views_organic-fa.post_video_complete_views_organic_unique,paid:fa.post_video_complete_views_paid-fa.post_video_complete_views_paid_unique},total:{organic:fa.post_video_complete_views_organic,paid:fa.post_video_complete_views_paid},unique:{organic:fa.post_video_complete_views_organic_unique,paid:fa.post_video_complete_views_paid_unique}},views:{repeat:{organic:fa.post_video_views_organic-fa.post_video_views_organic_unique,paid:fa.post_video_views_paid-fa.post_video_views_paid_unique},total:{organic:fa.post_video_views_organic,paid:fa.post_video_views_paid},unique:{organic:fa.post_video_views_organic_unique,paid:fa.post_video_views_paid_unique}},viewingBehavior:m(fa.post_video_retention_graph)},videoLength:fa.post_video_length};}function v(fa){return {aggregate:{averageTimeWatched:fa.post_video_avg_time_watched,completedViews:{autoplayed:fa.post_video_complete_views_30s_autoplayed,clickedToPlay:fa.post_video_complete_views_30s_clicked_to_play,organic:fa.post_video_complete_views_30s_organic,paid:fa.post_video_complete_views_30s_paid,repeat:fa.post_video_complete_views_30s-fa.post_video_complete_views_30s_unique,unique:fa.post_video_complete_views_30s_unique},playsWithSoundOn:fa.post_video_sound_on,videoStarts:fa.post_video_starts,views:{autoplayed:fa.post_video_views_autoplayed,clickedToPlay:fa.post_video_views_clicked_to_play,organic:fa.post_video_views_organic,paid:fa.post_video_views_paid,repeat:fa.post_video_views-fa.post_video_views_unique,unique:fa.post_video_views_unique},starts:{autoplayed:fa.post_video_starts_autoplayed,clickedToPlay:fa.post_video_starts_clicked_to_play,organic:fa.post_video_starts_organic,paid:fa.post_video_starts_paid,repeat:fa.post_video_starts-fa.post_video_starts_unique,unique:fa.post_video_starts_unique},viewingBehaviorAutoplayed:m(fa.post_video_retention_graph_autoplayed),viewingBehaviorClickedToPlay:m(fa.post_video_retention_graph_clicked_to_play),viewingBehavior:m(fa.post_video_retention_graph)},videoLength:fa.post_video_length};}function w(fa){var ga=fa.post_video_avg_time_watched_by_ad_id,ha=fa.post_video_complete_views_paid_by_ad_id,ia=fa.post_video_complete_views_paid_by_ad_id_unique,ja=fa.post_video_views_paid_by_ad_id,ka=fa.post_video_views_paid_by_ad_id_unique,la=fa.post_video_retention_graph_by_ad_id,ma=ga?Object.keys(ga):[],na={},oa=1;ma.forEach(function(pa){var qa=l._("Ad {placement number}",[l.param("placement number",oa)]);oa++;na[pa]={averageTimeWatched:ga[pa],completedViews:{total:{organic:0,paid:ha[pa]},unique:{organic:0,paid:ia[pa]}},label:qa,views:{total:{organic:0,paid:ja[pa]},unique:{organic:0,paid:ka[pa]}},viewingBehavior:m(la[pa])};});return na;}function x(fa){return fa.message||fa.name||fa.caption||fa.description||fa.story||fa.picture;}function y(fa){return fa.id;}function z(fa,ga,ha){var ia=[];for(var ja in fa)if(fa.hasOwnProperty(ja))ia.push(ja);if(!ia.length){ha([]);return;}var ka=1,la=null,ma={};function na(){var oa=[];for(var pa in fa)if(la.hasOwnProperty(pa)&&fa.hasOwnProperty(pa)){var qa=la[pa];if(x(qa)){qa.insights=k.parseInsights(qa.type,fa[pa]);qa.promoteStatus=ma[pa];oa.push(qa);}}ga(oa);ha(oa);}if(j.get('canSeePromoteButton')){ka++;aa(ia.join(','),function(oa){ma=oa.getPayload();--ka;if(ka===0)na();});}h.getPostsByIDs({ids:ia.join(',')},function(oa){la={};oa.posts.forEach(function(pa){la[pa.id]=pa;});--ka;if(ka===0)na();});}function aa(fa,ga){var ha=new g().setData({ids:fa}).setHandler(ga).setMethod('GET').setReadOnly(true).setURI('/ajax/pages/insights/promotion_status/');ha.send();}function ba(fa,ga,ha){var ia=fa.posts.filter(x);ga(ia);if(!ia.length){ha(ia);return;}var ja=ia.map(y).join(','),ka=1;if(j.get('canSeePromoteButton')){ka++;aa(ja,function(la){var ma=la.getPayload();ia.forEach(function(na){na.promoteStatus=ma[na.id];});if(--ka){ga(ia);}else ha(ia);});}h.getPostInsights({ids:ja,metric:k._metrics},function(la){ia.forEach(function(ma){ma.insights=k.parseInsights(ma.type,la[ma.id]);});if(--ka){ga(ia);}else ha(ia);});}function ca(fa,ga,ha){var ia=fa.posts.filter(x);ga(ia);if(!ia.length){ha(ia);return;}var ja=ia.map(y).join(',');h.getPostInsights({ids:ja,metric:k._metrics},function(ka){ia.forEach(function(la){la.insights=k.parseInsights(la.type,ka[la.id]);});ha(ia);});}function da(fa,ga,ha){return function(ia,ja){var ka=ja?function(na,oa){ja(da(fa,na,oa));}:null;function la(na){ga(na,ka);}function ma(na){ha(na,ka);}fa(ia,la,ma);};}var ea={validatePostInsightsMetric:function(fa,ga,ha,ia){var ja={};ja.insights=fa;ja.id=ga;ja.type=ha;ja.created_time=ia;},getActivePostsSortedByMetric:function(fa,ga,ha,ia,ja,ka){ha.since<j.get('earliestActivePostsData');if(r)r();r=t(function(la,ma){h.getPageInsightsPerPost({active_post:1,limit:ia,metric:['post_lcs_imps_clicks'],since:ha.since,sort_dir:ga,sort_metric:fa,until:ha.until},da(z,la,ma));},ja,ka);},getPostsSortedByMetric:function(fa,ga,ha,ia,ja,ka){if(r)r();r=t(function(la,ma){h.getPageInsightsPerPost({metric:k._metrics.concat(fa),limit:ia,since:ha.since,until:ha.until,sort_metric:fa,sort_dir:ga},da(z,la,ma));},ja,ka);},getPostsByDescendingDate:function(fa,ga,ha,ia,ja,ka){var la=fa?{since:fa.since,until:fa.until}:{},ma=Object.assign({},la,{fields:ka,limit:ga,type:ja});if(ja===i.REQ_PREMIUM_VIDEO){if(s)s();s=t(function(na,oa){h.getPosts(ma,da(ba,na,oa));},ha,ia);}else{if(r)r();r=t(function(na,oa){h.getPosts(ma,da(ba,na,oa));},ha,ia);}},getPostsMetrics:function(fa,ga,ha,ia){h.getPosts({limit:ga,since:fa.since,until:fa.until},function(ja){ca(ja,ha,ia);});},getPostsMetricsByPostType:function(fa,ga,ha){var ia={all:{},everyone:{paid:{},organic:{}},targeted:{paid:{},organic:{}}};function ja(na){var oa=na.privacy.value==='EVERYONE'||na.privacy.value==='',pa=oa?ia.everyone:ia.targeted;return na.insights.reachByType.paid?pa.paid:pa.organic;}function ka(na,oa){var pa=na[oa.type];if(!pa)na[oa.type]=pa={clicks:0,lcs:0,reach:0,count:0};pa.clicks+=oa.insights.clicks;pa.lcs+=oa.insights.lcs;pa.reach+=oa.insights.reach;pa.count++;}function la(na){ga();}function ma(na){na.forEach(function(oa){ka(ja(oa),oa);ka(ia.all,oa);});ha(ia);}ea.getPostsMetrics(fa,n,la,ma);},getPostMetricsByID:function(fa,ga,ha,ia){h.getPostInsights({ids:fa,metric:k._metrics},function(ja){var ka={insights:k.parseInsights(ga,ja[fa])};ha(ka);ia(ka);});},getPostVideoMetricsByID:function(fa,ga){h.getPostInsights({ids:fa,metric:o},function(ha){ga({videoInsights:u(ha[fa])});});},getPostPremiumVideoMetricsByID:function(fa,ga){h.getPostInsights({ids:fa,metric:p},function(ha){var ia=u(ha[fa]);ia.placements=w(ha[fa]);ga({videoInsights:ia});});},getPostVideoMetricsWithAutoplay:function(fa,ga){h.getPostInsights({ids:fa,metric:q},function(ha){ga({videoInsights:v(ha[fa])});});}};e.exports=ea;},null);
__d("HubbleSanityChecks",["PIReachGtEngmtSanityCheck","SanityCheckAdapter"],function(a,b,c,d,e,f,g,h){var i={checkReachGtEngmt:function(j){return h.check(g,[j.insights.reach,j.insights.engagedUsers,j.created_time],{postClicks:j.insights.clicks,postCreationTime:j.created_time,postEngagedUsers:j.insights.engagedUsers,postID:j.id,postLCS:j.insights.lcs,postPaidReach:j.insights.reachByType.paid,postReach:j.insights.reach,postType:j.type});}};e.exports=i;},null);
__d("HubbleUtils",["BusinessConf","InsightsUtils","React","SpectrumTooltipData","SpectrumTooltipDescription","URI","UTCUtils","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){return {ageBuckets:{'13-17':0,'18-24':0,'25-34':0,'35-44':0,'45-54':0,'55-64':0,'65+':0},total:0};}var q={aggregateValues:function(r){var s=null;Object.keys(r).forEach(function(t,u){if(s===null)s=h.fillArray(r[t].length,null);r[t].forEach(function(v,w){if(v!=null&&s!=null)s[w]+=v;});});return s;},apiGenderToText:function(r){switch(r){case 'F':return "Women";case 'M':return "Men";case 'U':return "Unknown";default:}},isDataValid:function(r){var s=r!==(void 0),t=typeof r==='object'&&Object.keys(r).length;return s&&t;},constructNewBaseInsightsURI:function(){var r=l.getNextURI(),s=new l(r.getPath()),t=g.BIZ_ID_PARAM_NAME;if(r.getQueryData().sk)s.setQueryData({sk:r.getQueryData().sk});if(r.getQueryData().hasOwnProperty(t)){s.addQueryData(t,r.getQueryData()[t]);s.setSubdomain(g.DOMAIN);}s.removeQueryData(['section','subsection']);return s;},mergeKeyedDataSets:function(r){var s={};r.forEach(function(t){if(!t)return;Object.keys(t).forEach(function(u){if(s.hasOwnProperty(u)){var v=t[u].forEach?t[u]:Object.keys(t[u]);v.forEach(function(w,x){s[u][x]+=t[u][x];});}else s[u]=t[u];});});return s;},getSectionByName:function(r,s){for(var t=s.length-1;t>=0;--t)if(s[t].type.getName()===r)return s[t];},parseGenderAgeResponse:function(r){var s={F:p(),M:p(),total:0,U:p()};if(!this.isDataValid(r))return null;var t=Object.keys(r);t.forEach(function(u){var v=u.split('.');if(v.length!==2||!s.hasOwnProperty(v[0])||!s[v[0]].ageBuckets.hasOwnProperty(v[1]))return;var w=r[u][r[u].length-1];s[v[0]].ageBuckets[v[1]]+=w;s[v[0]].total+=w;s.total+=w;});return s;},sliceDataForPreviousPeriod:function(r,s,t){var u=t.until-t.since,v={since:t.since-u,until:t.until-u},w=h.getRangeIndices(s,v);if(w[0]<0)w[0]=0;if(w[1]<0)w[1]=0;return r.slice(w[0],w[1]+1);},pairAndSortKeyedDataSet:function(r){var s,t,u;if(!this.isDataValid(r))return [];var v={};for(var w in r){t=0;u=u||r[w].length;s=-1;while(++s<u)t+=!!r[w][s]?r[w][s]:0;v[w]=t;}return (Object.keys(r).filter(function(x){return !!v[x];}).map(function(x){return [x,v[x]];}).sort(function(x,y){return y[1]-x[1];}));},summarizeKeyedDataSet:function(r,s){var t=q.pairAndSortKeyedDataSet(r),u,v,w={},x=t.length,y=x>s?1:0,z=Math.min(x,s-y);for(u=0;u<z;++u){v=t[u][0];w[v]=r[v];}if(y){var aa=null,ba=0,ca;u=s-2;while(++u<x){v=t[u][0];if(aa==null){ba=r[v].length;aa=h.fillArray(ba,null);}ca=-1;while(++ca<ba)if(r[v][ca]!=null)aa[ca]+=r[v][ca];}w["Others"]=aa;}return w;},groupKeyedDataSet:function(r,s){var t={};if(r)Object.keys(r).forEach(function(u){var v=s(u);if(t.hasOwnProperty(v)){for(var w=0;w<t[v].length;++w){var x=r[u][w];if(x!=null)t[v][w]+=r[u][w];}}else t[v]=r[u].slice();});return t;},groupKeyValuePair:function(r,s,t){var u={};if(r)Object.keys(r).forEach(function(v){var w=s(v);u[w]=t(v);});return u;},partialValue:function(r){return r.partial;},valueX:function(r){return r.x;},valueY:function(r){return r.y;},findNonZeroValueInValues:function(r){var s=r;if(r.valueY===0&&r.allData)for(var t=r.allData.length;t-->0;){var u=r.allData[t];if(u.valueY!==0){s=u;break;}}s.isPartial=r.isPartial;return s;},getCustomTooltipFormat:function(){var r=new Date();r.setHours(r.getHours()+m.offsetFromPacificTime(r));var s=q.findNonZeroValueInValues;return function(t){var u=s(t),v=u.title||u.label,w=u.yValueString,x,y;if(u.isPartial){x=o(r,'M d, Y ga');y=n._("as of {timestamp}",[n.param("timestamp",x)]);}else y=u.xValueString;var z=[i.createElement(k,{key:"desc"},v),i.createElement(j,{key:"data"},w),i.createElement(k,{key:"foot"},y)];return z;};}};e.exports=q;},null);
__d("HubbleAreaLineChart",["HubbleContext","HubbleStyle","HubbleUtils","InsightsBenchmarkLayer.react","React","SpectrumBrush","SpectrumChart","fbt","SpectrumIntegerScale","SpectrumLines","SpectrumMarker","SpectrumStackedAreas","SpectrumTooltipMenu","SpectrumXAxis","SpectrumYAxis","SpectrumVerticalLines","d3/time/day"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x=Math.ceil(h.LEFT_COL_CHART_WIDTH/8),y=-1,z=1,aa=k.createClass({displayName:"HubbleAreaLineChart",componentWillReceiveProps:function(ba){if(!Array.isArray(this.props.domain)||!Array.isArray(ba.domain))return;var ca=+this.props.domain[0],da=+this.props.domain[1],ea=+ba.domain[0],fa=+ba.domain[1],ga=this.state.expandDirection;if(ca==ea&&da!=fa){ga=z;}else if(ca!=ea&&da==fa)ga=y;this.setState({expandDirection:ga});},isTodayInDomain:function(){return (+this.props.domain[1]===+g.get('todayReportTime'));},getDefaultProps:function(){return {scaleYHasDomain:false};},getInitialState:function(){return {expandDirection:0};},_getSampleStep:function(ba){return Math.max(Math.ceil(ba/x),1);},render:function(){var ba=Array.isArray(this.props.areas)&&!!this.props.areas.length,ca=Array.isArray(this.props.lines)&&!!this.props.lines.length;if(!ba&&!ca)return null;var da=this.props.benchmarks,ea=this.props.partialValue,fa=this.props.valueX,ga=this.props.valueY;if(this._shouldSample()){ea=ea||i.partialValue;fa=fa||i.valueX;ga=ga||i.valueY;}var ha=0,ia=null,ja=null,ka=null;if(ba){ja=this.props.areas.map(this._sampleData);ha=ja[0].length;}if(ca){ka=this.props.lines.map(this._sampleData);ha=Math.max(ha,ka[0].length);}if(this.props.areaOffsets)ia=this._sampleData(this.props.areaOffsets).map(i.valueY);var la=ba?k.createElement(r,{base:this.props.base,data:ja,offset:ia,partialValue:ea,titles:this.props.areaTitles,valueX:fa,valueY:ga}):null,ma=ca?k.createElement(p,{data:ka,showGuide:this.props.showGuide,onClick:this.props.onClick,partialValue:ea,titles:this.props.lineTitles,valueX:fa,valueY:ga}):null,na=this.props.markers;if(Array.isArray(na)&&!!na.length)na=na.map(function(ua){return (k.createElement(q,{x:ua.x,y:ua.y},ua.label));});var oa;if(this.props.onSelection)oa="Click or drag to select";var pa=this.props.domain;if(Array.isArray(pa)){var qa=w.range(this.props.domain[0],this.props.domain[1]).length,ra=this._getSampleStep(qa);pa=pa.slice();var sa=qa-(1+(ra*(ha-1)));if(sa)if(this.state.expandDirection==y){pa[0]=w.utc.offset(pa[0],sa);}else pa[1]=w.utc.offset(pa[1],-1*sa);}var ta=null;if(this.props.vlines)ta=k.createElement(v,{ticks:ha});return (k.createElement(m,{domain:pa,height:this.props.height,scaleY:this.props.scaleY||o(),scaleYHasDomain:this.props.scaleYHasDomain,theme:this.props.theme,width:this.props.width,onRequestFocus:this.props.onRequestFocus},la,ma,na,k.createElement(l,{onSelection:this.props.onSelection,selection:this.props.selection}),k.createElement(t,{secondaryTicks:this.props.secondaryTicks,ticks:ha}),ta,k.createElement(u,null),k.createElement(j,{benchmarks:da,visible:!!da}),k.createElement(s,{actionContent:oa,customFormat:this.props.customTooltipFormat})));},_sampleData:function(ba){if(!this._shouldSample())return ba;var ca,da,ea=[],fa=this._getSampleStep(ba.length);if(this.state.expandDirection==y){var ga=Math.ceil(ba.length/fa);for(ca=ba.length-1,da=ga-1;ca>=0;ca-=fa){ea[da]={partial:ca===ba.length-1&&this.isTodayInDomain(),x:w.utc.offset(this.props.domain[1],(da-ga)*fa),y:ba[ca]};--da;}}else for(ca=0,da=0;ca<ba.length;ca+=fa){ea[da]={partial:ca===ba.length-1&&this.isTodayInDomain(),x:w.utc.offset(this.props.domain[0],da*fa),y:ba[ca]};++da;}return ea;},_shouldSample:function(){return Array.isArray(this.props.domain);}});e.exports=aa;},null);
__d("HubblePostDetailsDrillDown",["InsightsInfoTip.react","HubbleLogger","HubblePostView.react","HubblePrimaryMetric.react","HubbleSecondaryMetric.react","HubbleSecondaryMetricGroup.react","LeftRight.react","React","cx","fbt","getOwnObjectValues","sumOfArray"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={total:"Likes",onPost:"On Post",onShares:"On Shares"},t={total:"Comments",onPost:"On Post",onShares:"On Shares"},u={total:"Shares",onPost:"On Post",onShares:"On Shares"},v={hide_clicks:"Hide Post",hide_all_clicks:"Hide All Posts"},w={report_spam_clicks:"Report as Spam",unlike_page_clicks:"Unlike Page"},x=null,y={other:"Clicks not on the content of the post such as page title clicks, or clicks to \"see more\"",video_play:"The number of times your video started playing, after a person clicked to play it"},z="Video Views";function aa(da,ea){var fa=Object.keys(ea).map(function(ga){var ha=null;if(da.hasOwnProperty(ga)){if(y.hasOwnProperty(ga)){ha=n.createElement(g,{tip:y[ga]},ea[ga]);}else ha=ea[ga];return (n.createElement(k,{decoration:k.DECORATION.ruled,label:ha,number:da[ga]}));}});return (n.createElement(l,{className:"_3uhz"},fa));}function ba(da,ea){var fa=Object.keys(ea).map(function(ga){if(da.hasOwnProperty(ga))return (n.createElement(k,{layout:k.LAYOUT.flat,label:ea[ga],number:da[ga]}));});return (n.createElement(l,null,fa));}var ca=n.createClass({displayName:"HubblePostDetailsDrillDown",getDefaultProps:function(){return {showVideoViews:false};},componentWillMount:function(){h.logAction('show_post_drilldown');},getClickLabels:function(){if(!x)x={photo_view:"Photo Views",video_play:"Clicks to Play",link:"Link Clicks",other:"Other Clicks"};return x;},render:function(){var da=null;if(this._isLoaded()){var ea=this.props.metrics.lcsTotal,fa=this.props.metrics.lcsFromPage,ga=this.props.metrics.lcsFromPage,ha={like:ea.like-fa.like,comment:ea.comment-fa.comment,share:ea.share-fa.share},ia=null;if(this.props.showVideoViews)ia=n.createElement("div",{className:"_55k0"},n.createElement(j,{label:z,number:this.props.metrics.videoViews}));var ja=function(ka){var la={};la.total=ea[ka];la.onPost=ga[ka];la.onShares=ha[ka];return la;};da=[n.createElement("div",{className:"_55k0"},n.createElement(j,{label:"People Reached",number:this.props.metrics.reach})),ia,n.createElement("div",{className:"_55k0"},n.createElement(j,{label:"Likes, Comments & Shares",number:r(q(ea))})),n.createElement("div",{className:"_3uh-"},aa(ja('like'),s),aa(ja('comment'),t),aa(ja('share'),u))];if(this.props.metrics.clicks)da.push(n.createElement("div",{className:"_55k0"},n.createElement(j,{className:"mbm",label:"Post Clicks",number:r(q(this.props.metrics.clicks))}),aa(this.props.metrics.clicks,this.getClickLabels())));if(this.props.metrics.negative)da.push(n.createElement("div",{className:"_55k0"},n.createElement("div",{className:"_55k1"},"Negative Feedback"),ba(this.props.metrics.negative,v),ba(this.props.metrics.negative,w)));}return (n.createElement("div",{className:"_55ii"},n.createElement(m,null,n.createElement("div",{className:"_55ij"},n.createElement(i,{identifier:this.props.identifier})),n.createElement("div",null,da))));},_isLoaded:function(){return !!(this.props.metrics.lcsFromPage&&this.props.metrics.lcsTotal);}});e.exports=ca;},null);
__d("HubblePostDrillDownDataLayerMixin",["Arbiter","HubbleLogger","HubblePostsDataLayer","HubbleSanityChecks"],function(a,b,c,d,e,f,g,h,i,j){var k={_subscription:null,__initialPostDetailsState:{clicks:null,lcsFromPage:null,lcsTotal:null,negative:null,reach:null},componentWillMount:function(){this._subscription=g.subscribe('hubble/lcsFromServer',this.handleNewFeedbackFromServer);i.getPostMetricsByID(this.props.postID,this.props.postType,this.handleNewInsights,this.handleNewInsights);},componentWillUnmount:function(){this._unsubscribe();},handleNewFeedbackFromServer:function(l,m){if(m.identifier!==this.props.postIdentifier)return;this._unsubscribe();var n={comment:m.commentCount,like:m.likeCount,share:m.shareCount},o={lcsFromPage:n};if(this.state.lcsTotal)o.lcsTotal=this.correctLcsTotal(this.state.lcsTotal,n);this.setState(o);},handleNewInsights:function(l){if(!l.insights)return;var m=l.insights.lcsByType;if(this.state.lcsFromPage)m=this.correctLcsTotal(m,this.state.lcsFromPage);this.setState({clicks:l.insights.clicksByType,lcsTotal:m,negative:l.insights.negativeFeedbackByType,reach:l.insights.reach,videoViews:l.insights.videoViews});j.checkReachGtEngmt(Object.assign({created_time:this.props.postCreatedTime,id:this.props.postID,type:this.props.postType},l));i.validatePostInsightsMetric(l.insights,this.props.postID,this.props.postType,this.props.postCreatedTime);},correctLcsTotal:function(l,m){var n={};for(var o in m)if(l[o]<m[o]){n[o]=m[o];h.logAction('lcs_total_less_than_lcs_from_page');}else n[o]=l[o];return n;},getDetailsMetrics:function(){return {clicks:this.state.clicks,lcsFromPage:this.state.lcsFromPage,lcsTotal:this.state.lcsTotal,negative:this.state.negative,reach:this.state.reach,videoViews:this.state.videoViews};},_unsubscribe:function(){this._subscription&&this._subscription.unsubscribe();}};e.exports=k;},null);
__d("HubbleDefaultPostDrillDown",["HubblePostDetailsDrillDown","HubblePostDrillDownDataLayerMixin","React"],function(a,b,c,d,e,f,g,h,i){var j=i.createClass({displayName:"HubbleDefaultPostDrillDown",mixins:[h],getInitialState:function(){return this.__initialPostDetailsState;},render:function(){return (i.createElement(g,{identifier:this.props.postIdentifier,metrics:this.getDetailsMetrics(),postID:this.props.postID}));}});e.exports=j;},null);
__d("HubbleDrillDownMixin",["React","LayerPageContent.react","LayerPage.react","ReactLayeredComponentMixin","XUICloseButton.react","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=l({},j,{__initialDrillDownState:{drilldownProps:{},showDrillDown:false},onToggleDrillDown:function(o){if(!o&&this.state.showDrillDown)this.setState({drilldownProps:{},showDrillDown:false});},onCloseButtonClick:function(){this.onToggleDrillDown(false);},renderLayers:function(){if(!this.state.showDrillDown||!this.props.drilldown){if(this._renderLayersHook)return this._renderLayersHook();return null;}var o=this.props.drilldown;l(o.props,this.state.drilldownProps);return {drilldown:g.createElement(i,{layerRootClass:"_55vx",onToggle:this.onToggleDrillDown,shown:true,width:915},g.createElement(h,{useCustomPadding:true},g.createElement("div",{className:"_55m4"},g.createElement(k,{className:"_55ng",onClick:this.onCloseButtonClick}),o.type.getHeaderText(o.props)),o))};}});e.exports=n;},null);
__d("HubbleTabbedDrillDown",["InsightsDateRange.react","InsightsTabbedSection.react","InsightsTabbedSections.react","React","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.createClass({displayName:"HubbleTabbedDrillDown",statics:{getHeaderText:function(n){return (j.createElement(g,{from:n.selection[0],to:n.selection[1],utc:true}));}},getInitialState:function(){return {activeKey:null};},render:function(){var n=this.props.drilldowns.map(function(o,p){k(o.props,this.props);var q=this.props.flush?"_42s2":null,r=Array.isArray(this.props.nubSources)?this.props.nubSources[p]:this.props.nubSources;return (j.createElement(h,{className:q,key:o.key,sectionKey:o.key,title:o.props.title,nubSource:r},o));},this);return (j.createElement(i,{activeKey:this.state.activeKey,children:n,onTabClick:this.showSection}));},showSection:function(n){this.setState({activeKey:n.type.getKey(n.props)});}});e.exports=m;},null);
__d("HubbleVideoPostViewsDrillDownStatPanel.react",["Image.react","InsightsNumUtils","LeftRight.react","React","XUIGrayText.react","XUIText.react","cx","fbt","d3/time/format","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q={averageViewDuration:"Average View Duration",playedWithSound:"Played with Sound On",peopleReached:"People Reached",playedWithSoundTip:"The percentage of videos played with the sound turned on."},r=j.createClass({displayName:"HubbleVideoPostViewsDrillDownStat",render:function(){return (j.createElement(i,null,j.createElement(k,{size:"medium",weight:"bold",shade:"medium",className:"_vp2"},this.props.children[0]),j.createElement(l,{className:"_vp3"},this.props.children[1])));}}),s=j.createClass({displayName:"HubbleVideoPostViewsDrillDownStatPanel",render:function(){var t=o('%-M:%S'),u=this.props.playedWithSoundOn,v=this.props.playsWithSoundOnEnabled,w=[j.createElement(r,null,q.averageViewDuration,t(new Date(this.props.avgTimeWatched)))];if(v)w.push(j.createElement(r,null,j.createElement("div",null,q.playedWithSound,j.createElement(g,{"aria-label":q.playedWithSoundTip,className:"_vp4","data-hover":"tooltip",src:p({name:'info-solid',shade:'dark',size:'small'})})),n._("{percentage indicator}\u0025",[n.param("percentage indicator",u)])));w.push(j.createElement(r,null,q.peopleReached,h.prettyInt(this.props.number)));return (j.createElement("div",{className:"_32fe"},w));}});e.exports=s;},null);
__d("HubbleVideoPostViewsDrillDown",["Grid.react","HubbleAreaLineChart","HubbleContext","HubbleLogger","HubbleVideoMetricConfig","HubbleVideoMetricLabels","HubbleVideoMetric.react","HubbleVideoMetricSelector.react","HubbleVideoPostViewsDrillDownStatPanel.react","HubbleVideoView.react","InsightsNumUtils","InsightsTableLegend.react","SpectrumPercentageScale","React","SpectrumStyle","SpectrumTimeSpanScale","XUIText.react","XUIGrayText.react","cx","fbt","d3/time/format"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba=g.GridItem,ca={videoImpressions:u.TROUT},da={audienceRetention:"Views of your video at each moment as a percentage of all views, including views shorter than 3 seconds.",videoViews:"The number of times your video was viewed for 3 seconds or more.",videoViewsTo95:"The number of times your video was viewed to 95\u0025 of its length."},ea={videoViews:"Paid Video Views",videoViewsTo95:"Paid Video Views to 95\u0025"},fa={audienceRetention:"Audience Retention",selectorLabel:"SHOW METRICS FOR:",videoViews:"Video Views",videoViewsTo95:"Video Views to 95\u0025"},ga=t.createClass({displayName:"HubbleVideoPostViewsDrillDown",componentWillMount:function(){j.logAction('show_video_views_drilldown');this._videoApi=null;},componentDidMount:function(){j.logAction('view_video_tab');},componentWillUnmount:function(){this._request&&this._request.abandon();},getInitialState:function(){return {videoLoaded:false,audienceRetentionShowAutoplay:false};},render:function(){var ha=this.props.metrics.averageTimeWatched,ia=aa('%-M:%S'),ja=ha/this.props.videolength,ka=null;if(this.props.videoViewVersion==='1.1'){var la=this.props.metrics.playsWithSoundOn,ma=i.get('videoMetricsSoundEnabled'),na=i.get('videoMetricsPlaysEnabled');ka=[t.createElement(o,{avgTimeWatched:ha,number:this.props.number,playedWithSoundOn:la,playsWithSoundOnEnabled:ma})];}else ka=[t.createElement("div",{className:"_5v6t",key:'averageTimeWatched'},t.createElement("div",{className:"_5v6u"},ia(new Date(ha))),t.createElement("div",{className:"_5v6v"},z._("Average Duration of Video Viewed ({avgTimeWatched})",[z.param("avgTimeWatched",q.prettyPercent(ja,2))])))];var oa;if(this.props.videoViewVersion==='1.1'){ka.push(t.createElement("div",{className:"_5v6t",key:"selector"},t.createElement(x,{display:"block",weight:"bold",className:"_5lsd"},fa.selectorLabel),t.createElement(n,{metrics:this.props.metrics,playsEnabled:na,onBreakdownChange:this._onSelectorBreakdownChange})));if(this.state.audienceRetentionShowAutoplay){oa=this._renderAudienceRetentionWithAutoplay();}else oa=this._renderAudienceRetention();}else{var pa=this.props.metrics.views,qa=pa.total.organic&&pa.unique.organic?fa.videoViews:ea.videoViews;ka.push(t.createElement("div",{className:"_5v6t",key:'videoViews'},t.createElement(m,{metrics:this.props.metrics.views,subtitle:da.videoViews,title:qa})));var ra=this.props.metrics.completedViews,sa=ra.total.organic&&ra.unique.organic?fa.videoViewsTo95:ea.videoViewsTo95;ka.push(t.createElement("div",{className:"_5v6t",key:'videoViewsTo95'},t.createElement(m,{metrics:this.props.metrics.completedViews,subtitle:da.videoViewsTo95,title:sa})));oa=this._renderAudienceRetention();}return (t.createElement(g,{cols:2,alignv:"top",align:"center",className:"_5lse"},t.createElement(ba,null,oa),t.createElement(ba,{className:"_5v6x"},ka)));},_onChartClick:function(ha){this._videoSeek(ha);},_onChartFocus:function(ha){this._videoSeek(ha);},_videoSeek:function(ha){if(ha)if(this.state.videoLoaded)this._videoApi.seek(ha.valueX/1000);},_renderAudienceRetentionTitle:function(){return (t.createElement("div",{className:"_3-96"},t.createElement(w,{size:"large",weight:"bold",display:"block"},fa.audienceRetention),t.createElement(x,{size:"small",shade:"light",display:"block"},da.audienceRetention)));},_renderAudienceRetention:function(){var ha=t.createElement(h,null),ia=[],ja=this.props.videolength,ka=ja/4,la=.25;for(var ma=ka;ma<ja;ma+=ka,la+=.25)ia.push({x:ma,label:q.prettyPercent(la)});var na=this.props.metrics.viewingBehavior;Object.assign(ha.props,{domain:v().domain([0,ja]),height:200,lines:[na],markers:ia,showGuide:true,onClick:this._onChartClick,onRequestFocus:this._onChartFocus,scaleY:s().domain([0,1]),secondaryTicks:true,theme:{lines:{colors:[ca.videoImpressions],markers:false}},width:600});var oa=[{colors:[ca.videoImpressions],label:l.viewsLegendLabel}];return (t.createElement("div",{className:"_5lsj"},this._renderAudienceRetentionTitle(),t.createElement("div",{className:"_53zo"},t.createElement(r,{legendData:oa})),t.createElement("div",{className:"_5v6-"},ha),t.createElement(p,{width:600,height:338,identifier:this.props.identifier,onVideoLoaded:this._videoDidLoad})));},_renderAudienceRetentionWithAutoplay:function(){var ha=t.createElement(h,null),ia=this.props.videolength,ja=this.props.metrics.viewingBehaviorAutoplayed,ka=this.props.metrics.viewingBehaviorClickedToPlay;if(ja.length===1)ja=[1];if(ka.length===1)ka=[1];var la=k.typeColors.autoplayed,ma=k.typeColors.clickedToPlay;Object.assign(ha.props,{domain:v().domain([0,ia]),height:200,lines:[ja,ka],showGuide:true,onClick:this._onChartClick,onRequestFocus:this._onChartFocus,scaleY:s().domain([0,1]),secondaryTicks:true,theme:{lines:{colors:[la,ma],markers:false}},width:600});var na=[{colors:[la],label:l.autoplayed},{colors:[ma],label:l.clickedToPlay}];return (t.createElement("div",{className:"_5lsj"},this._renderAudienceRetentionTitle(),t.createElement("div",{className:"_53zo"},t.createElement(r,{legendData:na})),t.createElement("div",{className:"_5v6-"},ha),t.createElement("div",null,t.createElement(p,{width:600,height:338,identifier:this.props.identifier,onVideoLoaded:this._videoDidLoad}))));},_videoDidLoad:function(ha){this.setState({videoLoaded:true});this._videoApi=ha;},_onSelectorBreakdownChange:function(ha){this.setState({audienceRetentionShowAutoplay:ha=='autoplayed_clickedtoplay'});j.logAction('video_breakdown_change_'+ha);}});e.exports=ga;},null);
__d("HubbleVideoPostDrillDown",["HubblePostDetailsDrillDown","HubbleContext","HubblePostDrillDownDataLayerMixin","HubblePostsDataLayer","HubbleTabbedDrillDown","HubbleVideoPostViewsDrillDown","InsightsInfoTip.react","InsightsLoadingIndicator.react","React","XUISelector.react","copyProperties","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=p.Option,v={displaying:"Displaying",infoTip:"Showing insights for this video across all placements."},w=o.createClass({displayName:"HubbleVideoPostDrillDown",mixins:[i],getInitialState:function(){return q({activeVideoMetric:'aggregate',isLoaded:false},this.__initialPostDetailsState);},componentWillMount:function(){var x;if(this._showView1_1()){x=j.getPostVideoMetricsWithAutoplay;}else x=this.props.postType==='premiumVideo'?j.getPostPremiumVideoMetricsByID:j.getPostVideoMetricsByID;x(this.props.postID,this._handleVideoInsights);},render:function(){if(!this.state.isLoaded)return o.createElement(n,null);var x=this.state.activeVideoMetric==='aggregate'?this.state.videoMetrics.aggregate:this.state.videoMetrics.placements[this.state.activeVideoMetric],y=null;if(this._showView1_1()){y=[o.createElement(l,{creationTime:this.props.postCreatedTime,identifier:this.props.postIdentifier,key:"videoPostDrillDownViews",metrics:x,number:this.getDetailsMetrics().reach,title:"Video",videolength:this.state.videoMetrics.videoLength,videoViewVersion:"1.1"}),o.createElement(g,{identifier:this.props.postIdentifier,key:"videoPostDrillDownOverview",metrics:this.getDetailsMetrics(),showVideoViews:true,title:"Post"})];}else y=[o.createElement(g,{identifier:this.props.postIdentifier,key:"videoPostDrillDownOverview",metrics:this.getDetailsMetrics(),showVideoViews:true,title:"Details"}),o.createElement(l,{identifier:this.props.postIdentifier,key:"videoPostDrillDownViews",metrics:x,number:this.getDetailsMetrics().reach,title:"Video",videolength:this.state.videoMetrics.videoLength})];var z=[t('/images/components/Insights/InsightsTabbedSections/nub-wash.png'),t('/images/components/Insights/InsightsTabbedSections/nub.png')];if(this._showView1_1())z.reverse();var aa=o.createElement(k,o.__spread({},this.props,{drilldowns:y,flush:true,nubSources:z})),ba=null;if(this.state.videoMetrics)ba=this._renderCampaignSelector();return (o.createElement("div",{className:"_5uu1"},aa,ba));},_handleVideoInsights:function(x){this.setState({isLoaded:true,videoMetrics:x.videoInsights});},_onCampaignChange:function(x){this.setState({activeVideoMetric:x.value});},_renderCampaignSelector:function(){if(this.state.videoMetrics.placements){var x=Object.keys(this.state.videoMetrics.placements),y=x.length,z=[o.createElement(u,{value:"aggregate"},s._("All Placements ({numPlacements})",[s.param("numPlacements",y)]))],aa=this.state.videoMetrics.placements;x.forEach(function(ba){z.push(o.createElement(u,{value:ba},aa[ba].label));});return (o.createElement("div",{className:"_5v6l"},o.createElement("div",{className:"_5v6m lfloat"},s._("{label}:",[s.param("label",v.displaying)])),o.createElement("div",{className:"_5v6n lfloat"},o.createElement(p,{defaultValue:"aggregate",onChange:this._onCampaignChange},z)),o.createElement("div",{className:"_5v6o rfloat"},o.createElement(m,{tip:v.infoTip}))));}},_showView1_1:function(){var x=h.get('videoMetricsCutOffTime');return (h.get('videoMetricsVersion')=='1.1'&&x<=this.props.postCreatedTime);}});e.exports=w;},null);
__d("XPageAdminHomepagePanelLoggingController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pages\/homepage_panel\/logging\/",{});},null);
__d("HubblePostDrillDown",["AsyncRequest","HubbleContext","HubbleDefaultPostDrillDown","HubbleVideoPostDrillDown","PagesEventType","React","XPageAdminHomepagePanelLoggingController","XUIGrayText.react","copyProperties","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r={video:l.createElement(j,null),post:l.createElement(i,null)},s=l.createClass({displayName:"HubblePostDrillDown",statics:{getHeaderText:function(){return (l.createElement("div",null,"Post Details",l.createElement(n,{className:"_2kn"},"Reported stats may be delayed from what appears on posts")));}},getDrilldownComponent:function(){if(this._shouldRenderVideoDrillDown())return r.video;return r.post;},render:function(){var t=this.getDrilldownComponent();o(t.props,this.props);var u=this.props.postID.split("_"),v=u[0],w=m.getURIBuilder();new g().setURI(w.getURI()).setData({event_type:k.POST_DETAIL_VIEW,page_id:v,additional_data:{post_id:this.props.postID,post_type:this.props.postType,post_status_type:this.props.postStatusType,is_admin:true,ref:this.props.ref}}).send();return t;},_shouldRenderVideoDrillDown:function(){var t=h.get('minVideoInsightsCreationTime');return this.props.postStatusType===128&&this.props.postCreatedTime>=t;}});e.exports=s;},null);
__d("MercuryPagesChannelHandler",["ChannelConstants","MercuryChannelHandler","MessagingRealtimeConstants"],function(a,b,c,d,e,f,g,h,i){for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){"use strict";if(h!==null)h.apply(this,arguments);}l.prototype.__markAsSeen=function(m,n){"use strict";if(this.isPayloadForCurrentInstance(n))k.__markAsSeen.call(this,m,n);};l.prototype.__updateModelsFromMercuryPayload=function(m,n){"use strict";if(this.isPayloadForCurrentInstance(n))k.__updateModelsFromMercuryPayload.call(this,m,n);};l.prototype.__handleMessagingPayload=function(m,n){"use strict";if(this.isPayloadForCurrentInstance(n))k.__handleMessagingPayload.call(this,m,n);};l.prototype.getRouting=function(){"use strict";return {pages_messaging:this.__handleMessagingPayload};};l.prototype.__getMessagingPayloadType=function(){"use strict";return g.getArbiterType('pages_messaging');};l.prototype.__getMercuryPayloadType=function(){"use strict";return null;};l.prototype.__getInboxPayloadType=function(){"use strict";return null;};l.prototype.isPayloadForCurrentInstance=function(m){"use strict";var n=m.obj[i.VIEWER_FBID]+'',o=k.getInstanceFBID.call(this)+'';return (n===o);};e.exports=l;},null);
__d("PagesPostEngagementTypes",[],function(a,b,c,d,e,f){var g={VIDEO:1};e.exports=g;},null);
__d("PagesPostReachBar",["HubblePostMetricConfig","InsightsBackgroundBar.react","Link.react","React","HubbleApiWrapper","HubblePostDrillDown","HubbleDrillDownMixin","HubbleContext","PagesPostEngagementTypes","SpectrumIntegerScale","d3/scale/ordinal","cx","fbt","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=b('ads-lib-formatters').createIntlNumberFormatter(),u=j.createClass({displayName:"PagesPostReachBar",mixins:[m],propTypes:{drilldown:j.PropTypes.element},getDefaultProps:function(){return {drilldown:j.createElement(l,null)};},getInitialState:function(){return {showDrilldown:false};},handlePost:function(v){var w=v.posts.shift();if(!w)return;this.setState({drilldownProps:{postCreatedTime:w.created_time,postID:w.id,postIdentifier:w.identifier,postStatusType:w.status_type,postType:w.type,ref:'post_reach_bar'},showDrillDown:true});return false;},_onReachBarClick:function(v){if(n.getPageID())k.getPostsByIDs({ids:this.props.page_id+'_'+this.props.story_id},this.handlePost);return false;},_renderMetricsBar:function(v,w){var x=q().range(g.types.reach.colors),y=p().domain([0,v+w]),z=((!this.props.is_long_locale?"__jg":'')+(this.props.is_long_locale?' '+"_3pua":''));if(w!==0)return (j.createElement("div",{className:z},j.createElement(h,{colors:x,label:false,scale:y,short:true,titles:g.splits.acquisition.titles,values:[v,w]})));return null;},_getEngagementText:function(v){switch(this.props.relevant_engagement_type){case o.VIDEO:if(v===1){return (j.createElement("div",null,s._("{video play number} video view",[s.param("video play number",t(v))])));}else return (j.createElement("div",null,s._("{video play number} video views",[s.param("video play number",t(v))])));}return null;},render:function(){var v=null,w=null;if(this.props.relevant_engagement_type){var x=this.props.relevant_engagement_organic,y=this.props.relevant_engagement_paid,z=x+y;v=this._renderMetricsBar(x,y);w=this._getEngagementText(z);}else{if(this.props.total_reach===0)return (j.createElement("div",null));var aa=this.props.total_reach,ba=this.props.paid_reach,ca=aa-ba;v=this._renderMetricsBar(ca,ba);var da=t(aa);if(aa==1){w=j.createElement("div",null,s._("{reach number} person reached",[s.param("reach number",da)]));}else w=j.createElement("div",null,s._("{reach number} people reached",[s.param("reach number",da)]));}if(this.props.link_text_gk)w=j.createElement(i,null,w);var ea=(("__ji")+(v===null?' '+"_2cx6":''));return (j.createElement("div",{onClick:this._onReachBarClick},j.createElement("div",{className:ea},w),v));}});e.exports=u;},null);
__d("PagesMissions",["cx","ge","AsyncRequest","CSS","DOM","DOMScroll","Event","PagesBanzaiLogger","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=600,q=44,r={lastHighlighted:null,registerObjectiveClickAction:function(s,t,u,v){m.listen(s,'click',function(){n.logData(v,null);return this[t](u);}.bind(this));},clickButton:function(s){if(s)s.click();},getElementWithClass:function(s,t){var u=h(s);if(!u)return;var v=k.scry(u,t);if(v.length>0)return v[0];return null;},scrollToAndHighlight:function(s,t){if(this.lastHighlighted){j.removeClass(this.lastHighlighted,"_4n2n");this.lastHighlighted=null;}var u=this.getElementWithClass(s,t);if(u){l.scrollTo(u,p,false,false,q);j.addClass(u,"_4n2n");this.lastHighlighted=u;}},goToURI:function(s){(new o(s)).go();},callAjaxEndpoint:function(s){new i().setURI(s).send();},PagesMissionsAddProfilePictureObjectiveInfoAction:function(s){this.scrollToAndHighlight('fbPageFinchProfilePic','.profilePic');var t=this.getElementWithClass('fbPageFinchProfilePic',s.selector);this.clickButton(t);return false;},PagesMissionsAddCoverPhotoObjectiveInfoAction:function(s){this.scrollToAndHighlight('fbProfileCover','.'+"_117o");var t=this.getElementWithClass('fbProfileCover','.fbTimelineEditCoverButton');this.clickButton(t);return false;},PagesMissionsAddContactInfoObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.addContactInfoDialogURI);},PagesMissionsInviteFriendsObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.inviteFriendsURI);},PagesMissionsImportEmailContactsObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.contactsURI);},PagesMissionsPromotePageObjectiveInfoAction:function(s){this.callAjaxEndpoint(s.promotePageURI);},registerAddContactInfoDialogResponse:function(s){s.subscribe('success',function(t,event){var u=event.data.response;if(u.payload=='close_dialog'){s.hide();this.goToURI(window.location.pathname);}}.bind(this));}};e.exports=r;},null);
__d("ContextualDialogLockOnClick",["Event","LayerHideOnBlur","SubscriptionsHandler"],function(a,b,c,d,e,f,g,h,i){var j=1000;function k(l){"use strict";this.$ContextualDialogLockOnClick0=l;}k.prototype.enable=function(){"use strict";this.$ContextualDialogLockOnClick1=new i();this.$ContextualDialogLockOnClick1.addSubscriptions(this.$ContextualDialogLockOnClick0.subscribe('show',this.$ContextualDialogLockOnClick2.bind(this)),this.$ContextualDialogLockOnClick0.subscribe('hide',this.$ContextualDialogLockOnClick3.bind(this)),g.listen(this.$ContextualDialogLockOnClick0.getRoot(),'click',this.$ContextualDialogLockOnClick4.bind(this)),g.listen(this.$ContextualDialogLockOnClick0.getCausalElement(),'click',this.$ContextualDialogLockOnClick5.bind(this)));};k.prototype.disable=function(){"use strict";this.$ContextualDialogLockOnClick0.unlockHover();this.$ContextualDialogLockOnClick1.release();};k.prototype.$ContextualDialogLockOnClick2=function(){"use strict";if(this.$ContextualDialogLockOnClick0.hasBehavior(h)){this.$ContextualDialogLockOnClick0.disableBehavior(h);setTimeout(this.$ContextualDialogLockOnClick0.enableBehavior.bind(this.$ContextualDialogLockOnClick0,h),j);}};k.prototype.$ContextualDialogLockOnClick3=function(){"use strict";this.$ContextualDialogLockOnClick0.unlockHover();};k.prototype.$ContextualDialogLockOnClick4=function(){"use strict";this.$ContextualDialogLockOnClick0.lockHover();};k.prototype.$ContextualDialogLockOnClick5=function(){"use strict";this.$ContextualDialogLockOnClick0.lockHover();this.$ContextualDialogLockOnClick0.show();};e.exports=k;},null);
__d("PagesManagerSpringboardMetric.react",["ContextualDialogLockOnClick","ContextualLayerHideOnScroll","SpectrumIntegerScale","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnTransition","LayerHideOnBlur","LayerHideOnEscape","LayerRemoveOnHide","Link.react","React","ReactLayeredComponentMixin","Style","UIPagelet","Vector","XUIContextualDialog.react","XUISpinner.react","XUIText.react","cx","fbt","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba=q,ca=ba.PropTypes,da=30*1000,ea=300,fa=1e+06,ga=500,ha=25,ia=q.createClass({displayName:"PagesManagerSpringboardMetric",mixins:[r],propTypes:{adjustFlyoutPositionOnload:ca.bool,count:ca.number.isRequired,itemKey:ca.string.isRequired,flyoutWidth:ca.number,label:ca.string.isRequired,onFlyoutToggle:ca.func,pagelet:ca.object,hasFlyout:ca.bool,showFlyout:ca.bool,showCountAsPercentage:ca.bool},getDefaultProps:function(){return {hasFlyout:true};},getInitialState:function(){return {count:0};},componentDidMount:function(){this._onToggle(this.props.showFlyout);this._animateToNewCount(this.props.count);},componentWillReceiveProps:function(ja){if(ja.count!==this.props.count){this._expireCache();this._animateToNewCount(ja.count);}},render:function(){var ja;if(this.props.showCountAsPercentage){ja=this._convertCountToPercentage();}else{ja=Math.round(this.state.count);if(ja>=fa){ja=i().tickFormat()(ja);}else ja=i().tooltipFormat()(ja);}var ka;if(this.props.hasFlyout){ka=q.createElement(p,q.__spread({},this.props,{ref:"metric"}),q.createElement("span",{className:"_5vh0"},ja),q.createElement("span",{className:"_5vh1"},this.props.label));}else ka=q.createElement(x,{size:"medium",display:"block",ref:"metric"},q.createElement("span",{className:"_5vh0"},ja),q.createElement("span",{className:"_xep"},this.props.label));return (q.createElement("li",{className:"_5vg_"},ka));},renderLayers:function(){if(!this.props.hasFlyout)return null;return {metricsFlyout:q.createElement(v,{behaviors:{ContextualDialogLockOnClick:g,ContextualLayerHideOnScroll:h,LayerFadeOnHide:j,LayerFadeOnShow:k,LayerHideOnTransition:l,LayerHideOnBlur:m,LayerHideOnEscape:n,LayerRemoveOnHide:o},contextRef:"metric",hoverContext:this.refs.metric.getDOMNode(),hoverShowDelay:ea,onToggle:this._onToggle,position:"left",shown:this.props.showFlyout,width:this.props.flyoutWidth},q.createElement("div",{className:"_5x0l",ref:"flyout"},q.createElement("div",{className:"_5x0m"},q.createElement(w,{size:"large"}))))};},_expireCache:function(){this._cacheExpires=0;},_onToggle:function(ja){if(this.props.onFlyoutToggle)this.props.onFlyoutToggle(ja,this.props.itemKey);if(!this.props.hasFlyout)return;if(ja){var ka=Date.now();if(ka>(this._cacheExpires||0)){this._cacheExpires=ka+da;t.loadFromEndpoint(this.props.pagelet.name,this.refs.flyout.getDOMNode(),this.props.pagelet.data,this.props.adjustFlyoutPositionOnload?{handler:this._onFlyoutLoad}:null);}}},_onFlyoutLoad:function(){var ja=aa('pagesManagerSpringboard');if(!ja)return;var ka=u.getElementPosition(this.refs.metric.getDOMNode()),la=u.getElementPosition(ja),ma=ka.y-la.y,na=u.getElementDimensions(this.refs.flyout.getDOMNode()).y;if(ma<na)s.set(this.refs.flyout.getDOMNode().offsetParent,'top',-ma+'px');},_animateToNewCount:function(ja){var ka=ga/ha,la=ja-this.state.count,ma=la/ka,na=0,oa=setInterval(function(){if(++na>=ka){clearInterval(oa);return this.setState({count:ja});}var pa=this.state.count+ma;this.setState({count:pa});}.bind(this),ha);},_convertCountToPercentage:function(){return (z._("{percentage}\u0025",[z.param("percentage",Math.round(this.state.count*100))]));}});e.exports=ia;},null);
__d("PagesManagerSpringboard.react",["ApiClient","Arbiter","AsyncRequest","BizSiteIdentifier.brands","BoostedPagelikeConstants","BoostedActionType","CustomCTAConstants","CustomCTAUtils","CctaConfirmationDialog.react","d3/time/day","DOM","ge","HubbleApiWrapper","HubbleConstants","HubbleContext","InsightsUtils","MercuryPagesChannelHandler","PagesManagerSpringboardMetric.react","React","ReactLayeredComponentMixin","Run","tidyEvent","PureStoreBasedStateMixin","CctaStore","URI","cx","fbt","invariant","mapObject","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){var ka=y,la=ka.PropTypes,ma=['page_posts_impressions_unique','page_fan_adds_unique'],na=2*60*1000,oa=430,pa={ADS_RUNNING:'ads_running',CALL_TO_ACTION:'call_to_action',PAGE_LIKES:'page_likes',POST_REACH:'post_reach',QRCODE_SCANS:'qrcode_scans',NOTIFICATIONS:'notifications',MESSAGES:'messages',RESPONSE_RATE:'response_rate'};function qa(sa){var ta=0;if(sa)sa.forEach(function(ua){ta+=ua;});return ta;}var ra=y.createClass({displayName:"PagesManagerSpringboard",mixins:[ca(da),z],propTypes:{context:la.object,pageInfo:la.object.isRequired,canSeePageLikeAds:la.bool,canSeePagePostAds:la.bool,activePageLikeAds:la.number,activeBoostedPostAds:la.number,unreadNotifications:la.number,unreadMessages:la.number,callToActionClicks:la.number,callToActionPaidClicks:la.number,canSeeMessages:la.bool,canSeeInsights:la.bool,canSeeLabelFans:la.bool,initialCallToActionTypes:la.string,initalCanSeeCallToAction:la.bool,newLikesCount:la.number,qrId:la.number,qrScansCount:la.number,responseRate:la.number,canSeeResponseRate:la.bool},statics:{calculateState:function(){return {showConfirmation:da.getConfirmationDialog()};}},getInitialState:function(){var sa=ia(this.props.mostRecentTimes,function(va){return v.pacificSecondsToUTCDate(va);}),ta=new Date(Math.min(sa[t.PIPELINE_DAILY],sa[t.PIPELINE_WEEKLY])),ua=p.utc.offset(ta,-7);return {activeFlyoutKey:null,postReach:0,pageLikes:0,callToActionClicks:0,callToActionPaidClicks:0,CallToActionTypes:this.props.initialCallToActionTypes,canSeeCallToAction:this.props.initialCanSeeCallToAction,activePageLikeAds:this.props.activePageLikeAds||0,activeBoostedPostAds:this.props.activeBoostedPostAds||0,unreadNotifications:this.props.unreadNotifications||0,unreadMessages:this.props.unreadMessages||0,insightSince:ua,insightUntil:ta};},componentWillMount:function(){if(this.props.canSeeInsights){ha(this.props.context);g.setClientID(this.props.context.appID);g.setAccessToken(this.props.context.accessToken);u.setContext(this.props.context);this._gatherInsights();}if(this.props.canSeeMessages){var sa=r('pages_manager_flyout_messages');if(sa)q.remove(sa);w.getForFBID(this.props.pageInfo.id).turnOn();}var ta=ea.getRequestURI().getQueryData();if(ta.promoted_like)new i().setURI('/ajax/ads/boosted_pagelike/create.php').setData({pageid:this.props.pageInfo.id,ref:ta.ref}).send();this._cctaSubscription=da.subscribe('change',function(){if(da.isInitialized())this.setState({canSeeCallToAction:!!da.getData().cctaID,CallToActionTypes:da.getData().ctaType});}.bind(this));},componentDidMount:function(){if(this.props.canSeeInsights){var sa=setInterval(this._gatherInsights,na);aa.onLeave(function(){clearInterval(sa);});}if(this.props.canSeeMessages)ba(h.subscribe('pagesManagerMessaging/messageUnreadCountUpdated',function(ta,ua){this.setState({unreadMessages:ua.metricCount});}.bind(this)));if(this.props.canSeePageLikeAds)ba(h.subscribe(k.PANEL_STATUS_CHANGE_FINISH,function(ta,ua){var va=ua.active?1:0;if(this.state.activePageLikeAds!==va&&ua.action_type===l.PAGELIKE)this.setState({activeFlyoutKey:pa.PAGE_LIKES,activePageLikeAds:va});}.bind(this)));if(this.state.canSeeCallToAction)ba(h.subscribe(m.SHOW_FLYOUT,function(ta,ua){this.setState({activeFlyoutKey:pa.CALL_TO_ACTION});}.bind(this)));},renderLayers:function(){if(da.getConfirmationDialog())return (y.createElement(o,{createButton:this.refs.ctaSpringBoard,pageid:this.props.pageInfo.id}));},render:function(){return (y.createElement("div",{className:"_5vgz",id:"pagesManagerSpringboard"},this._renderThisWeekData(),this._renderUnread()));},_renderThisWeekData:function(){var sa=[];sa.push(this._renderAds());sa.push(this._renderNewLikes());sa.push(this._renderPostReach());sa.push(this._renderQRScans());sa.push(this._renderCallToAction());sa.push(this._renderResponseRate());if(!sa.length)return null;sa.unshift(y.createElement("div",{className:"_5vg-"},y.createElement("h4",null,"This week")));return sa;},_renderAds:function(){if(!this.props.showAdsRunning||(!this.props.canSeePageLikeAds&&!this.props.canSeePagePostAds))return null;var sa=(this.props.canSeePageLikeAds?this.state.activePageLikeAds:0)+(this.props.canSeePagePostAds?this.state.activeBoostedPostAds:0);return (y.createElement("ul",null,y.createElement(x,{itemKey:pa.ADS_RUNNING,showFlyout:this.state.activeFlyoutKey===pa.ADS_RUNNING,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardActiveAdsPagelet',data:{page_id:this.props.pageInfo.id,page_like_eligible:this.props.canSeePageLikeAds,page_post_eligible:this.props.canSeePagePostAds,active_boosted_post_ads:this.state.activeBoostedPostAds}},flyoutWidth:290,count:sa,label:ga._({"Ad":"Ad Running","Ads":"Ads Running"},[ga['enum'](this.state.activeAdCount===1?'Ad':'Ads',{Ad:"Ad",Ads:"Ads"})])})));},_renderNewLikes:function(){var sa=this.props.pageInfo,ta=this.props.canSeeLabelFans?372:290,ua=p.utc.offset(this.state.insightUntil,-1),va=0;if(this.props.canSeeInsights){va=this.state.pageLikes;}else va=this.props.newLikesCount;return (y.createElement("ul",null,y.createElement(x,{itemKey:pa.PAGE_LIKES,showFlyout:this.state.activeFlyoutKey===pa.PAGE_LIKES,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardNewLikesPagelet',data:{page_id:sa.id,count:va,width:ta,since:ja(this.state.insightSince,'m/d/Y',{utc:true}),until:ja(ua,'m/d/Y',{utc:true}),since_timestamp:v.dateToSeconds(this.state.insightSince)}},flyoutWidth:ta,count:va,label:ga._({"Like":"Page Like","Likes":"Page Likes"},[ga['enum'](this.state.pageLikes===1?'Like':'Likes',{Like:"Like",Likes:"Likes"})])})));},_renderPostReach:function(){if(!this.props.canSeeInsights)return null;var sa=this.props.pageInfo,ta=p.utc.offset(this.state.insightUntil,-1);return (y.createElement("ul",null,y.createElement(x,{itemKey:pa.POST_REACH,showFlyout:this.state.activeFlyoutKey===pa.POST_REACH,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardPostReachPagelet',data:{page_id:sa.id,context:this.props.context,since:ja(this.state.insightSince,'m/d/Y',{utc:true}),until:ja(ta,'m/d/Y',{utc:true})}},flyoutWidth:624,count:this.state.postReach,label:"Post Reach"})));},_renderQRScans:function(){if(!this.props.hasValidQRCode)return null;var sa=this.props.qrScansCount,ta=430,ua=p.utc.offset(this.state.insightUntil,-1);return (y.createElement("ul",null,y.createElement(x,{itemKey:pa.QRCODE_SCANS,showFlyout:this.state.activeFlyoutKey===pa.QRCODE_SCANS,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardQRScansPagelet',data:{page_id:this.props.pageInfo.id,qr_id:this.props.qrId,since:ja(this.state.insightSince,'m/d/Y',{utc:true}),since_timestamp:v.dateToSeconds(this.state.insightSince),until:ja(ua,'m/d/Y',{utc:true})}},flyoutWidth:ta,count:sa,label:ga._({"Scan":"QRCode Scan","Scans":"QRCode Scans"},[ga['enum'](sa===1?'Scan':'Scans',{Scan:"Scan",Scans:"Scans"})])})));},_renderCallToAction:function(){if(!this.state.canSeeCallToAction)return null;return (y.createElement("ul",null,y.createElement(x,{ref:"ctaSpringBoard",itemKey:pa.CALL_TO_ACTION,showFlyout:this.state.activeFlyoutKey===pa.CALL_TO_ACTION,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardCallToActionPagelet',data:{page_id:this.props.pageInfo.id}},count:this.props.callToActionClicks+this.props.callToActionPaidClicks,flyoutWidth:328,label:n.getCallToActionLabel(this.state.CallToActionTypes)})));},_renderResponseRate:function(){if(!this.props.canSeeResponseRate||this.props.responseRate===null)return null;return (y.createElement("ul",null,y.createElement(x,{itemKey:pa.RESPONSE_RATE,showFlyout:this.state.activeFlyoutKey===pa.RESPONSE_RATE,onFlyoutToggle:this._onFlyoutToggle,adjustFlyoutPositionOnload:true,pagelet:{name:'PagesManagerSpringboardMessagesPagelet',data:{business_id:j.getBusinessID(),page_id:this.props.pageInfo.id}},showCountAsPercentage:true,flyoutWidth:oa,count:this.props.responseRate,label:"Response Rate"})));},_renderUnread:function(){var sa=this.props.pageInfo,ta=this.state.unreadNotifications===1?'Notification':'Notifications',ua=this.state.unreadMessages===1?'Message':'Messages';return [y.createElement("div",{className:"_5vg-"},y.createElement("h4",null,"Unread")),y.createElement("ul",null,y.createElement(x,{itemKey:pa.NOTIFICATIONS,showFlyout:this.state.activeFlyoutKey===pa.NOTIFICATIONS,onFlyoutToggle:this._onFlyoutToggle,adjustFlyoutPositionOnload:true,pagelet:{name:'PagesManagerSpringboardNotificationsPagelet',data:{business_id:j.getBusinessID(),page_id:sa.id}},flyoutWidth:oa,count:this.state.unreadNotifications,label:ga._({"Notification":"Notification","Notifications":"Notifications"},[ga['enum'](ta,{Notification:"Notification",Notifications:"Notifications"})])}),(this.props.canSeeMessages)?y.createElement(x,{itemKey:pa.MESSAGES,showFlyout:this.state.activeFlyoutKey===pa.MESSAGES,onFlyoutToggle:this._onFlyoutToggle,adjustFlyoutPositionOnload:true,pagelet:{name:'PagesManagerSpringboardMessagesPagelet',data:{business_id:j.getBusinessID(),page_id:sa.id}},flyoutWidth:oa,count:this.state.unreadMessages,label:ga._({"Message":"Message","Messages":"Messages"},[ga['enum'](ua,{Message:"Message",Messages:"Messages"})])}):null)];},_gatherInsights:function(){s.getPageInsights({metric:ma,since:this.state.insightSince,until:this.state.insightUntil},this._handleNewData);},_handleNewData:function(sa){var ta=sa.values,ua=[this.state.pageLikes];if(ta.page_fan_adds_unique){var va=t.PERIOD_DAY;ua=ta.page_fan_adds_unique[va].slice(-7);}var wa=[this.state.postReach];if(ta.page_posts_impressions_unique){var xa=t.PERIOD_WEEK;wa=ta.page_posts_impressions_unique[xa].slice(6);}this.setState({pageLikes:qa(ua),postReach:qa(wa)});},_onFlyoutToggle:function(sa,ta){if(sa){this.setState({activeFlyoutKey:ta});}else if(this.state.activeFlyoutKey===ta)this.setState({activeFlyoutKey:null});}});e.exports=ra;},null);